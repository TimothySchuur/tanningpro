var L2=Object.defineProperty;var N2=(e,t,n)=>t in e?L2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>(N2(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bf(e,t){const n=new Set(e.split(","));return i=>n.has(i)}const Qt={},br=[],xn=()=>{},V2=()=>!1,au=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jf=e=>e.startsWith("onUpdate:"),Te=Object.assign,zf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},F2=Object.prototype.hasOwnProperty,Dt=(e,t)=>F2.call(e,t),mt=Array.isArray,wr=e=>Fa(e)==="[object Map]",Mv=e=>Fa(e)==="[object Set]",om=e=>Fa(e)==="[object Date]",It=e=>typeof e=="function",ve=e=>typeof e=="string",Si=e=>typeof e=="symbol",Xt=e=>e!==null&&typeof e=="object",Ov=e=>(Xt(e)||It(e))&&It(e.then)&&It(e.catch),Dv=Object.prototype.toString,Fa=e=>Dv.call(e),$2=e=>Fa(e).slice(8,-1),Lv=e=>Fa(e)==="[object Object]",Hf=e=>ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$o=Bf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},U2=/-(\w)/g,si=lu(e=>e.replace(U2,(t,n)=>n?n.toUpperCase():"")),B2=/\B([A-Z])/g,Qr=lu(e=>e.replace(B2,"-$1").toLowerCase()),cu=lu(e=>e.charAt(0).toUpperCase()+e.slice(1)),vh=lu(e=>e?`on${cu(e)}`:""),rs=(e,t)=>!Object.is(e,t),Yl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Nv=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},yd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let am;const Vv=()=>am||(am=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function at(e){if(mt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=ve(i)?W2(i):at(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(ve(e)||Xt(e))return e}const j2=/;(?![^(]*\))/g,z2=/:([^]+)/,H2=/\/\*[^]*?\*\//g;function W2(e){const t={};return e.replace(H2,"").split(j2).forEach(n=>{if(n){const i=n.split(z2);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Q(e){let t="";if(ve(e))t=e;else if(mt(e))for(let n=0;n<e.length;n++){const i=Q(e[n]);i&&(t+=i+" ")}else if(Xt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const q2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K2=Bf(q2);function Fv(e){return!!e||e===""}function G2(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=wc(e[i],t[i]);return n}function wc(e,t){if(e===t)return!0;let n=om(e),i=om(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Si(e),i=Si(t),n||i)return e===t;if(n=mt(e),i=mt(t),n||i)return n&&i?G2(e,t):!1;if(n=Xt(e),i=Xt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!wc(e[o],t[o]))return!1}}return String(e)===String(t)}const ot=e=>ve(e)?e:e==null?"":mt(e)||Xt(e)&&(e.toString===Dv||!It(e.toString))?JSON.stringify(e,$v,2):String(e),$v=(e,t)=>t&&t.__v_isRef?$v(e,t.value):wr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],r)=>(n[bh(i,r)+" =>"]=s,n),{})}:Mv(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>bh(n))}:Si(t)?bh(t):Xt(t)&&!mt(t)&&!Lv(t)?String(t):t,bh=(e,t="")=>{var n;return Si(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class Y2{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pn,!t&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Pn;try{return Pn=this,t()}finally{Pn=n}}}on(){Pn=this}off(){Pn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function X2(e,t=Pn){t&&t.active&&t.effects.push(e)}function Q2(){return Pn}let $s;class Wf{constructor(t,n,i,s){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,X2(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,gs();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(J2(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ms()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ji,n=$s;try{return Ji=!0,$s=this,this._runnings++,lm(this),this.fn()}finally{cm(this),this._runnings--,$s=n,Ji=t}}stop(){this.active&&(lm(this),cm(this),this.onStop&&this.onStop(),this.active=!1)}}function J2(e){return e.value}function lm(e){e._trackId++,e._depsLength=0}function cm(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Uv(e.deps[t],e);e.deps.length=e._depsLength}}function Uv(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Ji=!0,_d=0;const Bv=[];function gs(){Bv.push(Ji),Ji=!1}function ms(){const e=Bv.pop();Ji=e===void 0?!0:e}function qf(){_d++}function Kf(){for(_d--;!_d&&vd.length;)vd.shift()()}function jv(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&Uv(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const vd=[];function zv(e,t,n){qf();for(const i of e.keys()){let s;i._dirtyLevel<t&&(s??(s=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(s??(s=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&vd.push(i.scheduler)))}Kf()}const Hv=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},bd=new WeakMap,Us=Symbol(""),wd=Symbol("");function ln(e,t,n){if(Ji&&$s){let i=bd.get(e);i||bd.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Hv(()=>i.delete(n))),jv($s,s)}}function Ei(e,t,n,i,s,r){const o=bd.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&mt(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!Si(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":mt(e)?Hf(n)&&a.push(o.get("length")):(a.push(o.get(Us)),wr(e)&&a.push(o.get(wd)));break;case"delete":mt(e)||(a.push(o.get(Us)),wr(e)&&a.push(o.get(wd)));break;case"set":wr(e)&&a.push(o.get(Us));break}qf();for(const l of a)l&&zv(l,4);Kf()}const Z2=Bf("__proto__,__v_isRef,__isVue"),Wv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Si)),um=tk();function tk(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=$t(this);for(let r=0,o=this.length;r<o;r++)ln(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map($t)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gs(),qf();const i=$t(this)[t].apply(this,n);return Kf(),ms(),i}}),e}function ek(e){Si(e)||(e=String(e));const t=$t(this);return ln(t,"has",e),t.hasOwnProperty(e)}class qv{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?pk:Xv:r?Yv:Gv).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=mt(t);if(!s){if(o&&Dt(um,n))return Reflect.get(um,n,i);if(n==="hasOwnProperty")return ek}const a=Reflect.get(t,n,i);return(Si(n)?Wv.has(n):Z2(n))||(s||ln(t,"get",n),r)?a:cn(a)?o&&Hf(n)?a:a.value:Xt(a)?s?Jv(a):Mr(a):a}}class Kv extends qv{constructor(t=!1){super(!1,t)}set(t,n,i,s){let r=t[n];if(!this._isShallow){const l=ia(r);if(!xc(i)&&!ia(i)&&(r=$t(r),i=$t(i)),!mt(t)&&cn(r)&&!cn(i))return l?!1:(r.value=i,!0)}const o=mt(t)&&Hf(n)?Number(n)<t.length:Dt(t,n),a=Reflect.set(t,n,i,s);return t===$t(s)&&(o?rs(i,r)&&Ei(t,"set",n,i):Ei(t,"add",n,i)),a}deleteProperty(t,n){const i=Dt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Ei(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Si(n)||!Wv.has(n))&&ln(t,"has",n),i}ownKeys(t){return ln(t,"iterate",mt(t)?"length":Us),Reflect.ownKeys(t)}}class nk extends qv{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ik=new Kv,sk=new nk,rk=new Kv(!0);const Gf=e=>e,uu=e=>Reflect.getPrototypeOf(e);function yl(e,t,n=!1,i=!1){e=e.__v_raw;const s=$t(e),r=$t(t);n||(rs(t,r)&&ln(s,"get",t),ln(s,"get",r));const{has:o}=uu(s),a=i?Gf:n?Qf:sa;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function _l(e,t=!1){const n=this.__v_raw,i=$t(n),s=$t(e);return t||(rs(e,s)&&ln(i,"has",e),ln(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function vl(e,t=!1){return e=e.__v_raw,!t&&ln($t(e),"iterate",Us),Reflect.get(e,"size",e)}function hm(e){e=$t(e);const t=$t(this);return uu(t).has.call(t,e)||(t.add(e),Ei(t,"add",e,e)),this}function dm(e,t){t=$t(t);const n=$t(this),{has:i,get:s}=uu(n);let r=i.call(n,e);r||(e=$t(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?rs(t,o)&&Ei(n,"set",e,t):Ei(n,"add",e,t),this}function fm(e){const t=$t(this),{has:n,get:i}=uu(t);let s=n.call(t,e);s||(e=$t(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&Ei(t,"delete",e,void 0),r}function pm(){const e=$t(this),t=e.size!==0,n=e.clear();return t&&Ei(e,"clear",void 0,void 0),n}function bl(e,t){return function(i,s){const r=this,o=r.__v_raw,a=$t(o),l=t?Gf:e?Qf:sa;return!e&&ln(a,"iterate",Us),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function wl(e,t,n){return function(...i){const s=this.__v_raw,r=$t(s),o=wr(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?Gf:t?Qf:sa;return!t&&ln(r,"iterate",l?wd:Us),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Di(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ok(){const e={get(r){return yl(this,r)},get size(){return vl(this)},has:_l,add:hm,set:dm,delete:fm,clear:pm,forEach:bl(!1,!1)},t={get(r){return yl(this,r,!1,!0)},get size(){return vl(this)},has:_l,add:hm,set:dm,delete:fm,clear:pm,forEach:bl(!1,!0)},n={get(r){return yl(this,r,!0)},get size(){return vl(this,!0)},has(r){return _l.call(this,r,!0)},add:Di("add"),set:Di("set"),delete:Di("delete"),clear:Di("clear"),forEach:bl(!0,!1)},i={get(r){return yl(this,r,!0,!0)},get size(){return vl(this,!0)},has(r){return _l.call(this,r,!0)},add:Di("add"),set:Di("set"),delete:Di("delete"),clear:Di("clear"),forEach:bl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=wl(r,!1,!1),n[r]=wl(r,!0,!1),t[r]=wl(r,!1,!0),i[r]=wl(r,!0,!0)}),[e,n,t,i]}const[ak,lk,ck,uk]=ok();function Yf(e,t){const n=t?e?uk:ck:e?lk:ak;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Dt(n,s)&&s in i?n:i,s,r)}const hk={get:Yf(!1,!1)},dk={get:Yf(!1,!0)},fk={get:Yf(!0,!1)};const Gv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,pk=new WeakMap;function gk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mk(e){return e.__v_skip||!Object.isExtensible(e)?0:gk($2(e))}function Mr(e){return ia(e)?e:Xf(e,!1,ik,hk,Gv)}function Qv(e){return Xf(e,!1,rk,dk,Yv)}function Jv(e){return Xf(e,!0,sk,fk,Xv)}function Xf(e,t,n,i,s){if(!Xt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=mk(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function Uo(e){return ia(e)?Uo(e.__v_raw):!!(e&&e.__v_isReactive)}function ia(e){return!!(e&&e.__v_isReadonly)}function xc(e){return!!(e&&e.__v_isShallow)}function Zv(e){return e?!!e.__v_raw:!1}function $t(e){const t=e&&e.__v_raw;return t?$t(t):e}function yk(e){return Object.isExtensible(e)&&Nv(e,"__v_skip",!0),e}const sa=e=>Xt(e)?Mr(e):e,Qf=e=>Xt(e)?Jv(e):e;class tb{constructor(t,n,i,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Wf(()=>t(this._value),()=>Xl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=$t(this);return(!t._cacheable||t.effect.dirty)&&rs(t._value,t._value=t.effect.run())&&Xl(t,4),eb(t),t.effect._dirtyLevel>=2&&Xl(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function _k(e,t,n=!1){let i,s;const r=It(e);return r?(i=e,s=xn):(i=e.get,s=e.set),new tb(i,s,r||!s,n)}function eb(e){var t;Ji&&$s&&(e=$t(e),jv($s,(t=e.dep)!=null?t:e.dep=Hv(()=>e.dep=void 0,e instanceof tb?e:void 0)))}function Xl(e,t=4,n){e=$t(e);const i=e.dep;i&&zv(i,t)}function cn(e){return!!(e&&e.__v_isRef===!0)}function V(e){return ib(e,!1)}function nb(e){return ib(e,!0)}function ib(e,t){return cn(e)?e:new vk(e,t)}class vk{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:$t(t),this._value=n?t:sa(t)}get value(){return eb(this),this._value}set value(t){const n=this.__v_isShallow||xc(t)||ia(t);t=n?t:$t(t),rs(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:sa(t),Xl(this,4))}}function Xe(e){return cn(e)?e.value:e}const bk={get:(e,t,n)=>Xe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return cn(s)&&!cn(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function sb(e){return Uo(e)?e:new Proxy(e,bk)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zi(e,t,n,i){try{return i?e(...i):e()}catch(s){hu(s,t,n)}}function On(e,t,n,i){if(It(e)){const s=Zi(e,t,n,i);return s&&Ov(s)&&s.catch(r=>{hu(r,t,n)}),s}if(mt(e)){const s=[];for(let r=0;r<e.length;r++)s.push(On(e[r],t,n,i));return s}}function hu(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){gs(),Zi(l,null,10,[e,o,a]),ms();return}}wk(e,n,s,i)}function wk(e,t,n,i=!0){console.error(e)}let ra=!1,xd=!1;const Fe=[];let Kn=0;const xr=[];let $i=null,Cs=0;const rb=Promise.resolve();let Jf=null;function ob(e){const t=Jf||rb;return e?t.then(this?e.bind(this):e):t}function xk(e){let t=Kn+1,n=Fe.length;for(;t<n;){const i=t+n>>>1,s=Fe[i],r=oa(s);r<e||r===e&&s.pre?t=i+1:n=i}return t}function Zf(e){(!Fe.length||!Fe.includes(e,ra&&e.allowRecurse?Kn+1:Kn))&&(e.id==null?Fe.push(e):Fe.splice(xk(e.id),0,e),ab())}function ab(){!ra&&!xd&&(xd=!0,Jf=rb.then(cb))}function Ek(e){const t=Fe.indexOf(e);t>Kn&&Fe.splice(t,1)}function Tk(e){mt(e)?xr.push(...e):(!$i||!$i.includes(e,e.allowRecurse?Cs+1:Cs))&&xr.push(e),ab()}function gm(e,t,n=ra?Kn+1:0){for(;n<Fe.length;n++){const i=Fe[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;Fe.splice(n,1),n--,i()}}}function lb(e){if(xr.length){const t=[...new Set(xr)].sort((n,i)=>oa(n)-oa(i));if(xr.length=0,$i){$i.push(...t);return}for($i=t,Cs=0;Cs<$i.length;Cs++)$i[Cs]();$i=null,Cs=0}}const oa=e=>e.id==null?1/0:e.id,kk=(e,t)=>{const n=oa(e)-oa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function cb(e){xd=!1,ra=!0,Fe.sort(kk);try{for(Kn=0;Kn<Fe.length;Kn++){const t=Fe[Kn];t&&t.active!==!1&&Zi(t,null,14)}}finally{Kn=0,Fe.length=0,lb(),ra=!1,Jf=null,(Fe.length||xr.length)&&cb()}}function Ik(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Qt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=i[u]||Qt;d&&(s=n.map(f=>ve(f)?f.trim():f)),h&&(s=n.map(yd))}let a,l=i[a=vh(t)]||i[a=vh(si(t))];!l&&r&&(l=i[a=vh(Qr(t))]),l&&On(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,On(c,e,6,s)}}function ub(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!It(e)){const l=c=>{const u=ub(c,t,!0);u&&(a=!0,Te(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Xt(e)&&i.set(e,null),null):(mt(r)?r.forEach(l=>o[l]=null):Te(o,r),Xt(e)&&i.set(e,o),o)}function du(e,t){return!e||!au(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dt(e,t[0].toLowerCase()+t.slice(1))||Dt(e,Qr(t))||Dt(e,t))}let on=null,fu=null;function Ec(e){const t=on;return on=e,fu=e&&e.type.__scopeId||null,t}function We(e){fu=e}function qe(){fu=null}function ye(e,t=on,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Im(-1);const r=Ec(t);let o;try{o=e(...s)}finally{Ec(r),i._d&&Im(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function wh(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=e,_=Ec(e);let m,b;try{if(n.shapeFlag&4){const v=s||i,w=v;m=qn(c.call(w,v,u,h,f,d,p)),b=a}else{const v=t;m=qn(v.length>1?v(h,{attrs:a,slots:o,emit:l}):v(h,null)),b=t.props?a:Sk(a)}}catch(v){zo.length=0,hu(v,e,1),m=Z(Hs)}let x=m;if(b&&g!==!1){const v=Object.keys(b),{shapeFlag:w}=x;v.length&&w&7&&(r&&v.some(jf)&&(b=Ak(b,r)),x=Or(x,b,!1,!0))}return n.dirs&&(x=Or(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),m=x,Ec(_),m}const Sk=e=>{let t;for(const n in e)(n==="class"||n==="style"||au(n))&&((t||(t={}))[n]=e[n]);return t},Ak=(e,t)=>{const n={};for(const i in e)(!jf(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Pk(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?mm(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!du(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?mm(i,o,c):!0:!!o;return!1}function mm(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!du(n,r))return!0}return!1}function Ck({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Rk="components";function Ee(e,t){return Ok(Rk,e,!0,t)||e}const Mk=Symbol.for("v-ndc");function Ok(e,t,n=!0,i=!1){const s=on||$e;if(s){const r=s.type;{const a=TI(r,!1);if(a&&(a===t||a===si(t)||a===cu(si(t))))return r}const o=ym(s[e]||r[e],t)||ym(s.appContext[e],t);return!o&&i?r:o}}function ym(e,t){return e&&(e[t]||e[si(t)]||e[cu(si(t))])}const Dk=e=>e.__isSuspense;function Lk(e,t){t&&t.pendingBranch?mt(e)?t.effects.push(...e):t.effects.push(e):Tk(e)}const Nk=Symbol.for("v-scx"),Vk=()=>Ln(Nk),xl={};function Dn(e,t,n){return hb(e,t,n)}function hb(e,t,{immediate:n,deep:i,flush:s,once:r,onTrack:o,onTrigger:a}=Qt){if(t&&r){const P=t;t=(...O)=>{P(...O),w()}}const l=$e,c=P=>i===!0?P:Ms(P,i===!1?1:void 0);let u,h=!1,d=!1;if(cn(e)?(u=()=>e.value,h=xc(e)):Uo(e)?(u=()=>c(e),h=!0):mt(e)?(d=!0,h=e.some(P=>Uo(P)||xc(P)),u=()=>e.map(P=>{if(cn(P))return P.value;if(Uo(P))return c(P);if(It(P))return Zi(P,l,2)})):It(e)?t?u=()=>Zi(e,l,2):u=()=>(f&&f(),On(e,l,3,[p])):u=xn,t&&i){const P=u;u=()=>Ms(P())}let f,p=P=>{f=x.onStop=()=>{Zi(P,l,4),f=x.onStop=void 0}},g;if(yu)if(p=xn,t?n&&On(t,l,3,[u(),d?[]:void 0,p]):u(),s==="sync"){const P=Vk();g=P.__watcherHandles||(P.__watcherHandles=[])}else return xn;let _=d?new Array(e.length).fill(xl):xl;const m=()=>{if(!(!x.active||!x.dirty))if(t){const P=x.run();(i||h||(d?P.some((O,k)=>rs(O,_[k])):rs(P,_)))&&(f&&f(),On(t,l,3,[P,_===xl?void 0:d&&_[0]===xl?[]:_,p]),_=P)}else x.run()};m.allowRecurse=!!t;let b;s==="sync"?b=m:s==="post"?b=()=>sn(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),b=()=>Zf(m));const x=new Wf(u,xn,b),v=Q2(),w=()=>{x.stop(),v&&zf(v.effects,x)};return t?n?m():_=x.run():s==="post"?sn(x.run.bind(x),l&&l.suspense):x.run(),g&&g.push(w),w}function Fk(e,t,n){const i=this.proxy,s=ve(e)?e.includes(".")?db(i,e):()=>i[e]:e.bind(i,i);let r;It(t)?r=t:(r=t.handler,n=t);const o=$a(this),a=hb(s,r.bind(i),n);return o(),a}function db(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Ms(e,t=1/0,n){if(t<=0||!Xt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,cn(e))Ms(e.value,t,n);else if(mt(e))for(let i=0;i<e.length;i++)Ms(e[i],t,n);else if(Mv(e)||wr(e))e.forEach(i=>{Ms(i,t,n)});else if(Lv(e))for(const i in e)Ms(e[i],t,n);return e}function it(e,t){if(on===null)return e;const n=_u(on)||on.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,o,a,l=Qt]=t[s];r&&(It(r)&&(r={mounted:r,updated:r}),r.deep&&Ms(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function xs(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(gs(),On(l,n,8,[e.el,a,e,t]),ms())}}/*! #__NO_SIDE_EFFECTS__ */function fb(e,t){return It(e)?Te({name:e.name},t,{setup:e}):e}const Ql=e=>!!e.type.__asyncLoader,pb=e=>e.type.__isKeepAlive;function $k(e,t){gb(e,"a",t)}function Uk(e,t){gb(e,"da",t)}function gb(e,t,n=$e){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(pu(t,i,n),n){let s=n.parent;for(;s&&s.parent;)pb(s.parent.vnode)&&Bk(i,t,n,s),s=s.parent}}function Bk(e,t,n,i){const s=pu(t,e,i,!0);yb(()=>{zf(i[t],s)},n)}function pu(e,t,n=$e,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;gs();const a=$a(n),l=On(t,n,e,o);return a(),ms(),l});return i?s.unshift(r):s.push(r),r}}const Mi=e=>(t,n=$e)=>(!yu||e==="sp")&&pu(e,(...i)=>t(...i),n),mb=Mi("bm"),gn=Mi("m"),jk=Mi("bu"),zk=Mi("u"),Hk=Mi("bum"),yb=Mi("um"),Wk=Mi("sp"),qk=Mi("rtg"),Kk=Mi("rtc");function Gk(e,t=$e){pu("ec",e,t)}function Tc(e,t,n,i){let s;const r=n;if(mt(e)||ve(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r)}else if(Xt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r)}}else s=[];return s}const Ed=e=>e?Mb(e)?_u(e)||e.proxy:Ed(e.parent):null,Bo=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ed(e.parent),$root:e=>Ed(e.root),$emit:e=>e.emit,$options:e=>tp(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Zf(e.update)}),$nextTick:e=>e.n||(e.n=ob.bind(e.proxy)),$watch:e=>Fk.bind(e)}),xh=(e,t)=>e!==Qt&&!e.__isScriptSetup&&Dt(e,t),Yk={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(xh(i,t))return o[t]=1,i[t];if(s!==Qt&&Dt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Dt(c,t))return o[t]=3,r[t];if(n!==Qt&&Dt(n,t))return o[t]=4,n[t];Td&&(o[t]=0)}}const u=Bo[t];let h,d;if(u)return t==="$attrs"&&ln(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Qt&&Dt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Dt(d,t))return d[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return xh(s,t)?(s[t]=n,!0):i!==Qt&&Dt(i,t)?(i[t]=n,!0):Dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Qt&&Dt(e,o)||xh(t,o)||(a=r[0])&&Dt(a,o)||Dt(i,o)||Dt(Bo,o)||Dt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _m(e){return mt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Td=!0;function Xk(e){const t=tp(e),n=e.proxy,i=e.ctx;Td=!1,t.beforeCreate&&vm(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:_,beforeDestroy:m,beforeUnmount:b,destroyed:x,unmounted:v,render:w,renderTracked:P,renderTriggered:O,errorCaptured:k,serverPrefetch:A,expose:C,inheritAttrs:R,components:j,directives:q,filters:_t}=t;if(c&&Qk(c,i,null),o)for(const ht in o){const vt=o[ht];It(vt)&&(i[ht]=vt.bind(n))}if(s){const ht=s.call(n,n);Xt(ht)&&(e.data=Mr(ht))}if(Td=!0,r)for(const ht in r){const vt=r[ht],Kt=It(vt)?vt.bind(n,n):It(vt.get)?vt.get.bind(n,n):xn,Ke=!It(vt)&&It(vt.set)?vt.set.bind(n):xn,Ge=Cn({get:Kt,set:Ke});Object.defineProperty(i,ht,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:ue=>Ge.value=ue})}if(a)for(const ht in a)_b(a[ht],i,n,ht);if(l){const ht=It(l)?l.call(n):l;Reflect.ownKeys(ht).forEach(vt=>{Jl(vt,ht[vt])})}u&&vm(u,e,"c");function ut(ht,vt){mt(vt)?vt.forEach(Kt=>ht(Kt.bind(n))):vt&&ht(vt.bind(n))}if(ut(mb,h),ut(gn,d),ut(jk,f),ut(zk,p),ut($k,g),ut(Uk,_),ut(Gk,k),ut(Kk,P),ut(qk,O),ut(Hk,b),ut(yb,v),ut(Wk,A),mt(C))if(C.length){const ht=e.exposed||(e.exposed={});C.forEach(vt=>{Object.defineProperty(ht,vt,{get:()=>n[vt],set:Kt=>n[vt]=Kt})})}else e.exposed||(e.exposed={});w&&e.render===xn&&(e.render=w),R!=null&&(e.inheritAttrs=R),j&&(e.components=j),q&&(e.directives=q)}function Qk(e,t,n=xn){mt(e)&&(e=kd(e));for(const i in e){const s=e[i];let r;Xt(s)?"default"in s?r=Ln(s.from||i,s.default,!0):r=Ln(s.from||i):r=Ln(s),cn(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function vm(e,t,n){On(mt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function _b(e,t,n,i){const s=i.includes(".")?db(n,i):()=>n[i];if(ve(e)){const r=t[e];It(r)&&Dn(s,r)}else if(It(e))Dn(s,e.bind(n));else if(Xt(e))if(mt(e))e.forEach(r=>_b(r,t,n,i));else{const r=It(e.handler)?e.handler.bind(n):t[e.handler];It(r)&&Dn(s,r,e)}}function tp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>kc(l,c,o,!0)),kc(l,t,o)),Xt(t)&&r.set(t,l),l}function kc(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&kc(e,r,n,!0),s&&s.forEach(o=>kc(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=Jk[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Jk={data:bm,props:wm,emits:wm,methods:ko,computed:ko,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:ko,directives:ko,watch:tI,provide:bm,inject:Zk};function bm(e,t){return t?e?function(){return Te(It(e)?e.call(this,this):e,It(t)?t.call(this,this):t)}:t:e}function Zk(e,t){return ko(kd(e),kd(t))}function kd(e){if(mt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function ko(e,t){return e?Te(Object.create(null),e,t):t}function wm(e,t){return e?mt(e)&&mt(t)?[...new Set([...e,...t])]:Te(Object.create(null),_m(e),_m(t??{})):t}function tI(e,t){if(!e)return t;if(!t)return e;const n=Te(Object.create(null),e);for(const i in t)n[i]=Ye(e[i],t[i]);return n}function vb(){return{app:null,config:{isNativeTag:V2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eI=0;function nI(e,t){return function(i,s=null){It(i)||(i=Te({},i)),s!=null&&!Xt(s)&&(s=null);const r=vb(),o=new WeakSet;let a=!1;const l=r.app={_uid:eI++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:II,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&It(c.install)?(o.add(c),c.install(l,...u)):It(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const d=Z(i,s);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(d,c):e(d,c,h),a=!0,l._container=c,c.__vue_app__=l,_u(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=jo;jo=l;try{return c()}finally{jo=u}}};return l}}let jo=null;function Jl(e,t){if($e){let n=$e.provides;const i=$e.parent&&$e.parent.provides;i===n&&(n=$e.provides=Object.create(i)),n[e]=t}}function Ln(e,t,n=!1){const i=$e||on;if(i||jo){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:jo._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&It(t)?t.call(i&&i.proxy):t}}const bb={},wb=()=>Object.create(bb),xb=e=>Object.getPrototypeOf(e)===bb;function iI(e,t,n,i=!1){const s={},r=wb();e.propsDefaults=Object.create(null),Eb(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:Qv(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function sI(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=$t(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(du(e.emitsOptions,d))continue;const f=t[d];if(l)if(Dt(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const p=si(d);s[p]=Id(l,a,p,f,e,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{Eb(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!Dt(t,h)&&((u=Qr(h))===h||!Dt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Id(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!Dt(t,h))&&(delete r[h],c=!0)}c&&Ei(e.attrs,"set","")}function Eb(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if($o(l))continue;const c=t[l];let u;s&&Dt(s,u=si(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:du(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=$t(n),c=a||Qt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Id(s,l,h,c[h],e,!Dt(c,h))}}return o}function Id(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=Dt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&It(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=$a(s);i=c[n]=l.call(null,t),u()}}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Qr(n))&&(i=!0))}return i}function Tb(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!It(e)){const u=h=>{l=!0;const[d,f]=Tb(h,t,!0);Te(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Xt(e)&&i.set(e,br),br;if(mt(r))for(let u=0;u<r.length;u++){const h=si(r[u]);xm(h)&&(o[h]=Qt)}else if(r)for(const u in r){const h=si(u);if(xm(h)){const d=r[u],f=o[h]=mt(d)||It(d)?{type:d}:Te({},d);if(f){const p=km(Boolean,f.type),g=km(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||Dt(f,"default"))&&a.push(h)}}}const c=[o,a];return Xt(e)&&i.set(e,c),c}function xm(e){return e[0]!=="$"&&!$o(e)}function Em(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Tm(e,t){return Em(e)===Em(t)}function km(e,t){return mt(t)?t.findIndex(n=>Tm(n,e)):It(t)&&Tm(t,e)?0:-1}const kb=e=>e[0]==="_"||e==="$stable",ep=e=>mt(e)?e.map(qn):[qn(e)],rI=(e,t,n)=>{if(t._n)return t;const i=ye((...s)=>ep(t(...s)),n);return i._c=!1,i},Ib=(e,t,n)=>{const i=e._ctx;for(const s in e){if(kb(s))continue;const r=e[s];if(It(r))t[s]=rI(s,r,i);else if(r!=null){const o=ep(r);t[s]=()=>o}}},Sb=(e,t)=>{const n=ep(t);e.slots.default=()=>n},oI=(e,t)=>{const n=e.slots=wb();if(e.vnode.shapeFlag&32){const i=t._;i?(Te(n,t),Nv(n,"_",i,!0)):Ib(t,n)}else t&&Sb(e,t)},aI=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Qt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(Te(s,t),!n&&a===1&&delete s._):(r=!t.$stable,Ib(t,s)),o=t}else t&&(Sb(e,t),o={default:1});if(r)for(const a in s)!kb(a)&&o[a]==null&&delete s[a]};function Sd(e,t,n,i,s=!1){if(mt(e)){e.forEach((d,f)=>Sd(d,t&&(mt(t)?t[f]:t),n,i,s));return}if(Ql(i)&&!s)return;const r=i.shapeFlag&4?_u(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Qt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(ve(c)?(u[c]=null,Dt(h,c)&&(h[c]=null)):cn(c)&&(c.value=null)),It(l))Zi(l,a,12,[o,u]);else{const d=ve(l),f=cn(l);if(d||f){const p=()=>{if(e.f){const g=d?Dt(h,l)?h[l]:u[l]:l.value;s?mt(g)&&zf(g,r):mt(g)?g.includes(r)||g.push(r):d?(u[l]=[r],Dt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else d?(u[l]=o,Dt(h,l)&&(h[l]=o)):f&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,sn(p,n)):p()}}}const sn=Lk;function lI(e){return cI(e)}function cI(e,t){const n=Vv();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=xn,insertStaticContent:p}=e,g=(E,T,M,F=null,D=null,H=null,X=void 0,z=null,K=!!T.dynamicChildren)=>{if(E===T)return;E&&!po(E,T)&&(F=N(E),ue(E,D,H,!0),E=null),T.patchFlag===-2&&(K=!1,T.dynamicChildren=null);const{type:U,ref:et,shapeFlag:dt}=T;switch(U){case gu:_(E,T,M,F);break;case Hs:m(E,T,M,F);break;case Zl:E==null&&b(T,M,F,X);break;case Jt:j(E,T,M,F,D,H,X,z,K);break;default:dt&1?w(E,T,M,F,D,H,X,z,K):dt&6?q(E,T,M,F,D,H,X,z,K):(dt&64||dt&128)&&U.process(E,T,M,F,D,H,X,z,K,rt)}et!=null&&D&&Sd(et,E&&E.ref,H,T||E,!T)},_=(E,T,M,F)=>{if(E==null)i(T.el=a(T.children),M,F);else{const D=T.el=E.el;T.children!==E.children&&c(D,T.children)}},m=(E,T,M,F)=>{E==null?i(T.el=l(T.children||""),M,F):T.el=E.el},b=(E,T,M,F)=>{[E.el,E.anchor]=p(E.children,T,M,F,E.el,E.anchor)},x=({el:E,anchor:T},M,F)=>{let D;for(;E&&E!==T;)D=d(E),i(E,M,F),E=D;i(T,M,F)},v=({el:E,anchor:T})=>{let M;for(;E&&E!==T;)M=d(E),s(E),E=M;s(T)},w=(E,T,M,F,D,H,X,z,K)=>{T.type==="svg"?X="svg":T.type==="math"&&(X="mathml"),E==null?P(T,M,F,D,H,X,z,K):A(E,T,D,H,X,z,K)},P=(E,T,M,F,D,H,X,z)=>{let K,U;const{props:et,shapeFlag:dt,transition:lt,dirs:Et}=E;if(K=E.el=o(E.type,H,et&&et.is,et),dt&8?u(K,E.children):dt&16&&k(E.children,K,null,F,D,Eh(E,H),X,z),Et&&xs(E,null,F,"created"),O(K,E,E.scopeId,X,F),et){for(const Wt in et)Wt!=="value"&&!$o(Wt)&&r(K,Wt,null,et[Wt],H,E.children,F,D,ee);"value"in et&&r(K,"value",null,et.value,H),(U=et.onVnodeBeforeMount)&&zn(U,F,E)}Et&&xs(E,null,F,"beforeMount");const At=uI(D,lt);At&&lt.beforeEnter(K),i(K,T,M),((U=et&&et.onVnodeMounted)||At||Et)&&sn(()=>{U&&zn(U,F,E),At&&lt.enter(K),Et&&xs(E,null,F,"mounted")},D)},O=(E,T,M,F,D)=>{if(M&&f(E,M),F)for(let H=0;H<F.length;H++)f(E,F[H]);if(D){let H=D.subTree;if(T===H){const X=D.vnode;O(E,X,X.scopeId,X.slotScopeIds,D.parent)}}},k=(E,T,M,F,D,H,X,z,K=0)=>{for(let U=K;U<E.length;U++){const et=E[U]=z?Ui(E[U]):qn(E[U]);g(null,et,T,M,F,D,H,X,z)}},A=(E,T,M,F,D,H,X)=>{const z=T.el=E.el;let{patchFlag:K,dynamicChildren:U,dirs:et}=T;K|=E.patchFlag&16;const dt=E.props||Qt,lt=T.props||Qt;let Et;if(M&&Es(M,!1),(Et=lt.onVnodeBeforeUpdate)&&zn(Et,M,T,E),et&&xs(T,E,M,"beforeUpdate"),M&&Es(M,!0),U?C(E.dynamicChildren,U,z,M,F,Eh(T,D),H):X||vt(E,T,z,null,M,F,Eh(T,D),H,!1),K>0){if(K&16)R(z,T,dt,lt,M,F,D);else if(K&2&&dt.class!==lt.class&&r(z,"class",null,lt.class,D),K&4&&r(z,"style",dt.style,lt.style,D),K&8){const At=T.dynamicProps;for(let Wt=0;Wt<At.length;Wt++){const ne=At[Wt],be=dt[ne],An=lt[ne];(An!==be||ne==="value")&&r(z,ne,be,An,D,E.children,M,F,ee)}}K&1&&E.children!==T.children&&u(z,T.children)}else!X&&U==null&&R(z,T,dt,lt,M,F,D);((Et=lt.onVnodeUpdated)||et)&&sn(()=>{Et&&zn(Et,M,T,E),et&&xs(T,E,M,"updated")},F)},C=(E,T,M,F,D,H,X)=>{for(let z=0;z<T.length;z++){const K=E[z],U=T[z],et=K.el&&(K.type===Jt||!po(K,U)||K.shapeFlag&70)?h(K.el):M;g(K,U,et,null,F,D,H,X,!0)}},R=(E,T,M,F,D,H,X)=>{if(M!==F){if(M!==Qt)for(const z in M)!$o(z)&&!(z in F)&&r(E,z,M[z],null,X,T.children,D,H,ee);for(const z in F){if($o(z))continue;const K=F[z],U=M[z];K!==U&&z!=="value"&&r(E,z,U,K,X,T.children,D,H,ee)}"value"in F&&r(E,"value",M.value,F.value,X)}},j=(E,T,M,F,D,H,X,z,K)=>{const U=T.el=E?E.el:a(""),et=T.anchor=E?E.anchor:a("");let{patchFlag:dt,dynamicChildren:lt,slotScopeIds:Et}=T;Et&&(z=z?z.concat(Et):Et),E==null?(i(U,M,F),i(et,M,F),k(T.children||[],M,et,D,H,X,z,K)):dt>0&&dt&64&&lt&&E.dynamicChildren?(C(E.dynamicChildren,lt,M,D,H,X,z),(T.key!=null||D&&T===D.subTree)&&Ab(E,T,!0)):vt(E,T,M,et,D,H,X,z,K)},q=(E,T,M,F,D,H,X,z,K)=>{T.slotScopeIds=z,E==null?T.shapeFlag&512?D.ctx.activate(T,M,F,X,K):_t(T,M,F,D,H,X,K):st(E,T,K)},_t=(E,T,M,F,D,H,X)=>{const z=E.component=vI(E,F,D);if(pb(E)&&(z.ctx.renderer=rt),bI(z),z.asyncDep){if(D&&D.registerDep(z,ut),!E.el){const K=z.subTree=Z(Hs);m(null,K,T,M)}}else ut(z,E,T,M,D,H,X)},st=(E,T,M)=>{const F=T.component=E.component;if(Pk(E,T,M))if(F.asyncDep&&!F.asyncResolved){ht(F,T,M);return}else F.next=T,Ek(F.update),F.effect.dirty=!0,F.update();else T.el=E.el,F.vnode=T},ut=(E,T,M,F,D,H,X)=>{const z=()=>{if(E.isMounted){let{next:et,bu:dt,u:lt,parent:Et,vnode:At}=E;{const ur=Pb(E);if(ur){et&&(et.el=At.el,ht(E,et,X)),ur.asyncDep.then(()=>{E.isUnmounted||z()});return}}let Wt=et,ne;Es(E,!1),et?(et.el=At.el,ht(E,et,X)):et=At,dt&&Yl(dt),(ne=et.props&&et.props.onVnodeBeforeUpdate)&&zn(ne,Et,et,At),Es(E,!0);const be=wh(E),An=E.subTree;E.subTree=be,g(An,be,h(An.el),N(An),E,D,H),et.el=be.el,Wt===null&&Ck(E,be.el),lt&&sn(lt,D),(ne=et.props&&et.props.onVnodeUpdated)&&sn(()=>zn(ne,Et,et,At),D)}else{let et;const{el:dt,props:lt}=T,{bm:Et,m:At,parent:Wt}=E,ne=Ql(T);if(Es(E,!1),Et&&Yl(Et),!ne&&(et=lt&&lt.onVnodeBeforeMount)&&zn(et,Wt,T),Es(E,!0),dt&&se){const be=()=>{E.subTree=wh(E),se(dt,E.subTree,E,D,null)};ne?T.type.__asyncLoader().then(()=>!E.isUnmounted&&be()):be()}else{const be=E.subTree=wh(E);g(null,be,M,F,E,D,H),T.el=be.el}if(At&&sn(At,D),!ne&&(et=lt&&lt.onVnodeMounted)){const be=T;sn(()=>zn(et,Wt,be),D)}(T.shapeFlag&256||Wt&&Ql(Wt.vnode)&&Wt.vnode.shapeFlag&256)&&E.a&&sn(E.a,D),E.isMounted=!0,T=M=F=null}},K=E.effect=new Wf(z,xn,()=>Zf(U),E.scope),U=E.update=()=>{K.dirty&&K.run()};U.id=E.uid,Es(E,!0),U()},ht=(E,T,M)=>{T.component=E;const F=E.vnode.props;E.vnode=T,E.next=null,sI(E,T.props,F,M),aI(E,T.children,M),gs(),gm(E),ms()},vt=(E,T,M,F,D,H,X,z,K=!1)=>{const U=E&&E.children,et=E?E.shapeFlag:0,dt=T.children,{patchFlag:lt,shapeFlag:Et}=T;if(lt>0){if(lt&128){Ke(U,dt,M,F,D,H,X,z,K);return}else if(lt&256){Kt(U,dt,M,F,D,H,X,z,K);return}}Et&8?(et&16&&ee(U,D,H),dt!==U&&u(M,dt)):et&16?Et&16?Ke(U,dt,M,F,D,H,X,z,K):ee(U,D,H,!0):(et&8&&u(M,""),Et&16&&k(dt,M,F,D,H,X,z,K))},Kt=(E,T,M,F,D,H,X,z,K)=>{E=E||br,T=T||br;const U=E.length,et=T.length,dt=Math.min(U,et);let lt;for(lt=0;lt<dt;lt++){const Et=T[lt]=K?Ui(T[lt]):qn(T[lt]);g(E[lt],Et,M,null,D,H,X,z,K)}U>et?ee(E,D,H,!0,!1,dt):k(T,M,F,D,H,X,z,K,dt)},Ke=(E,T,M,F,D,H,X,z,K)=>{let U=0;const et=T.length;let dt=E.length-1,lt=et-1;for(;U<=dt&&U<=lt;){const Et=E[U],At=T[U]=K?Ui(T[U]):qn(T[U]);if(po(Et,At))g(Et,At,M,null,D,H,X,z,K);else break;U++}for(;U<=dt&&U<=lt;){const Et=E[dt],At=T[lt]=K?Ui(T[lt]):qn(T[lt]);if(po(Et,At))g(Et,At,M,null,D,H,X,z,K);else break;dt--,lt--}if(U>dt){if(U<=lt){const Et=lt+1,At=Et<et?T[Et].el:F;for(;U<=lt;)g(null,T[U]=K?Ui(T[U]):qn(T[U]),M,At,D,H,X,z,K),U++}}else if(U>lt)for(;U<=dt;)ue(E[U],D,H,!0),U++;else{const Et=U,At=U,Wt=new Map;for(U=At;U<=lt;U++){const dn=T[U]=K?Ui(T[U]):qn(T[U]);dn.key!=null&&Wt.set(dn.key,U)}let ne,be=0;const An=lt-At+1;let ur=!1,im=0;const fo=new Array(An);for(U=0;U<An;U++)fo[U]=0;for(U=Et;U<=dt;U++){const dn=E[U];if(be>=An){ue(dn,D,H,!0);continue}let jn;if(dn.key!=null)jn=Wt.get(dn.key);else for(ne=At;ne<=lt;ne++)if(fo[ne-At]===0&&po(dn,T[ne])){jn=ne;break}jn===void 0?ue(dn,D,H,!0):(fo[jn-At]=U+1,jn>=im?im=jn:ur=!0,g(dn,T[jn],M,null,D,H,X,z,K),be++)}const sm=ur?hI(fo):br;for(ne=sm.length-1,U=An-1;U>=0;U--){const dn=At+U,jn=T[dn],rm=dn+1<et?T[dn+1].el:F;fo[U]===0?g(null,jn,M,rm,D,H,X,z,K):ur&&(ne<0||U!==sm[ne]?Ge(jn,M,rm,2):ne--)}}},Ge=(E,T,M,F,D=null)=>{const{el:H,type:X,transition:z,children:K,shapeFlag:U}=E;if(U&6){Ge(E.component.subTree,T,M,F);return}if(U&128){E.suspense.move(T,M,F);return}if(U&64){X.move(E,T,M,rt);return}if(X===Jt){i(H,T,M);for(let dt=0;dt<K.length;dt++)Ge(K[dt],T,M,F);i(E.anchor,T,M);return}if(X===Zl){x(E,T,M);return}if(F!==2&&U&1&&z)if(F===0)z.beforeEnter(H),i(H,T,M),sn(()=>z.enter(H),D);else{const{leave:dt,delayLeave:lt,afterLeave:Et}=z,At=()=>i(H,T,M),Wt=()=>{dt(H,()=>{At(),Et&&Et()})};lt?lt(H,At,Wt):Wt()}else i(H,T,M)},ue=(E,T,M,F=!1,D=!1)=>{const{type:H,props:X,ref:z,children:K,dynamicChildren:U,shapeFlag:et,patchFlag:dt,dirs:lt}=E;if(z!=null&&Sd(z,null,M,E,!0),et&256){T.ctx.deactivate(E);return}const Et=et&1&&lt,At=!Ql(E);let Wt;if(At&&(Wt=X&&X.onVnodeBeforeUnmount)&&zn(Wt,T,E),et&6)Bn(E.component,M,F);else{if(et&128){E.suspense.unmount(M,F);return}Et&&xs(E,null,T,"beforeUnmount"),et&64?E.type.remove(E,T,M,D,rt,F):U&&(H!==Jt||dt>0&&dt&64)?ee(U,T,M,!1,!0):(H===Jt&&dt&384||!D&&et&16)&&ee(K,T,M),F&&yn(E)}(At&&(Wt=X&&X.onVnodeUnmounted)||Et)&&sn(()=>{Wt&&zn(Wt,T,E),Et&&xs(E,null,T,"unmounted")},M)},yn=E=>{const{type:T,el:M,anchor:F,transition:D}=E;if(T===Jt){en(M,F);return}if(T===Zl){v(E);return}const H=()=>{s(M),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(E.shapeFlag&1&&D&&!D.persisted){const{leave:X,delayLeave:z}=D,K=()=>X(M,H);z?z(E.el,H,K):K()}else H()},en=(E,T)=>{let M;for(;E!==T;)M=d(E),s(E),E=M;s(T)},Bn=(E,T,M)=>{const{bum:F,scope:D,update:H,subTree:X,um:z}=E;F&&Yl(F),D.stop(),H&&(H.active=!1,ue(X,E,T,M)),z&&sn(z,T),sn(()=>{E.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ee=(E,T,M,F=!1,D=!1,H=0)=>{for(let X=H;X<E.length;X++)ue(E[X],T,M,F,D)},N=E=>E.shapeFlag&6?N(E.component.subTree):E.shapeFlag&128?E.suspense.next():d(E.anchor||E.el);let tt=!1;const Y=(E,T,M)=>{E==null?T._vnode&&ue(T._vnode,null,null,!0):g(T._vnode||null,E,T,null,null,null,M),tt||(tt=!0,gm(),lb(),tt=!1),T._vnode=E},rt={p:g,um:ue,m:Ge,r:yn,mt:_t,mc:k,pc:vt,pbc:C,n:N,o:e};let Ut,se;return{render:Y,hydrate:Ut,createApp:nI(Y,Ut)}}function Eh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Es({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function uI(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ab(e,t,n=!1){const i=e.children,s=t.children;if(mt(i)&&mt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Ui(s[r]),a.el=o.el),n||Ab(o,a)),a.type===gu&&(a.el=o.el)}}function hI(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Pb(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pb(t)}const dI=e=>e.__isTeleport,Jt=Symbol.for("v-fgt"),gu=Symbol.for("v-txt"),Hs=Symbol.for("v-cmt"),Zl=Symbol.for("v-stc"),zo=[];let Rn=null;function I(e=!1){zo.push(Rn=e?null:[])}function fI(){zo.pop(),Rn=zo[zo.length-1]||null}let aa=1;function Im(e){aa+=e}function Cb(e){return e.dynamicChildren=aa>0?Rn||br:null,fI(),aa>0&&Rn&&Rn.push(e),e}function S(e,t,n,i,s,r){return Cb(y(e,t,n,i,s,r,!0))}function np(e,t,n,i,s){return Cb(Z(e,t,n,i,s,!0))}function Ad(e){return e?e.__v_isVNode===!0:!1}function po(e,t){return e.type===t.type&&e.key===t.key}const Rb=({key:e})=>e??null,tc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ve(e)||cn(e)||It(e)?{i:on,r:e,k:t,f:!!n}:e:null);function y(e,t=null,n=null,i=0,s=null,r=e===Jt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rb(t),ref:t&&tc(t),scopeId:fu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:on};return a?(ip(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ve(n)?8:16),aa>0&&!o&&Rn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Rn.push(l),l}const Z=pI;function pI(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===Mk)&&(e=Hs),Ad(e)){const a=Or(e,t,!0);return n&&ip(a,n),aa>0&&!r&&Rn&&(a.shapeFlag&6?Rn[Rn.indexOf(e)]=a:Rn.push(a)),a.patchFlag|=-2,a}if(kI(e)&&(e=e.__vccOpts),t){t=gI(t);let{class:a,style:l}=t;a&&!ve(a)&&(t.class=Q(a)),Xt(l)&&(Zv(l)&&!mt(l)&&(l=Te({},l)),t.style=at(l))}const o=ve(e)?1:Dk(e)?128:dI(e)?64:Xt(e)?4:It(e)?2:0;return y(e,t,n,i,s,o,r,!0)}function gI(e){return e?Zv(e)||xb(e)?Te({},e):e:null}function Or(e,t,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?mI(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Rb(c),ref:t&&t.ref?n&&r?mt(r)?r.concat(tc(t)):[r,tc(t)]:tc(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Jt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Or(e.ssContent),ssFallback:e.ssFallback&&Or(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&(u.transition=l.clone(u)),u}function bt(e=" ",t=0){return Z(gu,null,e,t)}function mu(e,t){const n=Z(Zl,null,e);return n.staticCount=t,n}function J(e="",t=!1){return t?(I(),np(Hs,null,e)):Z(Hs,null,e)}function qn(e){return e==null||typeof e=="boolean"?Z(Hs):mt(e)?Z(Jt,null,e.slice()):typeof e=="object"?Ui(e):Z(gu,null,String(e))}function Ui(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Or(e)}function ip(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(mt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),ip(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!xb(t)?t._ctx=on:s===3&&on&&(on.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else It(t)?(t={default:t,_ctx:on},n=32):(t=String(t),i&64?(n=16,t=[bt(t)]):n=8);e.children=t,e.shapeFlag|=n}function mI(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Q([t.class,i.class]));else if(s==="style")t.style=at([t.style,i.style]);else if(au(s)){const r=t[s],o=i[s];o&&r!==o&&!(mt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function zn(e,t,n,i=null){On(e,t,7,[n,i])}const yI=vb();let _I=0;function vI(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||yI,r={uid:_I++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Y2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tb(i,s),emitsOptions:ub(i,s),emit:null,emitted:null,propsDefaults:Qt,inheritAttrs:i.inheritAttrs,ctx:Qt,data:Qt,props:Qt,attrs:Qt,slots:Qt,refs:Qt,setupState:Qt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ik.bind(null,r),e.ce&&e.ce(r),r}let $e=null,Ic,Pd;{const e=Vv(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Ic=t("__VUE_INSTANCE_SETTERS__",n=>$e=n),Pd=t("__VUE_SSR_SETTERS__",n=>yu=n)}const $a=e=>{const t=$e;return Ic(e),e.scope.on(),()=>{e.scope.off(),Ic(t)}},Sm=()=>{$e&&$e.scope.off(),Ic(null)};function Mb(e){return e.vnode.shapeFlag&4}let yu=!1;function bI(e,t=!1){t&&Pd(t);const{props:n,children:i}=e.vnode,s=Mb(e);iI(e,n,s,t),oI(e,i);const r=s?wI(e,t):void 0;return t&&Pd(!1),r}function wI(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Yk);const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?EI(e):null,r=$a(e);gs();const o=Zi(i,e,0,[e.props,s]);if(ms(),r(),Ov(o)){if(o.then(Sm,Sm),t)return o.then(a=>{Am(e,a,t)}).catch(a=>{hu(a,e,0)});e.asyncDep=o}else Am(e,o,t)}else Ob(e,t)}function Am(e,t,n){It(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Xt(t)&&(e.setupState=sb(t)),Ob(e,n)}let Pm;function Ob(e,t,n){const i=e.type;if(!e.render){if(!t&&Pm&&!i.render){const s=i.template||tp(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Te(Te({isCustomElement:r,delimiters:a},o),l);i.render=Pm(s,c)}}e.render=i.render||xn}{const s=$a(e);gs();try{Xk(e)}finally{ms(),s()}}}const xI={get(e,t){return ln(e,"get",""),e[t]}};function EI(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,xI),slots:e.slots,emit:e.emit,expose:t}}function _u(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sb(yk(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bo)return Bo[n](e)},has(t,n){return n in t||n in Bo}}))}function TI(e,t=!0){return It(e)?e.displayName||e.name:e.name||t&&e.__name}function kI(e){return It(e)&&"__vccOpts"in e}const Cn=(e,t)=>_k(e,t,yu);function Db(e,t,n){const i=arguments.length;return i===2?Xt(t)&&!mt(t)?Ad(t)?Z(e,null,[t]):Z(e,t):Z(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ad(n)&&(n=[n]),Z(e,t,n))}const II="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const SI="http://www.w3.org/2000/svg",AI="http://www.w3.org/1998/Math/MathML",Bi=typeof document<"u"?document:null,Cm=Bi&&Bi.createElement("template"),PI={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?Bi.createElementNS(SI,e):t==="mathml"?Bi.createElementNS(AI,e):Bi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Bi.createTextNode(e),createComment:e=>Bi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Cm.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const a=Cm.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},CI=Symbol("_vtc");function RI(e,t,n){const i=e[CI];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rm=Symbol("_vod"),MI=Symbol("_vsh"),OI=Symbol(""),DI=/(^|;)\s*display\s*:/;function LI(e,t,n){const i=e.style,s=ve(n);let r=!1;if(n&&!s){if(t)if(ve(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ec(i,a,"")}else for(const o in t)n[o]==null&&ec(i,o,"");for(const o in n)o==="display"&&(r=!0),ec(i,o,n[o])}else if(s){if(t!==n){const o=i[OI];o&&(n+=";"+o),i.cssText=n,r=DI.test(n)}}else t&&e.removeAttribute("style");Rm in e&&(e[Rm]=r?i.display:"",e[MI]&&(i.display="none"))}const Mm=/\s*!important$/;function ec(e,t,n){if(mt(n))n.forEach(i=>ec(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=NI(e,t);Mm.test(n)?e.setProperty(Qr(i),n.replace(Mm,""),"important"):e[i]=n}}const Om=["Webkit","Moz","ms"],Th={};function NI(e,t){const n=Th[t];if(n)return n;let i=si(t);if(i!=="filter"&&i in e)return Th[t]=i;i=cu(i);for(let s=0;s<Om.length;s++){const r=Om[s]+i;if(r in e)return Th[t]=r}return t}const Dm="http://www.w3.org/1999/xlink";function VI(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Dm,t.slice(6,t.length)):e.setAttributeNS(Dm,t,n);else{const r=K2(t);n==null||r&&!Fv(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function FI(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Fv(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Rs(e,t,n,i){e.addEventListener(t,n,i)}function $I(e,t,n,i){e.removeEventListener(t,n,i)}const Lm=Symbol("_vei");function UI(e,t,n,i,s=null){const r=e[Lm]||(e[Lm]={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=BI(t);if(i){const c=r[t]=HI(i,s);Rs(e,a,c,l)}else o&&($I(e,a,o,l),r[t]=void 0)}}const Nm=/(?:Once|Passive|Capture)$/;function BI(e){let t;if(Nm.test(e)){t={};let i;for(;i=e.match(Nm);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qr(e.slice(2)),t]}let kh=0;const jI=Promise.resolve(),zI=()=>kh||(jI.then(()=>kh=0),kh=Date.now());function HI(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;On(WI(i,n.value),t,5,[i])};return n.value=e,n.attached=zI(),n}function WI(e,t){if(mt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Vm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qI=(e,t,n,i,s,r,o,a,l)=>{const c=s==="svg";t==="class"?RI(e,i,c):t==="style"?LI(e,n,i):au(t)?jf(t)||UI(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):KI(e,t,i,c))?FI(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),VI(e,t,i,c))};function KI(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Vm(t)&&It(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vm(t)&&ve(n)?!1:t in e}const Sc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return mt(t)?n=>Yl(t,n):t};function GI(e){e.target.composing=!0}function Fm(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Er=Symbol("_assign"),Dr={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Er]=Sc(s);const r=i||s.props&&s.props.type==="number";Rs(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=yd(a)),e[Er](a)}),n&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",GI),Rs(e,"compositionend",Fm),Rs(e,"change",Fm))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e[Er]=Sc(r),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?yd(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===a)||(e.value=a))}},ct={created(e,{value:t},n){e.checked=wc(t,n.props.value),e[Er]=Sc(n),Rs(e,"change",()=>{e[Er](YI(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e[Er]=Sc(i),t!==n&&(e.checked=wc(t,i.props.value))}};function YI(e){return"_value"in e?e._value:e.value}const XI=["ctrl","shift","alt","meta"],QI={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>XI.some(n=>e[`${n}Key`]&&!t.includes(n))},sp=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<t.length;o++){const a=QI[t[o]];if(a&&a(s,t))return}return e(s,...r)})},JI=Te({patchProp:qI},PI);let $m;function ZI(){return $m||($m=lI(JI))}const tS=(...e)=>{const t=ZI().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=nS(i);if(!s)return;const r=t._component;!It(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,eS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function eS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nS(e){return ve(e)?document.querySelector(e):e}function Lb(e,t){return function(){return e.apply(t,arguments)}}const{toString:iS}=Object.prototype,{getPrototypeOf:rp}=Object,vu=(e=>t=>{const n=iS.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),li=e=>(e=e.toLowerCase(),t=>vu(t)===e),bu=e=>t=>typeof t===e,{isArray:Jr}=Array,la=bu("undefined");function sS(e){return e!==null&&!la(e)&&e.constructor!==null&&!la(e.constructor)&&En(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nb=li("ArrayBuffer");function rS(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nb(e.buffer),t}const oS=bu("string"),En=bu("function"),Vb=bu("number"),wu=e=>e!==null&&typeof e=="object",aS=e=>e===!0||e===!1,nc=e=>{if(vu(e)!=="object")return!1;const t=rp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lS=li("Date"),cS=li("File"),uS=li("Blob"),hS=li("FileList"),dS=e=>wu(e)&&En(e.pipe),fS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||En(e.append)&&((t=vu(e))==="formdata"||t==="object"&&En(e.toString)&&e.toString()==="[object FormData]"))},pS=li("URLSearchParams"),gS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ua(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),Jr(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(i=0;i<o;i++)a=r[i],t.call(null,e[a],a,e)}}function Fb(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const $b=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ub=e=>!la(e)&&e!==$b;function Cd(){const{caseless:e}=Ub(this)&&this||{},t={},n=(i,s)=>{const r=e&&Fb(t,s)||s;nc(t[r])&&nc(i)?t[r]=Cd(t[r],i):nc(i)?t[r]=Cd({},i):Jr(i)?t[r]=i.slice():t[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ua(arguments[i],n);return t}const mS=(e,t,n,{allOwnKeys:i}={})=>(Ua(t,(s,r)=>{n&&En(s)?e[r]=Lb(s,n):e[r]=s},{allOwnKeys:i}),e),yS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_S=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vS=(e,t,n,i)=>{let s,r,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&rp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},wS=e=>{if(!e)return null;if(Jr(e))return e;let t=e.length;if(!Vb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rp(Uint8Array)),ES=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},TS=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},kS=li("HTMLFormElement"),IS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),Um=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),SS=li("RegExp"),Bb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Ua(n,(s,r)=>{let o;(o=t(s,r,e))!==!1&&(i[r]=o||s)}),Object.defineProperties(e,i)},AS=e=>{Bb(e,(t,n)=>{if(En(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(En(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},PS=(e,t)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Jr(e)?i(e):i(String(e).split(t)),n},CS=()=>{},RS=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Ih="abcdefghijklmnopqrstuvwxyz",Bm="0123456789",jb={DIGIT:Bm,ALPHA:Ih,ALPHA_DIGIT:Ih+Ih.toUpperCase()+Bm},MS=(e=16,t=jb.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function OS(e){return!!(e&&En(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const DS=e=>{const t=new Array(10),n=(i,s)=>{if(wu(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const r=Jr(i)?[]:{};return Ua(i,(o,a)=>{const l=n(o,s+1);!la(l)&&(r[a]=l)}),t[s]=void 0,r}}return i};return n(e,0)},LS=li("AsyncFunction"),NS=e=>e&&(wu(e)||En(e))&&En(e.then)&&En(e.catch),L={isArray:Jr,isArrayBuffer:Nb,isBuffer:sS,isFormData:fS,isArrayBufferView:rS,isString:oS,isNumber:Vb,isBoolean:aS,isObject:wu,isPlainObject:nc,isUndefined:la,isDate:lS,isFile:cS,isBlob:uS,isRegExp:SS,isFunction:En,isStream:dS,isURLSearchParams:pS,isTypedArray:xS,isFileList:hS,forEach:Ua,merge:Cd,extend:mS,trim:gS,stripBOM:yS,inherits:_S,toFlatObject:vS,kindOf:vu,kindOfTest:li,endsWith:bS,toArray:wS,forEachEntry:ES,matchAll:TS,isHTMLForm:kS,hasOwnProperty:Um,hasOwnProp:Um,reduceDescriptors:Bb,freezeMethods:AS,toObjectSet:PS,toCamelCase:IS,noop:CS,toFiniteNumber:RS,findKey:Fb,global:$b,isContextDefined:Ub,ALPHABET:jb,generateString:MS,isSpecCompliantForm:OS,toJSONObject:DS,isAsyncFn:LS,isThenable:NS};function Ot(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}L.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zb=Ot.prototype,Hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hb[e]={value:e}});Object.defineProperties(Ot,Hb);Object.defineProperty(zb,"isAxiosError",{value:!0});Ot.from=(e,t,n,i,s,r)=>{const o=Object.create(zb);return L.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ot.call(o,e.message,t,n,i,s),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const VS=null;function Rd(e){return L.isPlainObject(e)||L.isArray(e)}function Wb(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function jm(e,t,n){return e?e.concat(t).map(function(s,r){return s=Wb(s),!n&&r?"["+s+"]":s}).join(n?".":""):t}function FS(e){return L.isArray(e)&&!e.some(Rd)}const $S=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function xu(e,t,n){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,_){return!L.isUndefined(_[g])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(L.isDate(p))return p.toISOString();if(!l&&L.isBlob(p))throw new Ot("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(p)||L.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,_){let m=p;if(p&&!_&&typeof p=="object"){if(L.endsWith(g,"{}"))g=i?g:g.slice(0,-2),p=JSON.stringify(p);else if(L.isArray(p)&&FS(p)||(L.isFileList(p)||L.endsWith(g,"[]"))&&(m=L.toArray(p)))return g=Wb(g),m.forEach(function(x,v){!(L.isUndefined(x)||x===null)&&t.append(o===!0?jm([g],v,r):o===null?g:g+"[]",c(x))}),!1}return Rd(p)?!0:(t.append(jm(_,g,r),c(p)),!1)}const h=[],d=Object.assign($S,{defaultVisitor:u,convertValue:c,isVisitable:Rd});function f(p,g){if(!L.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),L.forEach(p,function(m,b){(!(L.isUndefined(m)||m===null)&&s.call(t,m,L.isString(b)?b.trim():b,g,d))===!0&&f(m,g?g.concat(b):[b])}),h.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return f(e),t}function zm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function op(e,t){this._pairs=[],e&&xu(e,this,t)}const qb=op.prototype;qb.append=function(t,n){this._pairs.push([t,n])};qb.toString=function(t){const n=t?function(i){return t.call(this,i,zm)}:zm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function US(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kb(e,t,n){if(!t)return e;const i=n&&n.encode||US,s=n&&n.serialize;let r;if(s?r=s(t,n):r=L.isURLSearchParams(t)?t.toString():new op(t,n).toString(i),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Hm{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Gb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BS=typeof URLSearchParams<"u"?URLSearchParams:op,jS=typeof FormData<"u"?FormData:null,zS=typeof Blob<"u"?Blob:null,HS={isBrowser:!0,classes:{URLSearchParams:BS,FormData:jS,Blob:zS},protocols:["http","https","file","blob","url","data"]},Yb=typeof window<"u"&&typeof document<"u",WS=(e=>Yb&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),qS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yb,hasStandardBrowserEnv:WS,hasStandardBrowserWebWorkerEnv:qS},Symbol.toStringTag,{value:"Module"})),Yn={...KS,...HS};function GS(e,t){return xu(e,new Yn.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return Yn.isNode&&L.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function YS(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XS(e){const t={},n=Object.keys(e);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],t[r]=e[r];return t}function Xb(e){function t(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&L.isArray(s)?s.length:o,l?(L.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),t(n,i,s[o],r)&&L.isArray(s[o])&&(s[o]=XS(s[o])),!a)}if(L.isFormData(e)&&L.isFunction(e.entries)){const n={};return L.forEachEntry(e,(i,s)=>{t(YS(i),s,n,0)}),n}return null}function QS(e,t,n){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Ba={transitional:Gb,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=L.isObject(t);if(r&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return s?JSON.stringify(Xb(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return GS(t,this.formSerializer).toString();if((a=L.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),QS(t)):t}],transformResponse:[function(t){const n=this.transitional||Ba.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&L.isString(t)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Ot.from(a,Ot.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Ba.headers[e]={}});const JS=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZS=e=>{const t={};let n,i,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||t[n]&&JS[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Wm=Symbol("internals");function go(e){return e&&String(e).trim().toLowerCase()}function ic(e){return e===!1||e==null?e:L.isArray(e)?e.map(ic):String(e)}function tA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const eA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sh(e,t,n,i,s){if(L.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!L.isString(t)){if(L.isString(i))return t.indexOf(i)!==-1;if(L.isRegExp(i))return i.test(t)}}function nA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function iA(e,t){const n=L.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,r,o){return this[i].call(this,t,s,r,o)},configurable:!0})})}class Tn{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function r(a,l,c){const u=go(l);if(!u)throw new Error("header name must be a non-empty string");const h=L.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=ic(a))}const o=(a,l)=>L.forEach(a,(c,u)=>r(c,u,l));return L.isPlainObject(t)||t instanceof this.constructor?o(t,n):L.isString(t)&&(t=t.trim())&&!eA(t)?o(ZS(t),n):t!=null&&r(n,t,i),this}get(t,n){if(t=go(t),t){const i=L.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return tA(s);if(L.isFunction(n))return n.call(this,s,i);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=go(t),t){const i=L.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Sh(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function r(o){if(o=go(o),o){const a=L.findKey(i,o);a&&(!n||Sh(i,i[a],a,n))&&(delete i[a],s=!0)}}return L.isArray(t)?t.forEach(r):r(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!t||Sh(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const n=this,i={};return L.forEach(this,(s,r)=>{const o=L.findKey(i,r);if(o){n[o]=ic(s),delete n[r];return}const a=t?nA(r):String(r).trim();a!==r&&delete n[r],n[a]=ic(s),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return L.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&L.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[Wm]=this[Wm]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=go(o);i[a]||(iA(s,o),i[a]=!0)}return L.isArray(t)?t.forEach(r):r(t),this}}Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Tn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});L.freezeMethods(Tn);function Ah(e,t){const n=this||Ba,i=t||n,s=Tn.from(i.headers);let r=i.data;return L.forEach(e,function(a){r=a.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function Qb(e){return!!(e&&e.__CANCEL__)}function ja(e,t,n){Ot.call(this,e??"canceled",Ot.ERR_CANCELED,t,n),this.name="CanceledError"}L.inherits(ja,Ot,{__CANCEL__:!0});function sA(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Ot("Request failed with status code "+n.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const rA=Yn.hasStandardBrowserEnv?{write(e,t,n,i,s,r){const o=[e+"="+encodeURIComponent(t)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(i)&&o.push("path="+i),L.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jb(e,t){return e&&!oA(t)?aA(e,t):t}const lA=Yn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let o=r;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){const a=L.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function cA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uA(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),n[s]=l,i[s]=c;let h=r,d=0;for(;h!==s;)d+=n[h++],h=h%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function qm(e,t){let n=0;const i=uA(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-n,l=i(a),c=r<=o;n=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[t?"download":"upload"]=!0,e(u)}}const hA=typeof XMLHttpRequest<"u",dA=hA&&function(e){return new Promise(function(n,i){let s=e.data;const r=Tn.from(e.headers).normalize();let{responseType:o,withXSRFToken:a}=e,l;function c(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let u;if(L.isFormData(s)){if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[g,..._]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];r.setContentType([g||"multipart/form-data",..._].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(g+":"+_))}const d=Jb(e.baseURL,e.url);h.open(e.method.toUpperCase(),Kb(d,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function f(){if(!h)return;const g=Tn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:g,config:e,request:h};sA(function(x){n(x),c()},function(x){i(x),c()},m),h=null}if("onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(f)},h.onabort=function(){h&&(i(new Ot("Request aborted",Ot.ECONNABORTED,e,h)),h=null)},h.onerror=function(){i(new Ot("Network Error",Ot.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let _=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||Gb;e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),i(new Ot(_,m.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,e,h)),h=null},Yn.hasStandardBrowserEnv&&(a&&L.isFunction(a)&&(a=a(e)),a||a!==!1&&lA(d))){const g=e.xsrfHeaderName&&e.xsrfCookieName&&rA.read(e.xsrfCookieName);g&&r.set(e.xsrfHeaderName,g)}s===void 0&&r.setContentType(null),"setRequestHeader"in h&&L.forEach(r.toJSON(),function(_,m){h.setRequestHeader(m,_)}),L.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),o&&o!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",qm(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",qm(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=g=>{h&&(i(!g||g.type?new ja(null,e,h):g),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const p=cA(d);if(p&&Yn.protocols.indexOf(p)===-1){i(new Ot("Unsupported protocol "+p+":",Ot.ERR_BAD_REQUEST,e));return}h.send(s||null)})},Md={http:VS,xhr:dA};L.forEach(Md,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Km=e=>`- ${e}`,fA=e=>L.isFunction(e)||e===null||e===!1,Zb={getAdapter:e=>{e=L.isArray(e)?e:[e];const{length:t}=e;let n,i;const s={};for(let r=0;r<t;r++){n=e[r];let o;if(i=n,!fA(n)&&(i=Md[(o=String(n)).toLowerCase()],i===void 0))throw new Ot(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(Km).join(`
`):" "+Km(r[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Md};function Ph(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ja(null,e)}function Gm(e){return Ph(e),e.headers=Tn.from(e.headers),e.data=Ah.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zb.getAdapter(e.adapter||Ba.adapter)(e).then(function(i){return Ph(e),i.data=Ah.call(e,e.transformResponse,i),i.headers=Tn.from(i.headers),i},function(i){return Qb(i)||(Ph(e),i&&i.response&&(i.response.data=Ah.call(e,e.transformResponse,i.response),i.response.headers=Tn.from(i.response.headers))),Promise.reject(i)})}const Ym=e=>e instanceof Tn?{...e}:e;function Lr(e,t){t=t||{};const n={};function i(c,u,h){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:h},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function s(c,u,h){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function r(c,u){if(!L.isUndefined(u))return i(void 0,u)}function o(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in t)return i(c,u);if(h in e)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Ym(c),Ym(u),!0)};return L.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=l[u]||s,d=h(e[u],t[u],u);L.isUndefined(d)&&h!==a||(n[u]=d)}),n}const tw="1.6.8",ap={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ap[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Xm={};ap.transitional=function(t,n,i){function s(r,o){return"[Axios v"+tw+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(t===!1)throw new Ot(s(o," has been removed"+(n?" in "+n:"")),Ot.ERR_DEPRECATED);return n&&!Xm[o]&&(Xm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,a):!0}};function pA(e,t,n){if(typeof e!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const r=i[s],o=t[r];if(o){const a=e[r],l=a===void 0||o(a,r,e);if(l!==!0)throw new Ot("option "+r+" must be "+l,Ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ot("Unknown option "+r,Ot.ERR_BAD_OPTION)}}const Od={assertOptions:pA,validators:ap},Li=Od.validators;class Bs{constructor(t){this.defaults=t,this.interceptors={request:new Hm,response:new Hm}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Lr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Od.assertOptions(i,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:Od.assertOptions(s,{encode:Li.function,serialize:Li.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&L.merge(r.common,r[n.method]);r&&L.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Tn.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,d;if(!l){const p=[Gm.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),d=p.length,u=Promise.resolve(n);h<d;)u=u.then(p[h++],p[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const p=a[h++],g=a[h++];try{f=p(f)}catch(_){g.call(this,_);break}}try{u=Gm.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Lr(this.defaults,t);const n=Jb(t.baseURL,t.url);return Kb(n,t.params,t.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(t){Bs.prototype[t]=function(n,i){return this.request(Lr(i||{},{method:t,url:n,data:(i||{}).data}))}});L.forEach(["post","put","patch"],function(t){function n(i){return function(r,o,a){return this.request(Lr(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Bs.prototype[t]=n(),Bs.prototype[t+"Form"]=n(!0)});class lp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},t(function(r,o,a){i.reason||(i.reason=new ja(r,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new lp(function(s){t=s}),cancel:t}}}function gA(e){return function(n){return e.apply(null,n)}}function mA(e){return L.isObject(e)&&e.isAxiosError===!0}const Dd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dd).forEach(([e,t])=>{Dd[t]=e});function ew(e){const t=new Bs(e),n=Lb(Bs.prototype.request,t);return L.extend(n,Bs.prototype,t,{allOwnKeys:!0}),L.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return ew(Lr(e,s))},n}const pe=ew(Ba);pe.Axios=Bs;pe.CanceledError=ja;pe.CancelToken=lp;pe.isCancel=Qb;pe.VERSION=tw;pe.toFormData=xu;pe.AxiosError=Ot;pe.Cancel=pe.CanceledError;pe.all=function(t){return Promise.all(t)};pe.spread=gA;pe.isAxiosError=mA;pe.mergeConfig=Lr;pe.AxiosHeaders=Tn;pe.formToJSON=e=>Xb(L.isHTMLForm(e)?new FormData(e):e);pe.getAdapter=Zb.getAdapter;pe.HttpStatusCode=Dd;pe.default=pe;var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},yA=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new _A;const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vA=function(e){const t=nw(e);return iw.encodeByteArray(t,!0)},Ac=function(e){return vA(e).replace(/\./g,"")},sw=function(e){try{return iw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=()=>bA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof Qm>"u")return;const e=Qm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sw(e[1]);return t&&JSON.parse(t)},Eu=()=>{try{return wA()||xA()||EA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rw=e=>{var t,n;return(n=(t=Eu())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},TA=e=>{const t=rw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ow=()=>{var e;return(e=Eu())===null||e===void 0?void 0:e.config},aw=e=>{var t;return(t=Eu())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function AA(){var e;const t=(e=Eu())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function MA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lw(){try{return typeof indexedDB=="object"}catch{return!1}}function cw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function OA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="FirebaseError";class ci extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=DA,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}}class nr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?LA(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ci(s,a,i)}}function LA(e,t){return e.replace(NA,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const NA=/\{\$([^}]+)}/g;function VA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pc(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(Jm(r)&&Jm(o)){if(!Pc(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Jm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Io(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function So(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function FA(e,t){const n=new $A(e,t);return n.subscribe.bind(n)}class $A{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UA(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Ch),s.error===void 0&&(s.error=Ch),s.complete===void 0&&(s.complete=Ch);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e&&e._delegate?e._delegate:e}class Vn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new kA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zA(t))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ss){return this.instances.has(t)}getOptions(t=Ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jA(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ss){return this.component?this.component.multipleInstances?t:Ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(e){return e===Ss?void 0:e}function zA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Rt||(Rt={}));const WA={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},qA=Rt.INFO,KA={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},GA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=KA[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cp{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...t),this._logHandler(this,Rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...t),this._logHandler(this,Rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...t),this._logHandler(this,Rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...t),this._logHandler(this,Rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...t),this._logHandler(this,Rt.ERROR,...t)}}const YA=(e,t)=>t.some(n=>e instanceof n);let Zm,ty;function XA(){return Zm||(Zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uw=new WeakMap,Ld=new WeakMap,hw=new WeakMap,Rh=new WeakMap,up=new WeakMap;function JA(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Ti(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&uw.set(n,e)}).catch(()=>{}),up.set(t,e),t}function ZA(e){if(Ld.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Ld.set(e,t)}let Nd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ld.get(e);if(t==="objectStoreNames")return e.objectStoreNames||hw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function tP(e){Nd=e(Nd)}function eP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Mh(this),t,...n);return hw.set(i,t.sort?t.sort():[t]),Ti(i)}:QA().includes(e)?function(...t){return e.apply(Mh(this),t),Ti(uw.get(this))}:function(...t){return Ti(e.apply(Mh(this),t))}}function nP(e){return typeof e=="function"?eP(e):(e instanceof IDBTransaction&&ZA(e),YA(e,XA())?new Proxy(e,Nd):e)}function Ti(e){if(e instanceof IDBRequest)return JA(e);if(Rh.has(e))return Rh.get(e);const t=nP(e);return t!==e&&(Rh.set(e,t),up.set(t,e)),t}const Mh=e=>up.get(e);function Tu(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Ti(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ti(o.result),l.oldVersion,l.newVersion,Ti(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Oh(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),Ti(n).then(()=>{})}const iP=["get","getKey","getAll","getAllKeys","count"],sP=["put","add","delete","clear"],Dh=new Map;function ey(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dh.get(t))return Dh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=sP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||iP.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Dh.set(t,r),r}tP(e=>({...e,get:(t,n,i)=>ey(t,n)||e.get(t,n,i),has:(t,n)=>!!ey(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function oP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vd="@firebase/app",ny="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new cp("@firebase/app"),aP="@firebase/app-compat",lP="@firebase/analytics-compat",cP="@firebase/analytics",uP="@firebase/app-check-compat",hP="@firebase/app-check",dP="@firebase/auth",fP="@firebase/auth-compat",pP="@firebase/database",gP="@firebase/database-compat",mP="@firebase/functions",yP="@firebase/functions-compat",_P="@firebase/installations",vP="@firebase/installations-compat",bP="@firebase/messaging",wP="@firebase/messaging-compat",xP="@firebase/performance",EP="@firebase/performance-compat",TP="@firebase/remote-config",kP="@firebase/remote-config-compat",IP="@firebase/storage",SP="@firebase/storage-compat",AP="@firebase/firestore",PP="@firebase/firestore-compat",CP="firebase",RP="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",MP={[Vd]:"fire-core",[aP]:"fire-core-compat",[cP]:"fire-analytics",[lP]:"fire-analytics-compat",[hP]:"fire-app-check",[uP]:"fire-app-check-compat",[dP]:"fire-auth",[fP]:"fire-auth-compat",[pP]:"fire-rtdb",[gP]:"fire-rtdb-compat",[mP]:"fire-fn",[yP]:"fire-fn-compat",[_P]:"fire-iid",[vP]:"fire-iid-compat",[bP]:"fire-fcm",[wP]:"fire-fcm-compat",[xP]:"fire-perf",[EP]:"fire-perf-compat",[TP]:"fire-rc",[kP]:"fire-rc-compat",[IP]:"fire-gcs",[SP]:"fire-gcs-compat",[AP]:"fire-fst",[PP]:"fire-fst-compat","fire-js":"fire-js",[CP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,OP=new Map,$d=new Map;function iy(e,t){try{e.container.addComponent(t)}catch(n){Ws.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ri(e){const t=e.name;if($d.has(t))return Ws.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,e);for(const n of Cc.values())iy(n,e);for(const n of OP.values())iy(n,e);return!0}function Zr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new nr("app","Firebase",DP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=RP;function dw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw ts.create("bad-app-name",{appName:String(s)});if(n||(n=ow()),!n)throw ts.create("no-options");const r=Cc.get(s);if(r){if(Pc(n,r.options)&&Pc(i,r.config))return r;throw ts.create("duplicate-app",{appName:s})}const o=new HA(s);for(const l of $d.values())o.addComponent(l);const a=new LP(n,i,o);return Cc.set(s,a),a}function hp(e=Fd){const t=Cc.get(e);if(!t&&e===Fd&&ow())return dw();if(!t)throw ts.create("no-app",{appName:e});return t}function kn(e,t,n){var i;let s=(i=MP[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ws.warn(a.join(" "));return}ri(new Vn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="firebase-heartbeat-database",VP=1,ca="firebase-heartbeat-store";let Lh=null;function fw(){return Lh||(Lh=Tu(NP,VP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(e=>{throw ts.create("idb-open",{originalErrorMessage:e.message})})),Lh}async function FP(e){try{const n=(await fw()).transaction(ca),i=await n.objectStore(ca).get(pw(e));return await n.done,i}catch(t){if(t instanceof ci)Ws.warn(t.message);else{const n=ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ws.warn(n.message)}}}async function sy(e,t){try{const i=(await fw()).transaction(ca,"readwrite");await i.objectStore(ca).put(t,pw(e)),await i.done}catch(n){if(n instanceof ci)Ws.warn(n.message);else{const i=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ws.warn(i.message)}}}function pw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=1024,UP=30*24*60*60*1e3;class BP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ry();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=UP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ry(),{heartbeatsToSend:i,unsentEntries:s}=jP(this._heartbeatsCache.heartbeats),r=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ry(){return new Date().toISOString().substring(0,10)}function jP(e,t=$P){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),oy(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),oy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lw()?cw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function oy(e){return Ac(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(e){ri(new Vn("platform-logger",t=>new rP(t),"PRIVATE")),ri(new Vn("heartbeat",t=>new BP(t),"PRIVATE")),kn(Vd,ny,e),kn(Vd,ny,"esm2017"),kn("fire-js","")}HP("");function dp(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WP=gw,mw=new nr("auth","Firebase",gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new cp("@firebase/auth");function qP(e,...t){Rc.logLevel<=Rt.WARN&&Rc.warn(`Auth (${to}): ${e}`,...t)}function sc(e,...t){Rc.logLevel<=Rt.ERROR&&Rc.error(`Auth (${to}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,...t){throw fp(e,...t)}function Zn(e,...t){return fp(e,...t)}function yw(e,t,n){const i=Object.assign(Object.assign({},WP()),{[t]:n});return new nr("auth","Firebase",i).create(t,{appName:e.name})}function ki(e){return yw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return mw.create(e,...t)}function gt(e,t,...n){if(!e)throw fp(t,...n)}function mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sc(t),new Error(t)}function Ai(e,t){e||mi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function KP(){return ay()==="http:"||ay()==="https:"}function ay(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||PA()||"connection"in navigator)?navigator.onLine:!0}function YP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ai(n>t,"Short delay should be less than long delay!"),this.isMobile=SA()||CA()}get(){return GP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e,t){Ai(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Ha(3e4,6e4);function ys(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _s(e,t,n,i,s={}){return vw(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=za(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),_w.fetch()(bw(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function vw(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},XP),t);try{const s=new ZP(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw El(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw El(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw El(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yw(e,u,c);Fn(e,u)}}catch(s){if(s instanceof ci)throw s;Fn(e,"network-request-failed",{message:String(s)})}}async function Wa(e,t,n,i,s={}){const r=await _s(e,t,n,i,s);return"mfaPendingCredential"in r&&Fn(e,"multi-factor-auth-required",{_serverResponse:r}),r}function bw(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?pp(e.config,s):`${e.config.apiScheme}://${s}`}function JP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZP{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zn(this.auth,"network-request-failed")),QP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function El(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Zn(e,t,i);return s.customData._tokenResponse=n,s}function ly(e){return e!==void 0&&e.enterprise!==void 0}class tC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return JP(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function eC(e,t){return _s(e,"GET","/v2/recaptchaConfig",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(e,t){return _s(e,"POST","/v1/accounts:delete",t)}async function ww(e,t){return _s(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iC(e,t=!1){const n=un(e),i=await n.getIdToken(t),s=gp(i);gt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Ho(Nh(s.auth_time)),issuedAtTime:Ho(Nh(s.iat)),expirationTime:Ho(Nh(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Nh(e){return Number(e)*1e3}function gp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=sw(n);return s?JSON.parse(s):(sc("Failed to decode base64 JWT payload"),null)}catch(s){return sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cy(e){const t=gp(e);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ci&&sC(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function sC({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(e){var t;const n=e.auth,i=await e.getIdToken(),s=await ua(e,ww(n,{idToken:i}));gt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?xw(r.providerUserInfo):[],a=aC(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Bd(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function oC(e){const t=un(e);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aC(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function xw(e){return e.map(t=>{var{providerId:n}=t,i=dp(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(e,t){const n=await vw(e,{},async()=>{const i=za({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=bw(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_w.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cC(e,t){return _s(e,"POST","/v2/accounts:revokeToken",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=cy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await lC(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Tr;return i&&(gt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(gt(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(gt(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Tr,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e,t){gt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yi{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=dp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Bd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await ua(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iC(this,t)}reload(){return oC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Mc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ki(this.auth));const t=await this.getIdToken();return await ua(this,nC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:v,isAnonymous:w,providerData:P,stsTokenManager:O}=n;gt(x&&O,t,"internal-error");const k=Tr.fromJSON(this.name,O);gt(typeof x=="string",t,"internal-error"),Ni(h,t.name),Ni(d,t.name),gt(typeof v=="boolean",t,"internal-error"),gt(typeof w=="boolean",t,"internal-error"),Ni(f,t.name),Ni(p,t.name),Ni(g,t.name),Ni(_,t.name),Ni(m,t.name),Ni(b,t.name);const A=new yi({uid:x,auth:t,email:d,emailVerified:v,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:m,lastLoginAt:b});return P&&Array.isArray(P)&&(A.providerData=P.map(C=>Object.assign({},C))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(t,n,i=!1){const s=new Tr;s.updateFromServerResponse(n);const r=new yi({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Mc(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];gt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?xw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Tr;a.updateFromIdToken(i);const l=new yi({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Bd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map;function _i(e){Ai(e instanceof Function,"Expected a class definition");let t=uy.get(e);return t?(Ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,uy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ew.type="NONE";const hy=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e,t,n){return`firebase:${e}:${t}:${n}`}class kr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=rc(this.userKey,s.apiKey,r),this.fullPersistenceKey=rc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?yi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new kr(_i(hy),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||_i(hy);const o=rc(i,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=yi._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new kr(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new kr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Iw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Aw(t))return"Blackberry";if(Pw(t))return"Webos";if(mp(t))return"Safari";if((t.includes("chrome/")||kw(t))&&!t.includes("edge/"))return"Chrome";if(Sw(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Tw(e=Me()){return/firefox\//i.test(e)}function mp(e=Me()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kw(e=Me()){return/crios\//i.test(e)}function Iw(e=Me()){return/iemobile/i.test(e)}function Sw(e=Me()){return/android/i.test(e)}function Aw(e=Me()){return/blackberry/i.test(e)}function Pw(e=Me()){return/webos/i.test(e)}function ku(e=Me()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uC(e=Me()){var t;return ku(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hC(){return RA()&&document.documentMode===10}function Cw(e=Me()){return ku(e)||Sw(e)||Pw(e)||Aw(e)||/windows phone/i.test(e)||Iw(e)}function dC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e,t=[]){let n;switch(e){case"Browser":n=dy(Me());break;case"Worker":n=`${dy(Me())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(e,t={}){return _s(e,"GET","/v2/passwordPolicy",ys(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=6;class mC{constructor(t){var n,i,s,r;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fy(this),this.idTokenSubscription=new fy(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await kr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ww(this,{idToken:t}),i=await yi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(ki(this));const n=t?un(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),n=new mC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new nr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await cC(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_i(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,s);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ir(e){return un(e)}class fy{constructor(t){this.auth=t,this.observer=null,this.addObserver=FA(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(e){Iu=e}function Mw(e){return Iu.loadJS(e)}function vC(){return Iu.recaptchaEnterpriseScript}function bC(){return Iu.gapiScript}function wC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const xC="recaptcha-enterprise",EC="NO_RECAPTCHA";class TC{constructor(t){this.type=xC,this.auth=ir(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{eC(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new tC(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;ly(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(EC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&ly(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vC();l.length!==0&&(l+=a),Mw(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function py(e,t,n,i=!1){const s=new TC(e);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function jd(e,t,n,i){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await py(e,t,n,n==="getOobCode");return i(e,r)}else return i(e,t).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await py(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(e,t){const n=Zr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Pc(r,t??{}))return s;Fn(s,"already-initialized")}return n.initialize({options:t})}function IC(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_i);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function SC(e,t,n){const i=ir(e);gt(i._canInitEmulator,i,"emulator-config-failed"),gt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=Ow(t),{host:o,port:a}=AC(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),PC()}function Ow(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function AC(e){const t=Ow(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:gy(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:gy(o)}}}function gy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function PC(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(t){return mi("not implemented")}_linkToIdToken(t,n){return mi("not implemented")}_getReauthenticationResolver(t){return mi("not implemented")}}async function CC(e,t){return _s(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(e,t){return Wa(e,"POST","/v1/accounts:signInWithPassword",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(e,t){return Wa(e,"POST","/v1/accounts:signInWithEmailLink",ys(e,t))}async function OC(e,t){return Wa(e,"POST","/v1/accounts:signInWithEmailLink",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends yp{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new ha(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new ha(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,n,"signInWithPassword",RC);case"emailLink":return MC(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,i,"signUpPassword",CC);case"emailLink":return OC(t,{idToken:n,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(e,t){return Wa(e,"POST","/v1/accounts:signInWithIdp",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="http://localhost";class qs extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=dp(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new qs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ir(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ir(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ir(t,n)}buildRequest(){const t={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=za(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(e){const t=Io(So(e)).link,n=t?Io(So(t)).deep_link_id:null,i=Io(So(e)).deep_link_id;return(i?Io(So(i)).link:null)||i||n||t||e}class _p{constructor(t){var n,i,s,r,o,a;const l=Io(So(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=LC((s=l.mode)!==null&&s!==void 0?s:null);gt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=NC(t);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(t,n){return ha._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=_p.parseLink(n);return gt(i,"argument-error"),ha._fromEmailAndCode(t,i.code,i.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Dw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends qa{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zi.credential(t.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends qa{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Hi.credential(n,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends qa{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends qa{constructor(){super("twitter.com")}static credential(t,n){return qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(e,t){return Wa(e,"POST","/v1/accounts:signUp",ys(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await yi._fromIdTokenResponse(t,i,s),o=my(i);return new Ks({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=my(i);return new Ks({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function my(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends ci{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Oc(t,n,i,s)}}function Lw(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(e,r,t,i):r})}async function FC(e,t,n=!1){const i=await ua(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ks._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(e,t,n=!1){const{auth:i}=e;if(Xn(i.app))return Promise.reject(ki(i));const s="reauthenticate";try{const r=await ua(e,Lw(i,s,t,e),n);gt(r.idToken,i,"internal-error");const o=gp(r.idToken);gt(o,i,"internal-error");const{sub:a}=o;return gt(e.uid===a,i,"user-mismatch"),Ks._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Fn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(e,t,n=!1){if(Xn(e.app))return Promise.reject(ki(e));const i="signIn",s=await Lw(e,i,t),r=await Ks._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function UC(e,t){return Nw(ir(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(e){const t=ir(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function BC(e,t,n){if(Xn(e.app))return Promise.reject(ki(e));const i=ir(e),o=await jd(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VC).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Vw(e),l}),a=await Ks._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function jC(e,t,n){return Xn(e.app)?Promise.reject(ki(e)):UC(un(e),eo.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Vw(e),i})}function zC(e,t,n,i){return un(e).onIdTokenChanged(t,n,i)}function HC(e,t,n){return un(e).beforeAuthStateChanged(t,n)}function Oi(e,t,n,i){return un(e).onAuthStateChanged(t,n,i)}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){const e=Me();return mp(e)||ku(e)}const qC=1e3,KC=10;class $w extends Fw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WC()&&dC(),this.fallbackToPolling=Cw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);hC()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,KC):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$w.type="LOCAL";const GC=$w;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Fw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Uw.type="SESSION";const Bw=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Su(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await YC(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Su.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=vp("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function QC(e){ti().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function JC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function tR(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebaseLocalStorageDb",eR=1,Lc="firebaseLocalStorage",Hw="fbase_key";class Ka{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Au(e,t){return e.transaction([Lc],t?"readwrite":"readonly").objectStore(Lc)}function nR(){const e=indexedDB.deleteDatabase(zw);return new Ka(e).toPromise()}function zd(){const e=indexedDB.open(zw,eR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Lc,{keyPath:Hw})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Lc)?t(i):(i.close(),await nR(),t(await zd()))})})}async function yy(e,t,n){const i=Au(e,!0).put({[Hw]:t,value:n});return new Ka(i).toPromise()}async function iR(e,t){const n=Au(e,!1).get(t),i=await new Ka(n).toPromise();return i===void 0?null:i.value}function _y(e,t){const n=Au(e,!0).delete(t);return new Ka(n).toPromise()}const sR=800,rR=3;class Ww{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>rR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(tR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zd();return await yy(t,Dc,"1"),await _y(t,Dc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>yy(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>iR(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_y(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Au(s,!1).getAll();return new Ka(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ww.type="LOCAL";const oR=Ww;new Ha(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(e,t){return t?_i(t):(gt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends yp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ir(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ir(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ir(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lR(e){return Nw(e.auth,new bp(e),e.bypassAuthState)}function cR(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),$C(n,new bp(e),e.bypassAuthState)}async function uR(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),FC(n,new bp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return cR;default:Fn(this.auth,"internal-error")}}resolve(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Ha(2e3,1e4);class _r extends qw{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const t=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hR.get())};t()}}_r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="pendingRedirect",oc=new Map;class fR extends qw{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=oc.get(this.auth._key());if(!t){try{const i=await pR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}oc.set(this.auth._key(),t)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pR(e,t){const n=yR(t),i=mR(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function gR(e,t){oc.set(e._key(),t)}function mR(e){return _i(e._redirectPersistence)}function yR(e){return rc(dR,e.config.apiKey,e.name)}async function _R(e,t,n=!1){if(Xn(e.app))return Promise.reject(ki(e));const i=ir(e),s=aR(i,t),o=await new fR(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*60*1e3;class bR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Kw(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(t))}saveEventToCache(t){this.cachedEventUids.add(vy(t)),this.lastProcessedEventTime=Date.now()}}function vy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Kw({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(e,t={}){return _s(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^https?/;async function kR(e){if(e.config.emulator)return;const{authorizedDomains:t}=await xR(e);for(const n of t)try{if(IR(n))return}catch{}Fn(e,"unauthorized-domain")}function IR(e){const t=Ud(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!TR.test(n))return!1;if(ER.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Ha(3e4,6e4);function by(){const e=ti().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function AR(e){return new Promise((t,n)=>{var i,s,r;function o(){by(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{by(),n(Zn(e,"network-request-failed"))},timeout:SR.get()})}if(!((s=(i=ti().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=ti().gapi)===null||r===void 0)&&r.load)o();else{const a=wC("iframefcb");return ti()[a]=()=>{gapi.load?o():n(Zn(e,"network-request-failed"))},Mw(`${bC()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ac=null,t})}let ac=null;function PR(e){return ac=ac||AR(e),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Ha(5e3,15e3),RR="__/auth/iframe",MR="emulator/auth/iframe",OR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(e){const t=e.config;gt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pp(t,MR):`https://${e.config.authDomain}/${RR}`,i={apiKey:t.apiKey,appName:e.name,v:to},s=DR.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${za(i).slice(1)}`}async function NR(e){const t=await PR(e),n=ti().gapi;return gt(n,e,"internal-error"),t.open({where:document.body,url:LR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OR,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Zn(e,"network-request-failed"),a=ti().setTimeout(()=>{r(o)},CR.get());function l(){ti().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,$R=600,UR="_blank",BR="http://localhost";class wy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jR(e,t,n,i=FR,s=$R){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VR),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Me().toLowerCase();n&&(a=kw(c)?UR:n),Tw(c)&&(t=t||BR,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(uC(c)&&a!=="_self")return zR(t||"",a),new wy(null);const h=window.open(t||"",a,u);gt(h,e,"popup-blocked");try{h.focus()}catch{}return new wy(h)}function zR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__/auth/handler",WR="emulator/auth/handler",qR=encodeURIComponent("fac");async function xy(e,t,n,i,s,r){gt(e.config.authDomain,e,"auth-domain-config-required"),gt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:to,eventId:s};if(t instanceof Dw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",VA(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(t instanceof qa){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${qR}=${encodeURIComponent(l)}`:"";return`${KR(e)}?${za(a).slice(1)}${c}`}function KR({config:e}){return e.emulator?pp(e,WR):`https://${e.authDomain}/${HR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class GR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bw,this._completeRedirectFn=_R,this._overrideRedirectResult=gR}async _openPopup(t,n,i,s){var r;Ai((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await xy(t,n,i,Ud(),s);return jR(t,o,vp())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await xy(t,n,i,Ud(),s);return QC(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Ai(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await NR(t),i=new bR(t);return n.register("authEvent",s=>(gt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vh,{type:Vh},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Vh];o!==void 0&&n(!!o),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cw()||mp()||ku()}}const YR=GR;var Ey="@firebase/auth",Ty="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(e){ri(new Vn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;gt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(e)},c=new yC(i,s,r,l);return IC(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ri(new Vn("auth-internal",t=>{const n=ir(t.getProvider("auth").getImmediate());return(i=>new XR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Ey,Ty,QR(e)),kn(Ey,Ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=5*60,tM=aw("authIdTokenMaxAge")||ZR;let ky=null;const eM=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tM)return;const s=n==null?void 0:n.token;ky!==s&&(ky=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ze(e=hp()){const t=Zr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=kC(e,{popupRedirectResolver:YR,persistence:[oR,GC,Bw]}),i=aw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=eM(r.toString());HC(n,o,()=>o(n.currentUser)),zC(n,a=>o(a))}}const s=rw("auth");return s&&SC(n,`http://${s}`),n}function nM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}_C({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Zn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",nM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var iM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,wp=wp||{},wt=iM||self;function Pu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Cu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function sM(e){return Object.prototype.hasOwnProperty.call(e,Fh)&&e[Fh]||(e[Fh]=++rM)}var Fh="closure_uid_"+(1e9*Math.random()>>>0),rM=0;function oM(e,t,n){return e.call.apply(e.bind,arguments)}function aM(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Be(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=oM:Be=aM,Be.apply(null,arguments)}function Tl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Ie(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function vs(){this.s=this.s,this.o=this.o}var lM=0;vs.prototype.s=!1;vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),lM!=0)&&sM(this)};vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xp(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Iy(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Pu(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function je(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var cM=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};wt.addEventListener("test",n,t),wt.removeEventListener("test",n,t)}catch{}return e}();function da(e){return/^[\s\xa0]*$/.test(e)}function Ru(){var e=wt.navigator;return e&&(e=e.userAgent)?e:""}function Gn(e){return Ru().indexOf(e)!=-1}function Ep(e){return Ep[" "](e),e}Ep[" "]=function(){};function uM(e,t){var n=iO;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var hM=Gn("Opera"),Nr=Gn("Trident")||Gn("MSIE"),Yw=Gn("Edge"),Hd=Yw||Nr,Xw=Gn("Gecko")&&!(Ru().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),dM=Ru().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge");function Qw(){var e=wt.document;return e?e.documentMode:void 0}var Wd;t:{var $h="",Uh=function(){var e=Ru();if(Xw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Yw)return/Edge\/([\d\.]+)/.exec(e);if(Nr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(dM)return/WebKit\/(\S+)/.exec(e);if(hM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Uh&&($h=Uh?Uh[1]:""),Nr){var Bh=Qw();if(Bh!=null&&Bh>parseFloat($h)){Wd=String(Bh);break t}}Wd=$h}var qd;if(wt.document&&Nr){var Sy=Qw();qd=Sy||parseInt(Wd,10)||void 0}else qd=void 0;var fM=qd;function fa(e,t){if(je.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xw){t:{try{Ep(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:pM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fa.$.h.call(this)}}Ie(fa,je);var pM={2:"touch",3:"pen",4:"mouse"};fa.prototype.h=function(){fa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),gM=0;function mM(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++gM,this.fa=this.ia=!1}function Ou(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Tp(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function yM(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Jw(e){const t={};for(const n in e)t[n]=e[n];return t}const Ay="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zw(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<Ay.length;r++)n=Ay[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Du(e){this.src=e,this.g={},this.h=0}Du.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Gd(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new mM(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function Kd(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=Gw(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ou(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Gd(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var kp="closure_lm_"+(1e6*Math.random()|0),jh={};function t1(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t1(e,t[r],n,i,s);return null}return n=i1(n),e&&e[Mu]?e.O(t,n,Cu(i)?!!i.capture:!!i,s):_M(e,t,n,!1,i,s)}function _M(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=Cu(s)?!!s.capture:!!s,a=Sp(e);if(a||(e[kp]=a=new Du(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=vM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)cM||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(n1(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vM(){function e(n){return t.call(e.src,e.listener,n)}const t=bM;return e}function e1(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)e1(e,t[r],n,i,s);else i=Cu(i)?!!i.capture:!!i,n=i1(n),e&&e[Mu]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Gd(r,n,i,s),-1<n&&(Ou(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=Sp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gd(t,n,i,s)),(n=-1<e?t[e]:null)&&Ip(n))}function Ip(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Mu])Kd(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(n1(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Sp(t))?(Kd(n,e),n.h==0&&(n.src=null,t[kp]=null)):Ou(e)}}}function n1(e){return e in jh?jh[e]:jh[e]="on"+e}function bM(e,t){if(e.fa)e=!0;else{t=new fa(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Ip(e),e=n.call(i,t)}return e}function Sp(e){return e=e[kp],e instanceof Du?e:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function i1(e){return typeof e=="function"?e:(e[zh]||(e[zh]=function(t){return e.handleEvent(t)}),e[zh])}function ke(){vs.call(this),this.i=new Du(this),this.S=this,this.J=null}Ie(ke,vs);ke.prototype[Mu]=!0;ke.prototype.removeEventListener=function(e,t,n,i){e1(this,e,t,n,i)};function Ce(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new je(t,e);else if(t instanceof je)t.target=t.target||e;else{var s=t;t=new je(i,e),Zw(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=kl(o,i,!0,t)&&s}if(o=t.g=e,s=kl(o,i,!0,t)&&s,s=kl(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=kl(o,i,!1,t)&&s}ke.prototype.N=function(){if(ke.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Ou(n[i]);delete e.g[t],e.h--}}this.J=null};ke.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ke.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function kl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Kd(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var Ap=wt.JSON.stringify;class wM{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function xM(){var e=Pp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class EM{constructor(){this.h=this.g=null}add(t,n){const i=s1.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var s1=new wM(()=>new TM,e=>e.reset());class TM{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kM(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function IM(e){wt.setTimeout(()=>{throw e},0)}let pa,ga=!1,Pp=new EM,r1=()=>{const e=wt.Promise.resolve(void 0);pa=()=>{e.then(SM)}};var SM=()=>{for(var e;e=xM();){try{e.h.call(e.g)}catch(n){IM(n)}var t=s1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ga=!1};function Lu(e,t){ke.call(this),this.h=e||1,this.g=t||wt,this.j=Be(this.qb,this),this.l=Date.now()}Ie(Lu,ke);G=Lu.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ce(this,"tick"),this.ga&&(Cp(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}G.N=function(){Lu.$.N.call(this),Cp(this),delete this.g};function Rp(e,t,n){if(typeof e=="function")n&&(e=Be(e,n));else if(e&&typeof e.handleEvent=="function")e=Be(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:wt.setTimeout(e,t||0)}function o1(e){e.g=Rp(()=>{e.g=null,e.i&&(e.i=!1,o1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class AM extends vs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:o1(this)}N(){super.N(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(e){vs.call(this),this.h=e,this.g={}}Ie(ma,vs);var Py=[];function a1(e,t,n,i){Array.isArray(n)||(n&&(Py[0]=n.toString()),n=Py);for(var s=0;s<n.length;s++){var r=t1(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function l1(e){Tp(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ip(t)},e),e.g={}}ma.prototype.N=function(){ma.$.N.call(this),l1(this)};ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nu(){this.g=!0}Nu.prototype.Ea=function(){this.g=!1};function PM(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function CM(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function vr(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+MM(e,n)+(i?" "+i:"")})}function RM(e,t){e.info(function(){return"TIMEOUT: "+t})}Nu.prototype.info=function(){};function MM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ap(n)}catch{return t}}var sr={},Cy=null;function Vu(){return Cy=Cy||new ke}sr.Ta="serverreachability";function c1(e){je.call(this,sr.Ta,e)}Ie(c1,je);function ya(e){const t=Vu();Ce(t,new c1(t))}sr.STAT_EVENT="statevent";function u1(e,t){je.call(this,sr.STAT_EVENT,e),this.stat=t}Ie(u1,je);function Je(e){const t=Vu();Ce(t,new u1(t,e))}sr.Ua="timingevent";function h1(e,t){je.call(this,sr.Ua,e),this.size=t}Ie(h1,je);function Ga(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){e()},t)}var Fu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},d1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mp(){}Mp.prototype.h=null;function Ry(e){return e.h||(e.h=e.i())}function f1(){}var Ya={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Op(){je.call(this,"d")}Ie(Op,je);function Dp(){je.call(this,"c")}Ie(Dp,je);var Yd;function $u(){}Ie($u,Mp);$u.prototype.g=function(){return new XMLHttpRequest};$u.prototype.i=function(){return{}};Yd=new $u;function Xa(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new ma(this),this.P=OM,e=Hd?125:void 0,this.V=new Lu(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new p1}function p1(){this.i=null,this.g="",this.h=!1}var OM=45e3,g1={},Xd={};G=Xa.prototype;G.setTimeout=function(e){this.P=e};function Qd(e,t,n){e.L=1,e.A=Bu(Pi(t)),e.u=n,e.S=!0,m1(e,null)}function m1(e,t){e.G=Date.now(),Qa(e),e.B=Pi(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),T1(n.i,"t",i),e.o=0,n=e.l.J,e.h=new p1,e.g=W1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new AM(Be(e.Pa,e,e.g),e.O)),a1(e.U,e.g,"readystatechange",e.nb),t=e.I?Jw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ya(),PM(e.j,e.v,e.B,e.m,e.W,e.u)}G.nb=function(e){e=e.target;const t=this.M;t&&Qn(e)==3?t.l():this.Pa(e)};G.Pa=function(e){try{if(e==this.g)t:{const u=Qn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Hd||this.g&&(this.h.h||this.g.ja()||Ly(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?ya(3):ya(2)),Uu(this);var n=this.g.da();this.ca=n;e:if(y1(this)){var i=Ly(this.g);e="";var s=i.length,r=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),Wo(this);var o="";break e}this.h.i=new wt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,CM(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!da(a)){var c=a;break e}}c=null}if(n=c)vr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jd(this,n);else{this.i=!1,this.s=3,Je(12),Os(this),Wo(this);break t}}this.S?(_1(this,u,o),Hd&&this.i&&u==3&&(a1(this.U,this.V,"tick",this.mb),this.V.start())):(vr(this.j,this.m,o,null),Jd(this,o)),u==4&&Os(this),this.i&&!this.J&&(u==4?B1(this.l,this):(this.i=!1,Qa(this)))}else tO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Os(this),Wo(this)}}}catch{}finally{}};function y1(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function _1(e,t,n){let i=!0,s;for(;!e.J&&e.o<n.length;)if(s=DM(e,n),s==Xd){t==4&&(e.s=4,Je(14),i=!1),vr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==g1){e.s=4,Je(15),vr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else vr(e.j,e.m,s,null),Jd(e,s);y1(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Je(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Up(t),t.M=!0,Je(11))):(vr(e.j,e.m,n,"[Invalid Chunked Response]"),Os(e),Wo(e))}G.mb=function(){if(this.g){var e=Qn(this.g),t=this.g.ja();this.o<t.length&&(Uu(this),_1(this,e,t),this.i&&e!=4&&Qa(this))}};function DM(e,t){var n=e.o,i=t.indexOf(`
`,n);return i==-1?Xd:(n=Number(t.substring(n,i)),isNaN(n)?g1:(i+=1,i+n>t.length?Xd:(t=t.slice(i,i+n),e.o=i+n,t)))}G.cancel=function(){this.J=!0,Os(this)};function Qa(e){e.Y=Date.now()+e.P,v1(e,e.P)}function v1(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Ga(Be(e.lb,e),t)}function Uu(e){e.C&&(wt.clearTimeout(e.C),e.C=null)}G.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(RM(this.j,this.B),this.L!=2&&(ya(),Je(17)),Os(this),this.s=2,Wo(this)):v1(this,this.Y-e)};function Wo(e){e.l.H==0||e.J||B1(e.l,e)}function Os(e){Uu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Cp(e.V),l1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Zd(n.i,e))){if(!e.K&&Zd(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Fc(n),Hu(n);else break t;$p(n),Je(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ga(Be(n.ib,n),6e3));if(1>=S1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ds(n,11)}else if((e.K||n.g==e)&&Fc(n),!da(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=e.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Lp(r,r.h),r.h=null))}if(i.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Zt(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=H1(i,i.J?i.pa:null,i.Y),o.K){A1(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(Uu(a),Qa(a)),i.g=o}else $1(i);0<n.j.length&&Wu(n)}else c[0]!="stop"&&c[0]!="close"||Ds(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ds(n,7):Fp(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ya(4)}catch{}}function LM(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Pu(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function NM(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Pu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function b1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Pu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=NM(e),i=LM(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var w1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function js(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof js){this.h=e.h,Nc(this,e.j),this.s=e.s,this.g=e.g,Vc(this,e.m),this.l=e.l;var t=e.i,n=new _a;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),My(this,n),this.o=e.o}else e&&(t=String(e).match(w1))?(this.h=!1,Nc(this,t[1]||"",!0),this.s=Ao(t[2]||""),this.g=Ao(t[3]||"",!0),Vc(this,t[4]),this.l=Ao(t[5]||"",!0),My(this,t[6]||"",!0),this.o=Ao(t[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}js.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Po(t,Oy,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Po(t,Oy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Po(n,n.charAt(0)=="/"?UM:$M,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Po(n,jM)),e.join("")};function Pi(e){return new js(e)}function Nc(e,t,n){e.j=n?Ao(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function My(e,t,n){t instanceof _a?(e.i=t,zM(e.i,e.h)):(n||(t=Po(t,BM)),e.i=new _a(t,e.h))}function Zt(e,t,n){e.i.set(t,n)}function Bu(e){return Zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ao(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Po(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,FM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function FM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Oy=/[#\/\?@]/g,$M=/[#\?:]/g,UM=/[#\?]/g,BM=/[#\?@]/g,jM=/#/g;function _a(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bs(e){e.g||(e.g=new Map,e.h=0,e.i&&VM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=_a.prototype;G.add=function(e,t){bs(this),this.i=null,e=no(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function x1(e,t){bs(e),t=no(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function E1(e,t){return bs(e),t=no(e,t),e.g.has(t)}G.forEach=function(e,t){bs(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};G.ta=function(){bs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};G.Z=function(e){bs(this);let t=[];if(typeof e=="string")E1(this,e)&&(t=t.concat(this.g.get(no(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};G.set=function(e,t){return bs(this),this.i=null,e=no(this,e),E1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function T1(e,t,n){x1(e,t),0<n.length&&(e.i=null,e.g.set(no(e,t),xp(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function no(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zM(e,t){t&&!e.j&&(bs(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(x1(this,i),T1(this,s,n))},e)),e.j=t}var HM=class{constructor(e,t){this.g=e,this.map=t}};function k1(e){this.l=e||WM,wt.PerformanceNavigationTiming?(e=wt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(wt.g&&wt.g.Ka&&wt.g.Ka()&&wt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WM=10;function I1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function S1(e){return e.h?1:e.g?e.g.size:0}function Zd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Lp(e,t){e.g?e.g.add(t):e.h=t}function A1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}k1.prototype.cancel=function(){if(this.i=P1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function P1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xp(e.i)}var qM=class{stringify(e){return wt.JSON.stringify(e,void 0)}parse(e){return wt.JSON.parse(e,void 0)}};function KM(){this.g=new qM}function GM(e,t,n){const i=n||"";try{b1(e,function(s,r){let o=s;Cu(s)&&(o=Ap(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function YM(e,t){const n=new Nu;if(wt.Image){const i=new Image;i.onload=Tl(Il,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Tl(Il,n,i,"TestLoadImage: error",!1,t),i.onabort=Tl(Il,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Tl(Il,n,i,"TestLoadImage: timeout",!1,t),wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Il(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function Ja(e){this.l=e.ec||null,this.j=e.ob||!1}Ie(Ja,Mp);Ja.prototype.g=function(){return new ju(this.l,this.j)};Ja.prototype.i=function(e){return function(){return e}}({});function ju(e,t){ke.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ie(ju,ke);var Np=0;G=ju.prototype;G.open=function(e,t){if(this.readyState!=Np)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,va(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=Np};G.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof wt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function C1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}G.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Za(this):va(this),this.readyState==3&&C1(this)}};G.Za=function(e){this.g&&(this.response=this.responseText=e,Za(this))};G.Ya=function(e){this.g&&(this.response=e,Za(this))};G.ka=function(){this.g&&Za(this)};function Za(e){e.readyState=4,e.l=null,e.j=null,e.A=null,va(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function va(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var XM=wt.JSON.parse;function ce(e){ke.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=R1,this.L=this.M=!1}Ie(ce,ke);var R1="",QM=/^https?$/i,JM=["POST","PUT"];G=ce.prototype;G.Oa=function(e){this.M=e};G.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yd.g(),this.C=this.u?Ry(this.u):Ry(Yd),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){Dy(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=wt.FormData&&e instanceof wt.FormData,!(0<=Gw(JM,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{D1(this),0<this.B&&((this.L=ZM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=Rp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){Dy(this,r)}};function ZM(e){return Nr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}G.ua=function(){typeof wp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))};function Dy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,M1(e),zu(e)}function M1(e){e.F||(e.F=!0,Ce(e,"complete"),Ce(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),zu(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),ce.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?O1(this):this.kb())};G.kb=function(){O1(this)};function O1(e){if(e.h&&typeof wp<"u"&&(!e.C[1]||Qn(e)!=4||e.da()!=2)){if(e.v&&Qn(e)==4)Rp(e.La,0,e);else if(Ce(e,"readystatechange"),Qn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(w1)[1]||null;!s&&wt.self&&wt.self.location&&(s=wt.self.location.protocol.slice(0,-1)),i=!QM.test(s?s.toLowerCase():"")}n=i}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var r=2<Qn(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",M1(e)}}finally{zu(e)}}}}function zu(e,t){if(e.g){D1(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=i}catch{}}}function D1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wt.clearTimeout(e.A),e.A=null)}G.isActive=function(){return!!this.g};function Qn(e){return e.g?e.g.readyState:0}G.da=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),XM(t)}};function Ly(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case R1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tO(e){const t={};e=(e.g&&2<=Qn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(da(e[i]))continue;var n=kM(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}yM(t,function(i){return i.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function L1(e){let t="";return Tp(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Vp(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=L1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Zt(e,t,n))}function mo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function N1(e){this.Ga=0,this.j=[],this.l=new Nu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mo("baseRetryDelayMs",5e3,e),this.hb=mo("retryDelaySeedMs",1e4,e),this.eb=mo("forwardChannelMaxRetries",2,e),this.xa=mo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new k1(e&&e.concurrentRequestLimit),this.Ja=new KM,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=N1.prototype;G.ra=8;G.H=1;function Fp(e){if(V1(e),e.H==3){var t=e.W++,n=Pi(e.I);if(Zt(n,"SID",e.K),Zt(n,"RID",t),Zt(n,"TYPE","terminate"),tl(e,n),t=new Xa(e,e.l,t),t.L=2,t.A=Bu(Pi(n)),n=!1,wt.navigator&&wt.navigator.sendBeacon)try{n=wt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&wt.Image&&(new Image().src=t.A,n=!0),n||(t.g=W1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Qa(t)}z1(e)}function Hu(e){e.g&&(Up(e),e.g.cancel(),e.g=null)}function V1(e){Hu(e),e.u&&(wt.clearTimeout(e.u),e.u=null),Fc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&wt.clearTimeout(e.m),e.m=null)}function Wu(e){if(!I1(e.i)&&!e.m){e.m=!0;var t=e.Na;pa||r1(),ga||(pa(),ga=!0),Pp.add(t,e),e.C=0}}function eO(e,t){return S1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ga(Be(e.Na,e,t),j1(e,e.C)),e.C++,!0)}G.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Xa(this,this.l,e);let r=this.s;if(this.U&&(r?(r=Jw(r),Zw(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=F1(this,s,t),n=Pi(this.I),Zt(n,"RID",e),Zt(n,"CVER",22),this.F&&Zt(n,"X-HTTP-Session-Id",this.F),tl(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(L1(r)))+"&"+t:this.o&&Vp(n,this.o,r)),Lp(this.i,s),this.bb&&Zt(n,"TYPE","init"),this.P?(Zt(n,"$req",t),Zt(n,"SID","null"),s.aa=!0,Qd(s,n,null)):Qd(s,n,t),this.H=2}}else this.H==3&&(e?Ny(this,e):this.j.length==0||I1(this.i)||Ny(this))};function Ny(e,t){var n;t?n=t.m:n=e.W++;const i=Pi(e.I);Zt(i,"SID",e.K),Zt(i,"RID",n),Zt(i,"AID",e.V),tl(e,i),e.o&&e.s&&Vp(i,e.o,e.s),n=new Xa(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=F1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Lp(e.i,n),Qd(n,i,t)}function tl(e,t){e.na&&Tp(e.na,function(n,i){Zt(t,i,n)}),e.h&&b1({},function(n,i){Zt(t,i,n)})}function F1(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Be(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{GM(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function $1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;pa||r1(),ga||(pa(),ga=!0),Pp.add(t,e),e.A=0}}function $p(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ga(Be(e.Ma,e),j1(e,e.A)),e.A++,!0)}G.Ma=function(){if(this.u=null,U1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ga(Be(this.jb,this),e)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Je(10),Hu(this),U1(this))};function Up(e){e.B!=null&&(wt.clearTimeout(e.B),e.B=null)}function U1(e){e.g=new Xa(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Pi(e.wa);Zt(t,"RID","rpc"),Zt(t,"SID",e.K),Zt(t,"AID",e.V),Zt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Zt(t,"TO",e.qa),Zt(t,"TYPE","xmlhttp"),tl(e,t),e.o&&e.s&&Vp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Bu(Pi(t)),n.u=null,n.S=!0,m1(n,e)}G.ib=function(){this.v!=null&&(this.v=null,Hu(this),$p(this),Je(19))};function Fc(e){e.v!=null&&(wt.clearTimeout(e.v),e.v=null)}function B1(e,t){var n=null;if(e.g==t){Fc(e),Up(e),e.g=null;var i=2}else if(Zd(e.i,t))n=t.F,A1(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;i=Vu(),Ce(i,new h1(i,n)),Wu(e)}else $1(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(i==1&&eO(e,t)||i==2&&$p(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Ds(e,5);break;case 4:Ds(e,10);break;case 3:Ds(e,6);break;default:Ds(e,2)}}}function j1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ds(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Be(e.pb,e);n||(n=new js("//www.google.com/images/cleardot.gif"),wt.location&&wt.location.protocol=="http"||Nc(n,"https"),Bu(n)),YM(n.toString(),i)}else Je(2);e.H=0,e.h&&e.h.za(t),z1(e),V1(e)}G.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Je(2)):(this.l.info("Failed to ping google.com"),Je(1))};function z1(e){if(e.H=0,e.ma=[],e.h){const t=P1(e.i);(t.length!=0||e.j.length!=0)&&(Iy(e.ma,t),Iy(e.ma,e.j),e.i.i.length=0,xp(e.j),e.j.length=0),e.h.ya()}}function H1(e,t,n){var i=n instanceof js?Pi(n):new js(n);if(i.g!="")t&&(i.g=t+"."+i.g),Vc(i,i.m);else{var s=wt.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new js(null);i&&Nc(r,i),t&&(r.g=t),s&&Vc(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Zt(i,n,t),Zt(i,"VER",e.ra),tl(e,i),i}function W1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new ce(new Ja({ob:n})):new ce(e.va),t.Oa(e.J),t}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function q1(){}G=q1.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function $c(){if(Nr&&!(10<=Number(fM)))throw Error("Environmental error: no available transport.")}$c.prototype.g=function(e,t){return new mn(e,t)};function mn(e,t){ke.call(this),this.g=new N1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!da(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!da(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new io(this)}Ie(mn,ke);mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Je(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=H1(e,null,e.Y),Wu(e)};mn.prototype.close=function(){Fp(this.g)};mn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ap(e),e=n);t.j.push(new HM(t.fb++,e)),t.H==3&&Wu(t)};mn.prototype.N=function(){this.g.h=null,delete this.j,Fp(this.g),delete this.g,mn.$.N.call(this)};function K1(e){Op.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ie(K1,Op);function G1(){Dp.call(this),this.status=1}Ie(G1,Dp);function io(e){this.g=e}Ie(io,q1);io.prototype.Ba=function(){Ce(this.g,"a")};io.prototype.Aa=function(e){Ce(this.g,new K1(e))};io.prototype.za=function(e){Ce(this.g,new G1)};io.prototype.ya=function(){Ce(this.g,"b")};function nO(){this.blockSize=-1}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ie($n,nO);$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hh(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}$n.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)Hh(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){Hh(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){Hh(this,i),s=0;break}}this.h=s,this.i+=t};$n.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Ht(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var iO={};function Bp(e){return-128<=e&&128>e?uM(e,function(t){return new Ht([t|0],0>t?-1:0)}):new Ht([e|0],0>e?-1:0)}function Jn(e){if(isNaN(e)||!isFinite(e))return Sr;if(0>e)return Ae(Jn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=tf;return new Ht(t,0)}function Y1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ae(Y1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jn(Math.pow(t,8)),i=Sr,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=Jn(Math.pow(t,r)),i=i.R(r).add(Jn(o))):(i=i.R(n),i=i.add(Jn(o)))}return i}var tf=4294967296,Sr=Bp(0),ef=Bp(1),Vy=Bp(16777216);G=Ht.prototype;G.ea=function(){if(bn(this))return-Ae(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:tf+i)*t,t*=tf}return e};G.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(vi(this))return"0";if(bn(this))return"-"+Ae(this).toString(e);for(var t=Jn(Math.pow(e,6)),n=this,i="";;){var s=Bc(n,t).g;n=Uc(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,vi(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};G.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function vi(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function bn(e){return e.h==-1}G.X=function(e){return e=Uc(this,e),bn(e)?-1:vi(e)?0:1};function Ae(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Ht(n,~e.h).add(ef)}G.abs=function(){return bn(this)?Ae(this):this};G.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Ht(n,n[n.length-1]&-2147483648?-1:0)};function Uc(e,t){return e.add(Ae(t))}G.R=function(e){if(vi(this)||vi(e))return Sr;if(bn(this))return bn(e)?Ae(this).R(Ae(e)):Ae(Ae(this).R(e));if(bn(e))return Ae(this.R(Ae(e)));if(0>this.X(Vy)&&0>e.X(Vy))return Jn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,Sl(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Sl(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,Sl(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,Sl(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Ht(n,0)};function Sl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function yo(e,t){this.g=e,this.h=t}function Bc(e,t){if(vi(t))throw Error("division by zero");if(vi(e))return new yo(Sr,Sr);if(bn(e))return t=Bc(Ae(e),t),new yo(Ae(t.g),Ae(t.h));if(bn(t))return t=Bc(e,Ae(t)),new yo(Ae(t.g),t.h);if(30<e.g.length){if(bn(e)||bn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ef,i=t;0>=i.X(e);)n=Fy(n),i=Fy(i);var s=hr(n,1),r=hr(i,1);for(i=hr(i,2),n=hr(n,2);!vi(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=hr(i,1),n=hr(n,1)}return t=Uc(e,s.R(t)),new yo(s,t)}for(s=Sr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=Jn(n),o=r.R(t);bn(o)||0<o.X(e);)n-=i,r=Jn(n),o=r.R(t);vi(r)&&(r=ef),s=s.add(r),e=Uc(e,o)}return new yo(s,e)}G.gb=function(e){return Bc(this,e).h};G.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Ht(n,this.h&e.h)};G.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Ht(n,this.h|e.h)};G.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Ht(n,this.h^e.h)};function Fy(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Ht(n,e.h)}function hr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new Ht(s,e.h)}$c.prototype.createWebChannel=$c.prototype.g;mn.prototype.send=mn.prototype.u;mn.prototype.open=mn.prototype.m;mn.prototype.close=mn.prototype.close;Fu.NO_ERROR=0;Fu.TIMEOUT=8;Fu.HTTP_ERROR=6;d1.COMPLETE="complete";f1.EventType=Ya;Ya.OPEN="a";Ya.CLOSE="b";Ya.ERROR="c";Ya.MESSAGE="d";ke.prototype.listen=ke.prototype.O;ce.prototype.listenOnce=ce.prototype.P;ce.prototype.getLastError=ce.prototype.Sa;ce.prototype.getLastErrorCode=ce.prototype.Ia;ce.prototype.getStatus=ce.prototype.da;ce.prototype.getResponseJson=ce.prototype.Wa;ce.prototype.getResponseText=ce.prototype.ja;ce.prototype.send=ce.prototype.ha;ce.prototype.setWithCredentials=ce.prototype.Oa;$n.prototype.digest=$n.prototype.l;$n.prototype.reset=$n.prototype.reset;$n.prototype.update=$n.prototype.j;Ht.prototype.add=Ht.prototype.add;Ht.prototype.multiply=Ht.prototype.R;Ht.prototype.modulo=Ht.prototype.gb;Ht.prototype.compare=Ht.prototype.X;Ht.prototype.toNumber=Ht.prototype.ea;Ht.prototype.toString=Ht.prototype.toString;Ht.prototype.getBits=Ht.prototype.D;Ht.fromNumber=Jn;Ht.fromString=Y1;var sO=function(){return new $c},rO=function(){return Vu()},Wh=Fu,oO=d1,aO=sr,$y={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lO=Ja,Al=f1,cO=ce,uO=$n,Ar=Ht;const Uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new cp("@firebase/firestore");function _o(){return Gs.logLevel}function nt(e,...t){if(Gs.logLevel<=Rt.DEBUG){const n=t.map(jp);Gs.debug(`Firestore (${so}): ${e}`,...n)}}function Ci(e,...t){if(Gs.logLevel<=Rt.ERROR){const n=t.map(jp);Gs.error(`Firestore (${so}): ${e}`,...n)}}function Vr(e,...t){if(Gs.logLevel<=Rt.WARN){const n=t.map(jp);Gs.warn(`Firestore (${so}): ${e}`,...n)}}function jp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e="Unexpected state"){const t=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+e;throw Ci(t),new Error(t)}function Yt(e,t){e||xt()}function kt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ci{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ne.UNAUTHENTICATED))}shutdown(){}}class dO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fO{constructor(t){this.t=t,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new es;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new es,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new es)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string"),new X1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new Ne(t)}}class pO{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gO{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new pO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yO{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,nt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new mO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=_O(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function Vt(e,t){return e<t?-1:e>t?1:0}function Fr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pt(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new _e(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new _e(0,0))}static max(){return new Tt(new _e(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n,i){n===void 0?n=0:n>t.length&&xt(),i===void 0?i=t.length-n:i>t.length-n&&xt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ba.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ba?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class le extends ba{construct(t,n,i){return new le(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new le(n)}static emptyPath(){return new le([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ba{construct(t,n,i){return new Pe(t,n,i)}static isValidIdentifier(t){return vO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new pt(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new pt(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pt(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new pt(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pe(n)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(le.fromString(t))}static fromName(t){return new ft(le.fromString(t).popFirst(5))}static empty(){return new ft(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new le(t.slice()))}}function bO(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Tt.fromTimestamp(i===1e9?new _e(n+1,0):new _e(n,i));return new os(s,ft.empty(),t)}function wO(e){return new os(e.readTime,e.key,-1)}class os{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new os(Tt.min(),ft.empty(),-1)}static max(){return new os(Tt.max(),ft.empty(),-1)}}function xO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(e.documentKey,t.documentKey),n!==0?n:Vt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==EO)throw e;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,i)=>{n(t)})}static reject(t){return new $((n,i)=>{i(t)})}static waitFor(t){return new $((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=$.resolve(!1);for(const i of t)n=n.next(s=>s?$.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new $((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new $((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function kO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}zp.oe=-1;function qu(e){return e==null}function jc(e){return e===0&&1/e==-1/0}function IO(e){return typeof e=="number"&&Number.isInteger(e)&&!jc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||Se.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Se.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Se.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pl(this.root,t,this.comparator,!0)}}class Pl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Se{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Se.RED,this.left=s??Se.EMPTY,this.right=r??Se.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Se(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Se.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Se.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Se.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}}Se.EMPTY=null,Se.RED=!0,Se.BLACK=!1;Se.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,n,i,s,r){return this}insert(t,n,i){return new Se(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(t){return new jy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class jy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(Pe.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new Re(Pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Z1("Invalid base64 string: "+r):r}}(t);return new He(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const SO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(e){if(Yt(!!e),typeof e=="string"){let t=0;const n=SO.exec(e);if(Yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:de(e.seconds),nanos:de(e.nanos)}}function de(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ys(e){return typeof e=="string"?He.fromBase64String(e):He.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wp(e){const t=e.mapValue.fields.__previous_value__;return Hp(t)?Wp(t):t}function wa(e){const t=as(e.mapValue.fields.__local_write_time__.timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class xa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hp(e)?4:PO(e)?9007199254740991:10:xt()}function oi(e,t){if(e===t)return!0;const n=Xs(e);if(n!==Xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wa(e).isEqual(wa(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=as(s.timestampValue),a=as(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ys(s.bytesValue).isEqual(Ys(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return de(s.geoPointValue.latitude)===de(r.geoPointValue.latitude)&&de(s.geoPointValue.longitude)===de(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return de(s.integerValue)===de(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=de(s.doubleValue),a=de(r.doubleValue);return o===a?jc(o)===jc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Fr(e.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(By(o)!==By(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!oi(o[l],a[l])))return!1;return!0}(e,t);default:return xt()}}function Ea(e,t){return(e.values||[]).find(n=>oi(n,t))!==void 0}function $r(e,t){if(e===t)return 0;const n=Xs(e),i=Xs(t);if(n!==i)return Vt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=de(r.integerValue||r.doubleValue),l=de(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return zy(e.timestampValue,t.timestampValue);case 4:return zy(wa(e),wa(t));case 5:return Vt(e.stringValue,t.stringValue);case 6:return function(r,o){const a=Ys(r),l=Ys(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Vt(a[c],l[c]);if(u!==0)return u}return Vt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Vt(de(r.latitude),de(o.latitude));return a!==0?a:Vt(de(r.longitude),de(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=$r(a[c],l[c]);if(u)return u}return Vt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Cl.mapValue&&o===Cl.mapValue)return 0;if(r===Cl.mapValue)return 1;if(o===Cl.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Vt(l[h],u[h]);if(d!==0)return d;const f=$r(a[l[h]],c[u[h]]);if(f!==0)return f}return Vt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw xt()}}function zy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Vt(e,t);const n=as(e),i=as(t),s=Vt(n.seconds,i.seconds);return s!==0?s:Vt(n.nanos,i.nanos)}function Ur(e){return nf(e)}function nf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=as(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ys(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ft.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=nf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${nf(n.fields[o])}`;return s+"}"}(e.mapValue):xt()}function sf(e){return!!e&&"integerValue"in e}function qp(e){return!!e&&"arrayValue"in e}function Hy(e){return!!e&&"nullValue"in e}function Wy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lc(e){return!!e&&"mapValue"in e}function qo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ro(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=qo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function PO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!lc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=qo(n)}setAll(t){let n=Pe.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=qo(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){ro(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new wn(qo(this.value))}}function tx(e){const t=[];return ro(e.fields,(n,i)=>{const s=new Pe([n]);if(lc(i)){const r=tx(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ve(t,0,Tt.min(),Tt.min(),Tt.min(),wn.empty(),0)}static newFoundDocument(t,n,i,s){return new Ve(t,1,n,Tt.min(),i,s,0)}static newNoDocument(t,n){return new Ve(t,2,n,Tt.min(),Tt.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new Ve(t,3,n,Tt.min(),Tt.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n){this.position=t,this.inclusive=n}}function qy(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=ft.comparator(ft.fromName(o.referenceValue),n.key):i=$r(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ky(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n="asc"){this.field=t,this.dir=n}}function CO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{}class me extends ex{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new MO(t,n,i):n==="array-contains"?new LO(t,i):n==="in"?new NO(t,i):n==="not-in"?new VO(t,i):n==="array-contains-any"?new FO(t,i):new me(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new OO(t,i):new DO(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($r(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison($r(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends ex{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new ai(t,n)}matches(t){return nx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nx(e){return e.op==="and"}function ix(e){return RO(e)&&nx(e)}function RO(e){for(const t of e.filters)if(t instanceof ai)return!1;return!0}function rf(e){if(e instanceof me)return e.field.canonicalString()+e.op.toString()+Ur(e.value);if(ix(e))return e.filters.map(t=>rf(t)).join(",");{const t=e.filters.map(n=>rf(n)).join(",");return`${e.op}(${t})`}}function sx(e,t){return e instanceof me?function(i,s){return s instanceof me&&i.op===s.op&&i.field.isEqual(s.field)&&oi(i.value,s.value)}(e,t):e instanceof ai?function(i,s){return s instanceof ai&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&sx(o,s.filters[a]),!0):!1}(e,t):void xt()}function rx(e){return e instanceof me?function(n){return`${n.field.canonicalString()} ${n.op} ${Ur(n.value)}`}(e):e instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(rx).join(" ,")+"}"}(e):"Filter"}class MO extends me{constructor(t,n,i){super(t,n,i),this.key=ft.fromName(i.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class OO extends me{constructor(t,n){super(t,"in",n),this.keys=ox("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DO extends me{constructor(t,n){super(t,"not-in",n),this.keys=ox("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ox(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ft.fromName(i.referenceValue))}class LO extends me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qp(n)&&Ea(n.arrayValue,this.value)}}class NO extends me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class VO extends me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ea(this.value.arrayValue,n)}}class FO extends me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ea(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ue=null}}function Gy(e,t=null,n=[],i=[],s=null,r=null,o=null){return new $O(e,t,n,i,s,r,o)}function Kp(e){const t=kt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>rf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),qu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ur(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ur(i)).join(",")),t.ue=n}return t.ue}function Gp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!CO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ky(e.startAt,t.startAt)&&Ky(e.endAt,t.endAt)}function of(e){return ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UO(e,t,n,i,s,r,o,a){return new Ku(e,t,n,i,s,r,o,a)}function Yp(e){return new Ku(e)}function Yy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function BO(e){return e.collectionGroup!==null}function Ko(e){const t=kt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Re(Pe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Hc(r,i))}),n.has(Pe.keyField().canonicalString())||t.ce.push(new Hc(Pe.keyField(),i))}return t.ce}function ei(e){const t=kt(e);return t.le||(t.le=jO(t,Ko(e))),t.le}function jO(e,t){if(e.limitType==="F")return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Hc(s.field,r)});const n=e.endAt?new zc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zc(e.startAt.position,e.startAt.inclusive):null;return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function af(e,t,n){return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gu(e,t){return Gp(ei(e),ei(t))&&e.limitType===t.limitType}function ax(e){return`${Kp(ei(e))}|lt:${e.limitType}`}function pr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>rx(s)).join(", ")}]`),qu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ur(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ur(s)).join(",")),`Target(${i})`}(ei(e))}; limitType=${e.limitType})`}function Yu(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ft.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Ko(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=qy(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Ko(i),s)||i.endAt&&!function(o,a,l){const c=qy(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Ko(i),s))}(e,t)}function zO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lx(e){return(t,n)=>{let i=!1;for(const s of Ko(e)){const r=HO(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function HO(e,t,n){const i=e.field.isKeyField()?ft.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?$r(l,c):xt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ro(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return J1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new ae(ft.comparator);function Ri(){return WO}const cx=new ae(ft.comparator);function Co(...e){let t=cx;for(const n of e)t=t.insert(n.key,n);return t}function ux(e){let t=cx;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ls(){return Go()}function hx(){return Go()}function Go(){return new oo(e=>e.toString(),(e,t)=>e.isEqual(t))}const qO=new ae(ft.comparator),KO=new Re(ft.comparator);function Pt(...e){let t=KO;for(const n of e)t=t.add(n);return t}const GO=new Re(Vt);function YO(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function fx(e){return{integerValue:""+e}}function XO(e,t){return IO(t)?fx(t):dx(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this._=void 0}}function QO(e,t,n){return e instanceof Wc?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Hp(r)&&(r=Wp(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Ta?gx(e,t):e instanceof ka?mx(e,t):function(s,r){const o=px(s,r),a=Xy(o)+Xy(s.Pe);return sf(o)&&sf(s.Pe)?fx(a):dx(s.serializer,a)}(e,t)}function JO(e,t,n){return e instanceof Ta?gx(e,t):e instanceof ka?mx(e,t):n}function px(e,t){return e instanceof qc?function(i){return sf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Wc extends Xu{}class Ta extends Xu{constructor(t){super(),this.elements=t}}function gx(e,t){const n=yx(t);for(const i of e.elements)n.some(s=>oi(s,i))||n.push(i);return{arrayValue:{values:n}}}class ka extends Xu{constructor(t){super(),this.elements=t}}function mx(e,t){let n=yx(t);for(const i of e.elements)n=n.filter(s=>!oi(s,i));return{arrayValue:{values:n}}}class qc extends Xu{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Xy(e){return de(e.integerValue||e.doubleValue)}function yx(e){return qp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ZO(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Ta&&s instanceof Ta||i instanceof ka&&s instanceof ka?Fr(i.elements,s.elements,oi):i instanceof qc&&s instanceof qc?oi(i.Pe,s.Pe):i instanceof Wc&&s instanceof Wc}(e.transform,t.transform)}class tD{constructor(t,n){this.version=t,this.transformResults=n}}class Ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qu{}function _x(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new bx(e.key,Ii.none()):new il(e.key,e.data,Ii.none());{const n=e.data,i=wn.empty();let s=new Re(Pe.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new rr(e.key,i,new Mn(s.toArray()),Ii.none())}}function eD(e,t,n){e instanceof il?function(s,r,o){const a=s.value.clone(),l=Jy(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof rr?function(s,r,o){if(!cc(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Jy(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(vx(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Yo(e,t,n,i){return e instanceof il?function(r,o,a,l){if(!cc(r.precondition,o))return a;const c=r.value.clone(),u=Zy(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof rr?function(r,o,a,l){if(!cc(r.precondition,o))return a;const c=Zy(r.fieldTransforms,l,o),u=o.data;return u.setAll(vx(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return cc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function nD(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=px(i.transform,s||null);r!=null&&(n===null&&(n=wn.empty()),n.set(i.field,r))}return n||null}function Qy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Fr(i,s,(r,o)=>ZO(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class il extends Qu{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rr extends Qu{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function vx(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Jy(e,t,n){const i=new Map;Yt(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,JO(o,a,n[s]))}return i}function Zy(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,QO(r,o,t))}return i}class bx extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends Qu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&eD(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Yo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Yo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=hx();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=_x(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Fr(this.mutations,t.mutations,(n,i)=>Qy(n,i))&&Fr(this.baseMutations,t.baseMutations,(n,i)=>Qy(n,i))}}class Xp{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Yt(t.mutations.length===i.length);let s=function(){return qO}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Xp(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he,Mt;function aD(e){switch(e){default:return xt();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function wx(e){if(e===void 0)return Ci("GRPC error has no .code"),B.UNKNOWN;switch(e){case he.OK:return B.OK;case he.CANCELLED:return B.CANCELLED;case he.UNKNOWN:return B.UNKNOWN;case he.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case he.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case he.INTERNAL:return B.INTERNAL;case he.UNAVAILABLE:return B.UNAVAILABLE;case he.UNAUTHENTICATED:return B.UNAUTHENTICATED;case he.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case he.NOT_FOUND:return B.NOT_FOUND;case he.ALREADY_EXISTS:return B.ALREADY_EXISTS;case he.PERMISSION_DENIED:return B.PERMISSION_DENIED;case he.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case he.ABORTED:return B.ABORTED;case he.OUT_OF_RANGE:return B.OUT_OF_RANGE;case he.UNIMPLEMENTED:return B.UNIMPLEMENTED;case he.DATA_LOSS:return B.DATA_LOSS;default:return xt()}}(Mt=he||(he={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Ar([4294967295,4294967295],0);function t_(e){const t=lD().encode(e),n=new uO;return n.update(t),new Uint8Array(n.digest())}function e_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ar([n,i],0),new Ar([s,r],0)]}class Qp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(i<0)throw new Ro(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Ar.fromNumber(this.Ie)}Ee(t,n,i){let s=t.add(n.multiply(Ar.fromNumber(i)));return s.compare(cD)===1&&(s=new Ar([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=t_(t),[i,s]=e_(n);for(let r=0;r<this.hashCount;r++){const o=this.Ee(i,s,r);if(!this.de(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Qp(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=t_(t),[i,s]=e_(n);for(let r=0;r<this.hashCount;r++){const o=this.Ee(i,s,r);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,sl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ju(Tt.min(),s,new ae(Vt),Ri(),Pt())}}class sl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new sl(i,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,n,i,s){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=s}}class xx{constructor(t,n){this.targetId=t,this.me=n}}class Ex{constructor(t,n,i=He.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class n_{constructor(){this.fe=0,this.ge=s_(),this.pe=He.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Pt(),n=Pt(),i=Pt();return this.ge.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:xt()}}),new sl(this.pe,this.ye,t,n,i)}ve(){this.we=!1,this.ge=s_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uD{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ri(),this.qe=i_(),this.Qe=new ae(Vt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:xt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(t){const n=t.targetId,i=t.me.count,s=this.Je(n);if(s){const r=s.target;if(of(r))if(i===0){const o=new ft(r.path);this.Ue(n,o,Ve.newNoDocument(o,Tt.min()))}else Yt(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let o,a;try{o=Ys(i).toUint8Array()}catch(l){if(l instanceof Z1)return Vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qp(o,s,r)}catch(l){return Vr(l instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,r,null),s++)}),s}rt(t){const n=new Map;this.Be.forEach((r,o)=>{const a=this.Je(o);if(a){if(r.current&&of(a.target)){const l=new ft(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ve.newNoDocument(l,t))}r.be&&(n.set(o,r.Ce()),r.ve())}});let i=Pt();this.qe.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.ke.forEach((r,o)=>o.setReadTime(t));const s=new Ju(t,n,this.Qe,this.ke,i);return this.ke=Ri(),this.qe=i_(),this.Qe=new ae(Vt),s}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new n_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Re(Vt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new n_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function i_(){return new ae(ft.comparator)}function s_(){return new ae(ft.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fD={and:"AND",or:"OR"};class pD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function lf(e,t){return e.useProto3Json||qu(t)?t:{value:t}}function Kc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gD(e,t){return Kc(e,t.toTimestamp())}function ni(e){return Yt(!!e),Tt.fromTimestamp(function(n){const i=as(n);return new _e(i.seconds,i.nanos)}(e))}function Jp(e,t){return cf(e,t).canonicalString()}function cf(e,t){const n=function(s){return new le(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function kx(e){const t=le.fromString(e);return Yt(Cx(t)),t}function uf(e,t){return Jp(e.databaseId,t.path)}function qh(e,t){const n=kx(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ft(Sx(n))}function Ix(e,t){return Jp(e.databaseId,t)}function mD(e){const t=kx(e);return t.length===4?le.emptyPath():Sx(t)}function hf(e){return new le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sx(e){return Yt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function r_(e,t,n){return{name:uf(e,t),fields:n.value.mapValue.fields}}function yD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Yt(u===void 0||typeof u=="string"),He.fromBase64String(u||"")):(Yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),He.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?B.UNKNOWN:wx(c.code);return new pt(u,c.message||"")}(o);n=new Ex(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=qh(e,i.document.name),r=ni(i.document.updateTime),o=i.document.createTime?ni(i.document.createTime):Tt.min(),a=new wn({mapValue:{fields:i.document.fields}}),l=Ve.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new uc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=qh(e,i.document),r=i.readTime?ni(i.readTime):Tt.min(),o=Ve.newNoDocument(s,r),a=i.removedTargetIds||[];n=new uc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=qh(e,i.document),r=i.removedTargetIds||[];n=new uc([],r,s,null)}else{if(!("filter"in t))return xt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new oD(s,r),a=i.targetId;n=new xx(a,o)}}return n}function _D(e,t){let n;if(t instanceof il)n={update:r_(e,t.key,t.value)};else if(t instanceof bx)n={delete:uf(e,t.key)};else if(t instanceof rr)n={update:r_(e,t.key,t.data),updateMask:SD(t.fieldMask)};else{if(!(t instanceof iD))return xt();n={verify:uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:gD(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:xt()}(e,t.precondition)),n}function vD(e,t){return e&&e.length>0?(Yt(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?ni(s.updateTime):ni(r);return o.isEqual(Tt.min())&&(o=ni(r)),new tD(o,s.transformResults||[])}(n,t))):[]}function bD(e,t){return{documents:[Ix(e,t.path)]}}function wD(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ix(e,s);const r=function(c){if(c.length!==0)return Px(ai.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:gr(d.field),direction:TD(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lf(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:s}}function xD(e){let t=mD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Yt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const d=Ax(h);return d instanceof ai&&ix(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new Hc(mr(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,qu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new zc(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new zc(f,d)}(n.endAt)),UO(t,s,o,r,a,"F",l,c)}function ED(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Ax(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=mr(n.unaryFilter.field);return me.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=mr(n.unaryFilter.field);return me.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mr(n.unaryFilter.field);return me.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mr(n.unaryFilter.field);return me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(e):e.fieldFilter!==void 0?function(n){return me.create(mr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(i=>Ax(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(e):xt()}function TD(e){return hD[e]}function kD(e){return dD[e]}function ID(e){return fD[e]}function gr(e){return{fieldPath:e.canonicalString()}}function mr(e){return Pe.fromServerFormat(e.fieldPath)}function Px(e){return e instanceof me?function(n){if(n.op==="=="){if(Wy(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wy(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(n.field),op:kD(n.op),value:n.value}}}(e):e instanceof ai?function(n){const i=n.getFilters().map(s=>Px(s));return i.length===1?i[0]:{compositeFilter:{op:ID(n.op),filters:i}}}(e):xt()}function SD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Cx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,n,i,s,r=Tt.min(),o=Tt.min(),a=He.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ki(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.ut=t}}function PD(e){const t=xD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?af(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.on=new RD}addToCollectionParentIndex(t,n){return this.on.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(os.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(os.min())}updateCollectionGroup(t,n,i){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class RD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Re(le.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Re(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Br(0)}static Nn(){return new Br(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new oo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Yo(i.mutation,s,Mn.empty(),_e.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Pt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Pt()){const s=Ls();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=Co();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Ls();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Pt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=Ri();const o=Go(),a=function(){return Go()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof rr)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Yo(u.mutation,c,u.mutation.getFieldMask(),_e.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new OD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Go();let s=new ae((o,a)=>o-a),r=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Mn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||Pt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=hx();u.forEach(d=>{if(!r.has(d)){const f=_x(n.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):BO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):$.resolve(Ls());let a=-1,l=r;return o.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?$.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,Pt())).next(u=>({batchId:a,changes:ux(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(i=>{let s=Co();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let o=Co();return this.indexManager.getCollectionParents(t,r).next(a=>$.forEach(a,l=>{const c=function(h,d){return new Ku(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(o=>{r.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ve.newInvalidDocument(u)))});let a=Co();return o.forEach((l,c)=>{const u=r.get(l);u!==void 0&&Yo(u.mutation,c,Mn.empty(),_e.now()),Yu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return $.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(s){return{name:s.name,query:PD(s.bundledQuery),readTime:ni(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.overlays=new ae(ft.comparator),this.lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ls();return $.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.lt(t,n,r)}),$.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.lr.delete(i)),$.resolve()}getOverlaysForCollection(t,n,i){const s=Ls(),r=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new ae((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Ls(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ls(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return $.resolve(a)}lt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new rD(n,i));let r=this.lr.get(n);r===void 0&&(r=Pt(),this.lr.set(n,r)),this.lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.hr=new Re(we.Pr),this.Ir=new Re(we.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const i=new we(t,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.dr(new we(t,n))}Ar(t,n){t.forEach(i=>this.removeReference(i,n))}Rr(t){const n=new ft(new le([])),i=new we(n,t),s=new we(n,t+1),r=[];return this.Ir.forEachInRange([i,s],o=>{this.dr(o),r.push(o.key)}),r}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ft(new le([])),i=new we(n,t),s=new we(n,t+1);let r=Pt();return this.Ir.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new we(t,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class we{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ft.comparator(t.key,n.key)||Vt(t.gr,n.gr)}static Tr(t,n){return Vt(t.gr,n.gr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Re(we.Pr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sD(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new we(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,n){return $.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Sr(i),r=s<0?0:s;return $.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new we(n,0),s=new we(n,Number.POSITIVE_INFINITY),r=[];return this.yr.forEachInRange([i,s],o=>{const a=this.wr(o.gr);r.push(a)}),$.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Re(Vt);return n.forEach(s=>{const r=new we(s,0),o=new we(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([r,o],a=>{i=i.add(a.gr)})}),$.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;ft.isDocumentKey(r)||(r=r.child(""));const o=new we(new ft(r),0);let a=new Re(Vt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),$.resolve(this.br(a))}br(t){const n=[];return t.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Yt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return $.forEach(n.mutations,s=>{const r=new we(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,n){const i=new we(n,0),s=this.yr.firstAfterOrEqual(i);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.Cr=t,this.docs=function(){return new ae(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(t,n){let i=Ri();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ve.newInvalidDocument(s))}),$.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Ri();const o=n.path,a=new ft(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xO(wO(u),i)<=0||(s.has(u.key)||Yu(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return $.resolve(r)}getAllFromCollectionGroup(t,n,i,s){xt()}vr(t,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new $D(this)}getSize(t){return $.resolve(this.size)}}class $D extends MD{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(t,s)):this._r.removeEntry(i)}),$.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.persistence=t,this.Fr=new oo(n=>Kp(n),Gp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Zp,this.targetCount=0,this.Nr=Br.On()}forEachTarget(t,n){return this.Fr.forEach((i,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),$.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Br(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.kn(n),$.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),$.waitFor(r).next(()=>s)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const i=this.Fr.get(n)||null;return $.resolve(i)}addMatchingKeys(t,n,i){return this.Or.Er(n,i),$.resolve()}removeMatchingKeys(t,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),$.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Or.mr(n);return $.resolve(i)}containsKey(t,n){return $.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.Lr={},this.overlays={},this.Br=new zp(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new UD(this),this.indexManager=new CD,this.remoteDocumentCache=function(s){return new FD(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new AD(n),this.Kr=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ND,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Lr[t.toKey()];return i||(i=new VD(n,this.referenceDelegate),this.Lr[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,i){nt("MemoryPersistence","Starting transaction:",t);const s=new jD(this.Br.next());return this.referenceDelegate.$r(),i(s).next(r=>this.referenceDelegate.Ur(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Wr(t,n){return $.or(Object.values(this.Lr).map(i=>()=>i.containsKey(t,n)))}}class jD extends TO{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Gr=new Zp,this.zr=null}static jr(t){return new tg(t)}get Hr(){if(this.zr)return this.zr;throw xt()}addReference(t,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),$.resolve()}removeReference(t,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),$.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.Hr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Hr,i=>{const s=ft.fromPath(i);return this.Jr(t,s).next(r=>{r||n.removeEntry(s,Tt.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return $.or([()=>$.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.ki=i,this.qi=s}static Qi(t,n){let i=Pt(),s=Pt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new eg(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return MA()?8:kO(Me())>0?6:4}()}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.zi(t,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ji(t,n,s,i).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new zD;return this.Hi(t,n,o).next(a=>{if(r.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>r.result)}Ji(t,n,i,s){return i.documentReadCount<this.Ui?(_o()<=Rt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",pr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),$.resolve()):(_o()<=Rt.DEBUG&&nt("QueryEngine","Query:",pr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(_o()<=Rt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",pr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ei(n))):$.resolve())}zi(t,n){if(Yy(n))return $.resolve(null);let i=ei(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=af(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=Pt(...r);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(t,af(n,null,"F")):this.Xi(t,c,n,l)}))})))}ji(t,n,i,s){return Yy(n)||s.isEqual(Tt.min())?$.resolve(null):this.Gi.getDocuments(t,i).next(r=>{const o=this.Yi(n,r);return this.Zi(n,o,i,s)?$.resolve(null):(_o()<=Rt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pr(n)),this.Xi(t,o,n,bO(s,-1)).next(a=>a))})}Yi(t,n){let i=new Re(lx(t));return n.forEach((s,r)=>{Yu(t,r)&&(i=i.add(r))}),i}Zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Hi(t,n,i){return _o()<=Rt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",pr(n)),this.Gi.getDocumentsMatchingQuery(t,n,os.min(),i)}Xi(t,n,i,s){return this.Gi.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,n,i,s){this.persistence=t,this.es=n,this.serializer=s,this.ts=new ae(Vt),this.ns=new oo(r=>Kp(r),Gp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function qD(e,t,n,i){return new WD(e,t,n,i)}async function Rx(e,t){const n=kt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.os(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=Pt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function KD(e,t){const n=kt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=$.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(g=>{const _=c.docVersions.get(p);Yt(_!==null),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Pt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function Mx(e){const t=kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function GD(e,t){const n=kt(e),i=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];t.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(r,u.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),s=s.insert(h,f),function(g,_,m){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,f,u)&&a.push(n.qr.updateTargetData(r,f))});let l=Ri(),c=Pt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(YD(r,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(Tt.min())){const u=n.qr.getLastRemoteSnapshotVersion(r).next(h=>n.qr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return $.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.ts=s,r))}function YD(e,t,n){let i=Pt(),s=Pt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=Ri();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):nt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:s}})}function XD(e,t){const n=kt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function QD(e,t){const n=kt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,t).next(r=>r?(s=r,$.resolve(s)):n.qr.allocateTargetId(i).next(o=>(s=new Ki(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(t,i.targetId)),i})}async function df(e,t,n){const i=kt(e),s=i.ts.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nl(o))throw o;nt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(s.target)}function o_(e,t,n){const i=kt(e);let s=Tt.min(),r=Pt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=kt(l),d=h.ns.get(u);return d!==void 0?$.resolve(h.ts.get(d)):h.qr.getTargetData(c,u)}(i,o,ei(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,n?s:Tt.min(),n?r:Pt())).next(a=>(JD(i,zO(t),a),{documents:a,ls:r})))}function JD(e,t,n){let i=e.rs.get(t)||Tt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.rs.set(t,i)}class a_{constructor(){this.activeTargetIds=YO()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZD{constructor(){this.eo=new a_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,i){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new a_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=null;function Kh(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De="WebChannelConnection";class i4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+n.host,this.wo=`projects/${s}/databases/${r}`,this.So=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get bo(){return!1}Do(n,i,s,r,o){const a=Kh(),l=this.Co(n,i.toUriEncodedString());nt("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,r,o),this.Fo(n,l,c,s).then(u=>(nt("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Vr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Mo(n,i,s,r,o,a){return this.Do(n,i,s,r,o)}vo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}Co(n,i){const s=e4[n];return`${this.yo}/v1/${i}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,n,i,s){const r=Kh();return new Promise((o,a)=>{const l=new cO;l.setWithCredentials(!0),l.listenOnce(oO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wh.NO_ERROR:const u=l.getResponseJson();nt(De,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case Wh.TIMEOUT:nt(De,`RPC '${t}' ${r} timed out`),a(new pt(B.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const h=l.getStatus();if(nt(De,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(m)>=0?m:B.UNKNOWN}(f.status);a(new pt(p,f.message))}else a(new pt(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pt(B.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{nt(De,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);nt(De,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}xo(t,n,i){const s=Kh(),r=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sO(),a=rO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new lO({})),this.vo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");nt(De,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const p=new n4({co:_=>{f?nt(De,`Not sending because RPC '${t}' stream ${s} is closed:`,_):(d||(nt(De,`Opening RPC '${t}' stream ${s} transport.`),h.open(),d=!0),nt(De,`RPC '${t}' stream ${s} sending:`,_),h.send(_))},lo:()=>h.close()}),g=(_,m,b)=>{_.listen(m,x=>{try{b(x)}catch(v){setTimeout(()=>{throw v},0)}})};return g(h,Al.EventType.OPEN,()=>{f||(nt(De,`RPC '${t}' stream ${s} transport opened.`),p.Vo())}),g(h,Al.EventType.CLOSE,()=>{f||(f=!0,nt(De,`RPC '${t}' stream ${s} transport closed`),p.fo())}),g(h,Al.EventType.ERROR,_=>{f||(f=!0,Vr(De,`RPC '${t}' stream ${s} transport errored:`,_),p.fo(new pt(B.UNAVAILABLE,"The operation could not be completed")))}),g(h,Al.EventType.MESSAGE,_=>{var m;if(!f){const b=_.data[0];Yt(!!b);const x=b,v=x.error||((m=x[0])===null||m===void 0?void 0:m.error);if(v){nt(De,`RPC '${t}' stream ${s} received error:`,v);const w=v.status;let P=function(A){const C=he[A];if(C!==void 0)return wx(C)}(w),O=v.message;P===void 0&&(P=B.INTERNAL,O="Unknown error status: "+w+" with message "+v.message),f=!0,p.fo(new pt(P,O)),h.close()}else nt(De,`RPC '${t}' stream ${s} received:`,b),p.po(b)}}),g(a,aO.STAT_EVENT,_=>{_.stat===$y.PROXY?nt(De,`RPC '${t}' stream ${s} detected buffering proxy`):_.stat===$y.NOPROXY&&nt(De,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e){return new pD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,i=1e3,s=1.5,r=6e4){this.si=t,this.timerId=n,this.Oo=i,this.No=s,this.Lo=r,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();const n=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),s=Math.max(0,n-i);s>0&&nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,i,s,r,o,a,l){this.si=t,this.Wo=i,this.Go=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ox(t,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(t,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const t=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.zo===n&&this.a_(i,s)},i=>{t(()=>{const s=new pt(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(s)})})}a_(t,n){const i=this.__(this.zo);this.stream=this.c_(t,n),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{i(()=>this.u_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(t){return nt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return n=>{this.si.enqueueAndForget(()=>this.zo===t?n():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s4 extends Dx{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}c_(t,n){return this.connection.xo("Listen",t,n)}onMessage(t){this.Jo.reset();const n=yD(this.serializer,t),i=function(r){if(!("targetChange"in r))return Tt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?ni(o.readTime):Tt.min()}(t);return this.listener.l_(n,i)}h_(t){const n={};n.database=hf(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=of(l)?{documents:bD(r,l)}:{query:wD(r,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Tx(r,o.resumeToken);const c=lf(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Kc(r,o.snapshotVersion.toTimestamp());const c=lf(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=ED(this.serializer,t);i&&(n.labels=i),this.r_(n)}P_(t){const n={};n.database=hf(this.serializer),n.removeTarget=t,this.r_(n)}}class r4 extends Dx{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,n){return this.connection.xo("Write",t,n)}onMessage(t){if(Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();const n=vD(t.writeResults,t.commitTime),i=ni(t.commitTime);return this.listener.d_(i,n)}return Yt(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const t={};t.database=hf(this.serializer),this.r_(t)}E_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>_D(this.serializer,i))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.V_=!1}m_(){if(this.V_)throw new pt(B.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,n,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Do(t,cf(n,i),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new pt(B.UNKNOWN,r.toString())})}Mo(t,n,i,s,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,cf(n,i),s,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(B.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class a4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ci(n),this.y_=!1):nt("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=r,this.O_.ro(o=>{i.enqueueAndForget(async()=>{or(this)&&(nt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=kt(l);c.M_.add(4),await rl(c),c.N_.set("Unknown"),c.M_.delete(4),await th(c)}(this))})}),this.N_=new a4(i,s)}}async function th(e){if(or(e))for(const t of e.x_)await t(!0)}async function rl(e){for(const t of e.x_)await t(!1)}function Lx(e,t){const n=kt(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),rg(n)?sg(n):ao(n).Zo()&&ig(n,t))}function ng(e,t){const n=kt(e),i=ao(n);n.F_.delete(t),i.Zo()&&Nx(n,t),n.F_.size===0&&(i.Zo()?i.t_():or(n)&&n.N_.set("Unknown"))}function ig(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(e).h_(t)}function Nx(e,t){e.L_.xe(t),ao(e).P_(t)}function sg(e){e.L_=new uD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ao(e).start(),e.N_.w_()}function rg(e){return or(e)&&!ao(e).Yo()&&e.F_.size>0}function or(e){return kt(e).M_.size===0}function Vx(e){e.L_=void 0}async function c4(e){e.N_.set("Online")}async function u4(e){e.F_.forEach((t,n)=>{ig(e,t)})}async function h4(e,t){Vx(e),rg(e)?(e.N_.D_(t),sg(e)):e.N_.set("Unknown")}async function d4(e,t,n){if(e.N_.set("Online"),t instanceof Ex&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.F_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.F_.delete(a),s.L_.removeTarget(a))}(e,t)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Gc(e,i)}else if(t instanceof uc?e.L_.Ke(t):t instanceof xx?e.L_.He(t):e.L_.We(t),!n.isEqual(Tt.min()))try{const i=await Mx(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.F_.get(c);u&&r.F_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.F_.get(l);if(!u)return;r.F_.set(l,u.withResumeToken(He.EMPTY_BYTE_STRING,u.snapshotVersion)),Nx(r,l);const h=new Ki(u.target,l,c,u.sequenceNumber);ig(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),await Gc(e,i)}}async function Gc(e,t,n){if(!nl(t))throw t;e.M_.add(1),await rl(e),e.N_.set("Offline"),n||(n=()=>Mx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{nt("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await th(e)})}function Fx(e,t){return t().catch(n=>Gc(e,n,t))}async function eh(e){const t=kt(e),n=ls(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;f4(t);)try{const s=await XD(t.localStore,i);if(s===null){t.v_.length===0&&n.t_();break}i=s.batchId,p4(t,s)}catch(s){await Gc(t,s)}$x(t)&&Ux(t)}function f4(e){return or(e)&&e.v_.length<10}function p4(e,t){e.v_.push(t);const n=ls(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function $x(e){return or(e)&&!ls(e).Yo()&&e.v_.length>0}function Ux(e){ls(e).start()}async function g4(e){ls(e).R_()}async function m4(e){const t=ls(e);for(const n of e.v_)t.E_(n.mutations)}async function y4(e,t,n){const i=e.v_.shift(),s=Xp.from(i,t,n);await Fx(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await eh(e)}async function _4(e,t){t&&ls(e).T_&&await async function(i,s){if(function(o){return aD(o)&&o!==B.ABORTED}(s.code)){const r=i.v_.shift();ls(i).e_(),await Fx(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await eh(i)}}(e,t),$x(e)&&Ux(e)}async function c_(e,t){const n=kt(e);n.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=or(n);n.M_.add(3),await rl(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await th(n)}async function v4(e,t){const n=kt(e);t?(n.M_.delete(2),await th(n)):t||(n.M_.add(2),await rl(n),n.N_.set("Unknown"))}function ao(e){return e.B_||(e.B_=function(n,i,s){const r=kt(n);return r.m_(),new s4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{ho:c4.bind(null,e),Io:u4.bind(null,e),Eo:h4.bind(null,e),l_:d4.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.e_(),rg(e)?sg(e):e.N_.set("Unknown")):(await e.B_.stop(),Vx(e))})),e.B_}function ls(e){return e.k_||(e.k_=function(n,i,s){const r=kt(n);return r.m_(),new r4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:g4.bind(null,e),Eo:_4.bind(null,e),A_:m4.bind(null,e),d_:y4.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.e_(),await eh(e)):(await e.k_.stop(),e.v_.length>0&&(nt("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new og(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(e,t){if(Ci("AsyncQueue",`${t}: ${e}`),nl(e))return new pt(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||ft.comparator(n.key,i.key):(n,i)=>ft.comparator(n.key,i.key),this.keyedMap=Co(),this.sortedSet=new ae(this.comparator)}static emptySet(t){return new Pr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Pr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.q_=new ae(ft.comparator)}track(t){const n=t.doc.key,i=this.q_.get(n);i?t.type!==0&&i.type===3?this.q_=this.q_.insert(n,t):t.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.q_=this.q_.remove(n):t.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):xt():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,i)=>{t.push(i)}),t}}class jr{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jr(t,n,Pr.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class w4{constructor(){this.queries=new oo(t=>ax(t),Gu),this.onlineState="Unknown",this.z_=new Set}}async function x4(e,t){const n=kt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.W_()&&t.G_()&&(i=2):(r=new b4,i=t.G_()?0:1);try{switch(i){case 0:r.K_=await n.onListen(s,!0);break;case 1:r.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ag(o,`Initialization of query '${pr(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,r),r.U_.push(t),t.j_(n.onlineState),r.K_&&t.H_(r.K_)&&lg(n)}async function E4(e,t){const n=kt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const o=r.U_.indexOf(t);o>=0&&(r.U_.splice(o,1),r.U_.length===0?s=t.G_()?0:1:!r.W_()&&t.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function T4(e,t){const n=kt(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.U_)a.H_(s)&&(i=!0);o.K_=s}}i&&lg(n)}function k4(e,t,n){const i=kt(e),s=i.queries.get(t);if(s)for(const r of s.U_)r.onError(n);i.queries.delete(t)}function lg(e){e.z_.forEach(t=>{t.next()})}var ff,h_;(h_=ff||(ff={})).J_="default",h_.Cache="cache";class I4{constructor(t,n,i){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new jr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=jr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.key=t}}class jx{constructor(t){this.key=t}}class S4{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Pt(),this.mutatedKeys=Pt(),this.Ia=lx(t),this.Ta=new Pr(this.Ia)}get Ea(){return this.la}da(t,n){const i=n?n.Aa:new u_,s=n?n.Ta:this.Ta;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const d=s.get(u),f=Yu(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),_=!0):this.Ra(d,f)||(i.track({type:2,doc:f}),_=!0,(l&&this.Ia(f,l)>0||c&&this.Ia(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),_=!0):d&&!f&&(i.track({type:1,doc:d}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Ta:o,Aa:i,Zi:a,mutatedKeys:r}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const o=t.Aa.Q_();o.sort((u,h)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return g(f)-g(p)}(u.type,h.type)||this.Ia(u.doc,h.doc)),this.Va(i),s=s!=null&&s;const a=n&&!s?this.ma():[],l=this.Pa.size===0&&this.current&&!s?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new jr(this.query,t.Ta,r,o,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new u_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Pt(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return t.forEach(i=>{this.Pa.has(i)||n.push(new jx(i))}),this.Pa.forEach(i=>{t.has(i)||n.push(new Bx(i))}),n}pa(t){this.la=t.ls,this.Pa=Pt();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return jr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class A4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class P4{constructor(t){this.key=t,this.wa=!1}}class C4{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new oo(a=>ax(a),Gu),this.Da=new Map,this.Ca=new Set,this.va=new ae(ft.comparator),this.Fa=new Map,this.Ma=new Zp,this.xa={},this.Oa=new Map,this.Na=Br.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function R4(e,t,n=!0){const i=Gx(e);let s;const r=i.ba.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ya()):s=await zx(i,t,n,!0),s}async function M4(e,t){const n=Gx(e);await zx(n,t,!0,!1)}async function zx(e,t,n,i){const s=await QD(e.localStore,ei(t)),r=s.targetId,o=n?e.sharedClientState.addLocalQueryTarget(r):"not-current";let a;return i&&(a=await O4(e,t,r,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&Lx(e.remoteStore,s),a}async function O4(e,t,n,i,s){e.Ba=(h,d,f)=>async function(g,_,m,b){let x=_.view.da(m);x.Zi&&(x=await o_(g.localStore,_.query,!1).then(({documents:O})=>_.view.da(O,x)));const v=b&&b.targetChanges.get(_.targetId),w=b&&b.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(x,g.isPrimaryClient,v,w);return f_(g,_.targetId,P.fa),P.snapshot}(e,h,d,f);const r=await o_(e.localStore,t,!0),o=new S4(t,r.ls),a=o.da(r.documents),l=sl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);f_(e,n,c.fa);const u=new A4(t,n,o);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function D4(e,t,n){const i=kt(e),s=i.ba.get(t),r=i.Da.get(s.targetId);if(r.length>1)return i.Da.set(s.targetId,r.filter(o=>!Gu(o,t))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await df(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&ng(i.remoteStore,s.targetId),pf(i,s.targetId)}).catch(el)):(pf(i,s.targetId),await df(i.localStore,s.targetId,!0))}async function L4(e,t){const n=kt(e),i=n.ba.get(t),s=n.Da.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ng(n.remoteStore,i.targetId))}async function N4(e,t,n){const i=z4(e);try{const s=await function(o,a){const l=kt(o),c=_e.now(),u=a.reduce((f,p)=>f.add(p.key),Pt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Ri(),g=Pt();return l.ss.getEntries(f,u).next(_=>{p=_,p.forEach((m,b)=>{b.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{h=_;const m=[];for(const b of a){const x=nD(b,h.get(b.key).overlayedDocument);x!=null&&m.push(new rr(b.key,x,tx(x.value.mapValue),Ii.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,m,a)}).next(_=>{d=_;const m=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,m)})}).then(()=>({batchId:d.batchId,changes:ux(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new ae(Vt)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,s.batchId,n),await ol(i,s.changes),await eh(i.remoteStore)}catch(s){const r=ag(s,"Failed to persist write");n.reject(r)}}async function Hx(e,t){const n=kt(e);try{const i=await GD(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Fa.get(r);o&&(Yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.wa=!0:s.modifiedDocuments.size>0?Yt(o.wa):s.removedDocuments.size>0&&(Yt(o.wa),o.wa=!1))}),await ol(n,i,t)}catch(i){await el(i)}}function d_(e,t,n){const i=kt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ba.forEach((r,o)=>{const a=o.view.j_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=kt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.U_)d.j_(a)&&(c=!0)}),c&&lg(l)}(i.eventManager,t),s.length&&i.Sa.l_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function V4(e,t,n){const i=kt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Fa.get(t),r=s&&s.key;if(r){let o=new ae(ft.comparator);o=o.insert(r,Ve.newNoDocument(r,Tt.min()));const a=Pt().add(r),l=new Ju(Tt.min(),new Map,new ae(Vt),o,a);await Hx(i,l),i.va=i.va.remove(r),i.Fa.delete(t),cg(i)}else await df(i.localStore,t,!1).then(()=>pf(i,t,n)).catch(el)}async function F4(e,t){const n=kt(e),i=t.batch.batchId;try{const s=await KD(n.localStore,t);qx(n,i,null),Wx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ol(n,s)}catch(s){await el(s)}}async function $4(e,t,n){const i=kt(e);try{const s=await function(o,a){const l=kt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Yt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);qx(i,t,n),Wx(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ol(i,s)}catch(s){await el(s)}}function Wx(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function qx(e,t,n){const i=kt(e);let s=i.xa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.xa[i.currentUser.toKey()]=s}}function pf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Da.get(t))e.ba.delete(i),n&&e.Sa.ka(i,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(i=>{e.Ma.containsKey(i)||Kx(e,i)})}function Kx(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(ng(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),cg(e))}function f_(e,t,n){for(const i of n)i instanceof Bx?(e.Ma.addReference(i.key,t),U4(e,i)):i instanceof jx?(nt("SyncEngine","Document no longer in limbo: "+i.key),e.Ma.removeReference(i.key,t),e.Ma.containsKey(i.key)||Kx(e,i.key)):xt()}function U4(e,t){const n=t.key,i=n.path.canonicalString();e.va.get(n)||e.Ca.has(i)||(nt("SyncEngine","New document in limbo: "+n),e.Ca.add(i),cg(e))}function cg(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new ft(le.fromString(t)),i=e.Na.next();e.Fa.set(i,new P4(n)),e.va=e.va.insert(n,i),Lx(e.remoteStore,new Ki(ei(Yp(n.path)),i,"TargetPurposeLimboResolution",zp.oe))}}async function ol(e,t,n){const i=kt(e),s=[],r=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=eg.Qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Sa.l_(s),await async function(l,c){const u=kt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,d=>$.forEach(d.ki,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>$.forEach(d.qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!nl(h))throw h;nt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ts.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,g)}}}(i.localStore,r))}async function B4(e,t){const n=kt(e);if(!n.currentUser.isEqual(t)){nt("SyncEngine","User change. New user:",t.toKey());const i=await Rx(n.localStore,t);n.currentUser=t,function(r,o){r.Oa.forEach(a=>{a.forEach(l=>{l.reject(new pt(B.CANCELLED,o))})}),r.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ol(n,i._s)}}function j4(e,t){const n=kt(e),i=n.Fa.get(t);if(i&&i.wa)return Pt().add(i.key);{let s=Pt();const r=n.Da.get(t);if(!r)return s;for(const o of r){const a=n.ba.get(o);s=s.unionWith(a.view.Ea)}return s}}function Gx(e){const t=kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V4.bind(null,t),t.Sa.l_=T4.bind(null,t.eventManager),t.Sa.ka=k4.bind(null,t.eventManager),t}function z4(e){const t=kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$4.bind(null,t),t}class p_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Zu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return qD(this.persistence,new HD,t.initialUser,this.serializer)}createPersistence(t){return new BD(tg.jr,this.serializer)}createSharedClientState(t){return new ZD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class H4{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>d_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new w4}()}createDatastore(t){const n=Zu(t.databaseInfo.databaseId),i=function(r){return new i4(r)}(t.databaseInfo);return function(r,o,a,l){return new o4(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new l4(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>d_(this.syncEngine,n,0),function(){return l_.D()?new l_:new t4}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new C4(s,r,o,a,l,c);return u&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const s=kt(i);nt("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await rl(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Ci("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ne.UNAUTHENTICATED,this.clientId=Q1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{nt("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(nt("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pt(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ag(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Yh(e,t){e.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Rx(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function g_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await G4(e);nt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>c_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>c_(t.remoteStore,s)),e._onlineComponents=t}function K4(e){return e.name==="FirebaseError"?e.code===B.FAILED_PRECONDITION||e.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function G4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!K4(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),await Yh(e,new p_)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),await Yh(e,new p_);return e._offlineComponents}async function Yx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),await g_(e,e._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),await g_(e,new H4))),e._onlineComponents}function Y4(e){return Yx(e).then(t=>t.syncEngine)}async function X4(e){const t=await Yx(e),n=t.eventManager;return n.onListen=R4.bind(null,t.syncEngine),n.onUnlisten=D4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=M4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=L4.bind(null,t.syncEngine),n}function Q4(e,t,n={}){const i=new es;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new W4({next:d=>{o.enqueueAndForget(()=>E4(r,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new pt(B.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new pt(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new I4(Yp(a.path),u,{includeMetadataChanges:!0,ra:!0});return x4(r,h)}(await X4(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(e,t,n){if(!n)throw new pt(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Z4(e,t,n,i){if(t===!0&&i===!0)throw new pt(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function y_(e){if(!ft.isDocumentKey(e))throw new pt(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ug(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xt()}function Ia(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ug(e);throw new pt(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new pt(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Z4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hg{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pt(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new pt(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hO;switch(i.type){case"firstParty":return new gO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=m_.get(n);i&&(nt("ComponentProvider","Removing Datastore"),m_.delete(n),i.terminate())}(this),Promise.resolve()}}function tL(e,t,n,i={}){var s;const r=(e=Ia(e,hg))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ne.MOCK_USER;else{a=IA(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new pt(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ne(c)}e._authCredentials=new dO(new X1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new dg(this.firestore,t,this._query)}}class In{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new In(this.firestore,t,this._key)}}class Sa extends dg{constructor(t,n,i){super(t,n,Yp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new In(this.firestore,null,new ft(t))}withConverter(t){return new Sa(this.firestore,t,this._path)}}function cs(e,t,...n){if(e=un(e),arguments.length===1&&(t=Q1.newId()),J4("doc","path",t),e instanceof hg){const i=le.fromString(t,...n);return y_(i),new In(e,null,new ft(i))}{if(!(e instanceof In||e instanceof Sa))throw new pt(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(le.fromString(t,...n));return y_(i),new In(e.firestore,e instanceof Sa?e.converter:null,new ft(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ox(this,"async_queue_retry"),this.hu=()=>{const n=Gh();n&&nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const t=Gh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new es;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!nl(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(i=>{this.au=i,this.uu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ci("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(t,n,i){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const s=og.createAndSchedule(this,t,n,i,r=>this.Eu(r));return this._u.push(s),s}Pu(){this.au&&xt()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class fg extends hg{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new eL}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jx(this),this._firestoreClient.terminate()}}function nL(e,t){const n=typeof e=="object"?e:hp(),i=typeof e=="string"?e:"(default)",s=Zr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=TA("firestore");r&&tL(s,...r)}return s}function Qx(e){return e._firestoreClient||Jx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Jx(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new AO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Xx(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new q4(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zr(He.fromBase64String(t))}catch(n){throw new pt(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zr(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class sL{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,n,this.fieldTransforms):new il(t,this.data,n,this.fieldTransforms)}}function tE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class mg{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.mu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new mg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.gu({path:i,yu:!1});return s.wu(t),s}Su(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.gu({path:i,yu:!1});return s.mu(),s}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Yc(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(tE(this.fu)&&iL.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class rL{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Zu(t)}Fu(t,n,i,s=!1){return new mg({fu:t,methodName:n,vu:i,path:Pe.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oL(e){const t=e._freezeSettings(),n=Zu(e._databaseId);return new rL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aL(e,t,n,i,s,r={}){const o=e.Fu(r.merge||r.mergeFields?2:0,t,n,s);sE("Data must be an object, but it was:",o,i);const a=nE(i,o);let l,c;if(r.merge)l=new Mn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=lL(t,h,n);if(!o.contains(d))throw new pt(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);uL(u,d)||u.push(d)}l=new Mn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new sL(new wn(a),l,c)}function eE(e,t){if(iE(e=un(e)))return sE("Unsupported field value:",t,e),nE(e,t);if(e instanceof Zx)return function(i,s){if(!tE(s.fu))throw s.Du(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=eE(a,s.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=_e.fromDate(i);return{timestampValue:Kc(s.serializer,r)}}if(i instanceof _e){const r=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kc(s.serializer,r)}}if(i instanceof gg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zr)return{bytesValue:Tx(s.serializer,i._byteString)};if(i instanceof In){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Jp(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Du(`Unsupported field value: ${ug(i)}`)}(e,t)}function nE(e,t){const n={};return J1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(e,(i,s)=>{const r=eE(s,t.pu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function iE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof _e||e instanceof gg||e instanceof zr||e instanceof In||e instanceof Zx)}function sE(e,t,n){if(!iE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=ug(n);throw i==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+i)}}function lL(e,t,n){if((t=un(t))instanceof pg)return t._internalPath;if(typeof t=="string")return rE(e,t);throw Yc("Field path arguments must be of type string or ",e,!1,void 0,n)}const cL=new RegExp("[~\\*/\\[\\]]");function rE(e,t,n){if(t.search(cL)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pg(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yc(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new pt(B.INVALID_ARGUMENT,a+e+l)}function uL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(aE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hL extends oE{data(){return super.data()}}function aE(e,t){return typeof t=="string"?rE(e,t):t instanceof pg?t._internalPath:t._delegate._internalPath}class dL{convertValue(t,n="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw xt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ro(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new gg(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Wp(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wa(t));default:return null}}convertTimestamp(t){const n=as(t);return new _e(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=le.fromString(t);Yt(Cx(i));const s=new xa(i.get(1),i.get(3)),r=new ft(i.popFirst(5));return s.isEqual(n)||Ci(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lE extends oE{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(aE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class gL extends lE{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e){e=Ia(e,In);const t=Ia(e.firestore,fg);return Q4(Qx(t),e._key).then(n=>vL(t,e,n))}class mL extends dL{constructor(t){super(),this.firestore=t}convertBytes(t){return new zr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new In(this.firestore,null,n)}}function yL(e,t,n){e=Ia(e,In);const i=Ia(e.firestore,fg),s=fL(e.converter,t,n);return _L(i,[aL(oL(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Ii.none())])}function _L(e,t){return function(i,s){const r=new es;return i.asyncQueue.enqueueAndForget(async()=>N4(await Y4(i),s,r)),r.promise}(Qx(e),t)}function vL(e,t,n){const i=n.docs.get(t._key),s=new mL(e);return new lE(e,s,t._key,i,new pL(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){so=s})(to),ri(new Vn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new fg(new fO(i.getProvider("auth-internal")),new yO(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pt(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),kn(Uy,"4.6.1",t),kn(Uy,"4.6.1","esm2017")})();const bL="modulepreload",wL=function(e){return"/"+e},v_={},xL=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=wL(a),a in v_)return;v_[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":bL,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yr=typeof document<"u";function EL(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Bt=Object.assign;function Xh(e,t){const n={};for(const i in t){const s=t[i];n[i]=Un(s)?s.map(e):e(s)}return n}const Xo=()=>{},Un=Array.isArray,cE=/#/g,TL=/&/g,kL=/\//g,IL=/=/g,SL=/\?/g,uE=/\+/g,AL=/%5B/g,PL=/%5D/g,hE=/%5E/g,CL=/%60/g,dE=/%7B/g,RL=/%7C/g,fE=/%7D/g,ML=/%20/g;function yg(e){return encodeURI(""+e).replace(RL,"|").replace(AL,"[").replace(PL,"]")}function OL(e){return yg(e).replace(dE,"{").replace(fE,"}").replace(hE,"^")}function gf(e){return yg(e).replace(uE,"%2B").replace(ML,"+").replace(cE,"%23").replace(TL,"%26").replace(CL,"`").replace(dE,"{").replace(fE,"}").replace(hE,"^")}function DL(e){return gf(e).replace(IL,"%3D")}function LL(e){return yg(e).replace(cE,"%23").replace(SL,"%3F")}function NL(e){return e==null?"":LL(e).replace(kL,"%2F")}function Aa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const VL=/\/$/,FL=e=>e.replace(VL,"");function Qh(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=jL(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:Aa(o)}}function $L(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function b_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function UL(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Hr(t.matched[i],n.matched[s])&&pE(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Hr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!BL(e[n],t[n]))return!1;return!0}function BL(e,t){return Un(e)?w_(e,t):Un(t)?w_(t,e):e===t}function w_(e,t){return Un(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function jL(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var Pa;(function(e){e.pop="pop",e.push="push"})(Pa||(Pa={}));var Qo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qo||(Qo={}));function zL(e){if(!e)if(yr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),FL(e)}const HL=/^[^#]+#/;function WL(e,t){return e.replace(HL,"#")+t}function qL(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const nh=()=>({left:window.scrollX,top:window.scrollY});function KL(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=qL(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function x_(e,t){return(history.state?history.state.position-t:-1)+e}const mf=new Map;function GL(e,t){mf.set(e,t)}function YL(e){const t=mf.get(e);return mf.delete(e),t}let XL=()=>location.protocol+"//"+location.host;function gE(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),b_(l,"")}return b_(n,e)+i+s}function QL(e,t,n,i){let s=[],r=[],o=null;const a=({state:d})=>{const f=gE(e,location),p=n.value,g=t.value;let _=0;if(d){if(n.value=f,t.value=d,o&&o===p){o=null;return}_=g?d.position-g.position:0}else i(f);s.forEach(m=>{m(n.value,p,{delta:_,type:Pa.pop,direction:_?_>0?Qo.forward:Qo.back:Qo.unknown})})};function l(){o=n.value}function c(d){s.push(d);const f=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return r.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Bt({},d.state,{scroll:nh()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function E_(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?nh():null}}function JL(e){const{history:t,location:n}=window,i={value:gE(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:XL()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=Bt({},t.state,E_(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Bt({},s.value,t.state,{forward:l,scroll:nh()});r(u.current,u,!0);const h=Bt({},E_(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function ZL(e){e=zL(e);const t=JL(e),n=QL(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Bt({location:"",base:e,go:i,createHref:WL.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function t3(e){return typeof e=="string"||e&&typeof e=="object"}function mE(e){return typeof e=="string"||typeof e=="symbol"}const Vi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yE=Symbol("");var T_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(T_||(T_={}));function Wr(e,t){return Bt(new Error,{type:e,[yE]:!0},t)}function ui(e,t){return e instanceof Error&&yE in e&&(t==null||!!(e.type&t))}const k_="[^/]+?",e3={sensitive:!1,strict:!1,start:!0,end:!0},n3=/[.+*?^${}()[\]/\\]/g;function i3(e,t){const n=Bt({},e3,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(n3,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:g,optional:_,regexp:m}=d;r.push({name:p,repeatable:g,optional:_});const b=m||k_;if(b!==k_){f+=10;try{new RegExp(`(${b})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+v.message)}}let x=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(x=_&&c.length<2?`(?:/${x})`:"/"+x),_&&(x+="?"),s+=x,f+=20,_&&(f+=-8),g&&(f+=-20),b===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",p=r[d-1];h[p.name]=f&&p.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:_}=f,m=p in c?c[p]:"";if(Un(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Un(m)?m.join("/"):m;if(!b)if(_)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function s3(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function r3(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=s3(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(I_(i))return 1;if(I_(s))return-1}return s.length-i.length}function I_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const o3={type:0,value:""},a3=/[a-zA-Z0-9_]/;function l3(e){if(!e)return[[]];if(e==="/")return[[o3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:a3.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function c3(e,t,n){const i=i3(l3(e.path),n),s=Bt(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function u3(e,t){const n=[],i=new Map;t=P_({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,d){const f=!d,p=h3(u);p.aliasOf=d&&d.record;const g=P_(t,u),_=[p];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const v of x)_.push(Bt({},p,{components:d?d.record.components:p.components,path:v,aliasOf:d?d.record:p}))}let m,b;for(const x of _){const{path:v}=x;if(h&&v[0]!=="/"){const w=h.record.path,P=w[w.length-1]==="/"?"":"/";x.path=h.record.path+(v&&P+v)}if(m=c3(x,h,g),d?d.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),f&&u.name&&!A_(m)&&o(u.name)),p.children){const w=p.children;for(let P=0;P<w.length;P++)r(w[P],m,d&&d.children[P])}d=d||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return b?()=>{o(b)}:Xo}function o(u){if(mE(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&r3(u,n[h])>=0&&(u.record.path!==n[h].record.path||!_E(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!A_(u)&&i.set(u.record.name,u)}function c(u,h){let d,f={},p,g;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw Wr(1,{location:u});g=d.record.name,f=Bt(S_(h.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),u.params&&S_(u.params,d.keys.map(b=>b.name))),p=d.stringify(f)}else if(u.path!=null)p=u.path,d=n.find(b=>b.re.test(p)),d&&(f=d.parse(p),g=d.record.name);else{if(d=h.name?i.get(h.name):n.find(b=>b.re.test(h.path)),!d)throw Wr(1,{location:u,currentLocation:h});g=d.record.name,f=Bt({},h.params,u.params),p=d.stringify(f)}const _=[];let m=d;for(;m;)_.unshift(m.record),m=m.parent;return{name:g,path:p,params:f,matched:_,meta:f3(_)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function S_(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function h3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:d3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function d3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function A_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function f3(e){return e.reduce((t,n)=>Bt(t,n.meta),{})}function P_(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function _E(e,t){return t.children.some(n=>n===e||_E(e,n))}function p3(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(uE," "),o=r.indexOf("="),a=Aa(o<0?r:r.slice(0,o)),l=o<0?null:Aa(r.slice(o+1));if(a in t){let c=t[a];Un(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function C_(e){let t="";for(let n in e){const i=e[n];if(n=DL(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Un(i)?i.map(r=>r&&gf(r)):[i&&gf(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function g3(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Un(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const m3=Symbol(""),R_=Symbol(""),ih=Symbol(""),_g=Symbol(""),yf=Symbol("");function vo(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ji(e,t,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Wr(4,{from:n,to:t})):d instanceof Error?l(d):t3(d)?l(Wr(2,{from:t,to:d})):(o&&i.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(i&&i.instances[s],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Jh(e,t,n,i,s=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(y3(l)){const u=(l.__vccOpts||l)[t];u&&r.push(ji(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=EL(u)?u.default:u;o.components[a]=h;const f=(h.__vccOpts||h)[t];return f&&ji(f,n,i,o,a,s)()}))}}return r}function y3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function M_(e){const t=Ln(ih),n=Ln(_g),i=Cn(()=>{const l=Xe(e.to);return t.resolve(l)}),s=Cn(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Hr.bind(null,u));if(d>-1)return d;const f=O_(l[c-2]);return c>1&&O_(u)===f&&h[h.length-1].path!==f?h.findIndex(Hr.bind(null,l[c-2])):d}),r=Cn(()=>s.value>-1&&b3(n.params,i.value.params)),o=Cn(()=>s.value>-1&&s.value===n.matched.length-1&&pE(n.params,i.value.params));function a(l={}){return v3(l)?t[Xe(e.replace)?"replace":"push"](Xe(e.to)).catch(Xo):Promise.resolve()}return{route:i,href:Cn(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const _3=fb({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:M_,setup(e,{slots:t}){const n=Mr(M_(e)),{options:i}=Ln(ih),s=Cn(()=>({[D_(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[D_(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Db("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),vg=_3;function v3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function b3(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Un(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function O_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const D_=(e,t,n)=>e??t??n,w3=fb({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ln(yf),s=Cn(()=>e.route||i.value),r=Ln(R_,0),o=Cn(()=>{let c=Xe(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Cn(()=>s.value.matched[o.value]);Jl(R_,Cn(()=>o.value+1)),Jl(m3,a),Jl(yf,s);const l=V();return Dn(()=>[l.value,a.value,e.name],([c,u,h],[d,f,p])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Hr(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return L_(n.default,{Component:d,route:c});const f=h.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,_=Db(d,Bt({},p,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return L_(n.default,{Component:_,route:c})||_}}});function L_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vE=w3;function x3(e){const t=u3(e.routes,e),n=e.parseQuery||p3,i=e.stringifyQuery||C_,s=e.history,r=vo(),o=vo(),a=vo(),l=nb(Vi);let c=Vi;yr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xh.bind(null,N=>""+N),h=Xh.bind(null,NL),d=Xh.bind(null,Aa);function f(N,tt){let Y,rt;return mE(N)?(Y=t.getRecordMatcher(N),rt=tt):rt=N,t.addRoute(rt,Y)}function p(N){const tt=t.getRecordMatcher(N);tt&&t.removeRoute(tt)}function g(){return t.getRoutes().map(N=>N.record)}function _(N){return!!t.getRecordMatcher(N)}function m(N,tt){if(tt=Bt({},tt||l.value),typeof N=="string"){const T=Qh(n,N,tt.path),M=t.resolve({path:T.path},tt),F=s.createHref(T.fullPath);return Bt(T,M,{params:d(M.params),hash:Aa(T.hash),redirectedFrom:void 0,href:F})}let Y;if(N.path!=null)Y=Bt({},N,{path:Qh(n,N.path,tt.path).path});else{const T=Bt({},N.params);for(const M in T)T[M]==null&&delete T[M];Y=Bt({},N,{params:h(T)}),tt.params=h(tt.params)}const rt=t.resolve(Y,tt),Ut=N.hash||"";rt.params=u(d(rt.params));const se=$L(i,Bt({},N,{hash:OL(Ut),path:rt.path})),E=s.createHref(se);return Bt({fullPath:se,hash:Ut,query:i===C_?g3(N.query):N.query||{}},rt,{redirectedFrom:void 0,href:E})}function b(N){return typeof N=="string"?Qh(n,N,l.value.path):Bt({},N)}function x(N,tt){if(c!==N)return Wr(8,{from:tt,to:N})}function v(N){return O(N)}function w(N){return v(Bt(b(N),{replace:!0}))}function P(N){const tt=N.matched[N.matched.length-1];if(tt&&tt.redirect){const{redirect:Y}=tt;let rt=typeof Y=="function"?Y(N):Y;return typeof rt=="string"&&(rt=rt.includes("?")||rt.includes("#")?rt=b(rt):{path:rt},rt.params={}),Bt({query:N.query,hash:N.hash,params:rt.path!=null?{}:N.params},rt)}}function O(N,tt){const Y=c=m(N),rt=l.value,Ut=N.state,se=N.force,E=N.replace===!0,T=P(Y);if(T)return O(Bt(b(T),{state:typeof T=="object"?Bt({},Ut,T.state):Ut,force:se,replace:E}),tt||Y);const M=Y;M.redirectedFrom=tt;let F;return!se&&UL(i,rt,Y)&&(F=Wr(16,{to:M,from:rt}),Ge(rt,rt,!0,!1)),(F?Promise.resolve(F):C(M,rt)).catch(D=>ui(D)?ui(D,2)?D:Ke(D):vt(D,M,rt)).then(D=>{if(D){if(ui(D,2))return O(Bt({replace:E},b(D.to),{state:typeof D.to=="object"?Bt({},Ut,D.to.state):Ut,force:se}),tt||M)}else D=j(M,rt,!0,E,Ut);return R(M,rt,D),D})}function k(N,tt){const Y=x(N,tt);return Y?Promise.reject(Y):Promise.resolve()}function A(N){const tt=en.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(N):N()}function C(N,tt){let Y;const[rt,Ut,se]=E3(N,tt);Y=Jh(rt.reverse(),"beforeRouteLeave",N,tt);for(const T of rt)T.leaveGuards.forEach(M=>{Y.push(ji(M,N,tt))});const E=k.bind(null,N,tt);return Y.push(E),ee(Y).then(()=>{Y=[];for(const T of r.list())Y.push(ji(T,N,tt));return Y.push(E),ee(Y)}).then(()=>{Y=Jh(Ut,"beforeRouteUpdate",N,tt);for(const T of Ut)T.updateGuards.forEach(M=>{Y.push(ji(M,N,tt))});return Y.push(E),ee(Y)}).then(()=>{Y=[];for(const T of se)if(T.beforeEnter)if(Un(T.beforeEnter))for(const M of T.beforeEnter)Y.push(ji(M,N,tt));else Y.push(ji(T.beforeEnter,N,tt));return Y.push(E),ee(Y)}).then(()=>(N.matched.forEach(T=>T.enterCallbacks={}),Y=Jh(se,"beforeRouteEnter",N,tt,A),Y.push(E),ee(Y))).then(()=>{Y=[];for(const T of o.list())Y.push(ji(T,N,tt));return Y.push(E),ee(Y)}).catch(T=>ui(T,8)?T:Promise.reject(T))}function R(N,tt,Y){a.list().forEach(rt=>A(()=>rt(N,tt,Y)))}function j(N,tt,Y,rt,Ut){const se=x(N,tt);if(se)return se;const E=tt===Vi,T=yr?history.state:{};Y&&(rt||E?s.replace(N.fullPath,Bt({scroll:E&&T&&T.scroll},Ut)):s.push(N.fullPath,Ut)),l.value=N,Ge(N,tt,Y,E),Ke()}let q;function _t(){q||(q=s.listen((N,tt,Y)=>{if(!Bn.listening)return;const rt=m(N),Ut=P(rt);if(Ut){O(Bt(Ut,{replace:!0}),rt).catch(Xo);return}c=rt;const se=l.value;yr&&GL(x_(se.fullPath,Y.delta),nh()),C(rt,se).catch(E=>ui(E,12)?E:ui(E,2)?(O(E.to,rt).then(T=>{ui(T,20)&&!Y.delta&&Y.type===Pa.pop&&s.go(-1,!1)}).catch(Xo),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),vt(E,rt,se))).then(E=>{E=E||j(rt,se,!1),E&&(Y.delta&&!ui(E,8)?s.go(-Y.delta,!1):Y.type===Pa.pop&&ui(E,20)&&s.go(-1,!1)),R(rt,se,E)}).catch(Xo)}))}let st=vo(),ut=vo(),ht;function vt(N,tt,Y){Ke(N);const rt=ut.list();return rt.length?rt.forEach(Ut=>Ut(N,tt,Y)):console.error(N),Promise.reject(N)}function Kt(){return ht&&l.value!==Vi?Promise.resolve():new Promise((N,tt)=>{st.add([N,tt])})}function Ke(N){return ht||(ht=!N,_t(),st.list().forEach(([tt,Y])=>N?Y(N):tt()),st.reset()),N}function Ge(N,tt,Y,rt){const{scrollBehavior:Ut}=e;if(!yr||!Ut)return Promise.resolve();const se=!Y&&YL(x_(N.fullPath,0))||(rt||!Y)&&history.state&&history.state.scroll||null;return ob().then(()=>Ut(N,tt,se)).then(E=>E&&KL(E)).catch(E=>vt(E,N,tt))}const ue=N=>s.go(N);let yn;const en=new Set,Bn={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:_,getRoutes:g,resolve:m,options:e,push:v,replace:w,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ut.add,isReady:Kt,install(N){const tt=this;N.component("RouterLink",vg),N.component("RouterView",vE),N.config.globalProperties.$router=tt,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Xe(l)}),yr&&!yn&&l.value===Vi&&(yn=!0,v(s.location).catch(Ut=>{}));const Y={};for(const Ut in Vi)Object.defineProperty(Y,Ut,{get:()=>l.value[Ut],enumerable:!0});N.provide(ih,tt),N.provide(_g,Qv(Y)),N.provide(yf,l);const rt=N.unmount;en.add(N),N.unmount=function(){en.delete(N),en.size<1&&(c=Vi,q&&q(),q=null,l.value=Vi,yn=!1,ht=!1),rt()}}};function ee(N){return N.reduce((tt,Y)=>tt.then(()=>A(Y)),Promise.resolve())}return Bn}function E3(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Hr(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Hr(c,l))||s.push(l))}return[n,i,s]}function T3(){return Ln(ih)}function k3(){return Ln(_g)}const qt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},bE=e=>(We("data-v-d373e466"),e=e(),qe(),e),I3={key:0,class:"weather"},S3=bE(()=>y("div",{class:"pos-icon"},null,-1)),A3={class:"search"},P3=bE(()=>y("button",null,[y("span",{class:"button-text"},"Search for place"),y("span",{style:{color:"white",position:"relative",top:"-4px",left:"4px","font-weight":"800","font-size":"14px"},class:"material-symbols-outlined"}," search ")],-1)),C3={key:1},R3={__name:"Weather-component",props:["currentPlace"],setup(e){const t=n=>new Date(n).toLocaleDateString(void 0,{month:"long",year:"numeric",day:"numeric"});return(n,i)=>e.currentPlace.location?(I(),S("div",I3,[y("p",{class:"location",style:at(n.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)")},[y("span",{class:"material-symbols-outlined",style:at(n.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84);")}," location_on ",4),y("strong",{style:at(n.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84);")},ot(e.currentPlace.location.name),5)],4),y("p",{style:at(n.$route.path.includes("timer")?"color: white; font-weight: 600":"color: rgba(31, 31, 31, 0.84);"),class:"date"},ot(("0"+new Date(e.currentPlace.location.localtime).getHours()).slice(-2))+":"+ot(("0"+new Date(e.currentPlace.location.localtime).getMinutes()).slice(-2))+", "+ot(t(e.currentPlace.location.localtime)),5),y("p",{style:at(n.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84);"),class:"temp"},ot(Math.round(e.currentPlace.current.temp_c))+"",5),y("p",{class:"condition-text",style:at(n.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84);")},ot(e.currentPlace.current.condition.text),5),S3,y("div",A3,[Z(Xe(vg),{style:at(n.$route.path.includes("timer")?"display: none;":"display: block"),to:"/weather"},{default:ye(()=>[P3]),_:1},8,["style"])])])):(I(),S("div",C3,"Loading..."))}},M3=qt(R3,[["__scopeId","data-v-d373e466"]]),O3={class:"pos-uv"},D3={key:0,class:"uv-header"},L3={class:"uv"},N3={__name:"Uv-header",props:["currentPlace"],setup(e){return(t,n)=>(I(),S("div",O3,[e.currentPlace.location?(I(),S("div",D3,[y("div",L3,[y("p",{class:"uv-index",style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)")},"UVI "+ot(e.currentPlace.current.uv-1),5),y("div",null,[e.currentPlace.current.uv-1<=2?(I(),S("p",{key:0,style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-level"},"Low",4)):e.currentPlace.current.uv-1>2&&e.currentPlace.current.uv-1<=5?(I(),S("p",{key:1,style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-level"}," Moderate",4)):e.currentPlace.current.uv-1>5&&e.currentPlace.current.uv-1<=7?(I(),S("p",{key:2,style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-level"},"High",4)):e.currentPlace.current.uv-1>7&&e.currentPlace.current.uv-1<=10?(I(),S("p",{key:3,style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-level"},"Very High",4)):(I(),S("p",{key:4,style:at(t.$route.path.includes("timer")?"color: white;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-level"},"Extreme High",4))]),y("div",null,[e.currentPlace.current.uv-1<=2?(I(),S("p",{key:0,style:at(t.$route.path.includes("timer")?"color: white; font-weight: 600;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-advice"},"No protection required",4)):e.currentPlace.current.uv-1>2&&e.currentPlace.current.uv-1<=7?(I(),S("p",{key:1,style:at(t.$route.path.includes("timer")?"color: white; font-weight: 600;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-advice"}," Protection required",4)):(I(),S("p",{key:2,style:at(t.$route.path.includes("timer")?"color: white; font-weight: 600;":"color: rgba(31, 31, 31, 0.84)"),class:"uv-advice"},"Extra protection required",4))])])])):J("",!0)]))}},V3=qt(N3,[["__scopeId","data-v-a3b8c1ca"]]),wE="/assets/bewolkt-D1jSxIEg.svg",xE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_2'%20data-name='Laag%202'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20481.82%20197.57'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fcce79;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3ccircle%20class='cls-1'%20cx='357.57'%20cy='107.86'%20r='74.43'/%3e%3c/svg%3e",EE="/assets/bewolkt-zonnig-CvHH24s4.svg",TE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_4'%20data-name='Laag%204'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20383.53%20174.78'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23f4f7f9;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M310.96,124.97c-33.2,0-60.12-26.92-60.12-60.12,0-13.53,4.47-26.01,12.01-36.06-31.14,8.9-53.95,37.55-53.95,71.55,0,41.11,33.32,74.43,74.43,74.43s73.15-32.09,74.37-72.13c-11.02,13.62-27.86,22.33-46.75,22.33h0Z'/%3e%3cpath%20class='cls-1'%20d='M311.88,55.13l5.2,6.16c.25.29.34.69.24,1.07l-2.12,7.77c-.26.94.67,1.76,1.57,1.4l7.46-3.04c.36-.15.76-.11,1.09.11l6.74,4.42c.81.53,1.88-.1,1.81-1.07l-.59-8.04c-.03-.39.13-.76.44-1l6.29-5.04c.76-.61.49-1.82-.45-2.05l-7.83-1.93c-.37-.09-.68-.36-.82-.72l-2.85-7.54c-.34-.91-1.58-1.03-2.09-.2l-4.25,6.85c-.2.33-.56.53-.94.55l-8.05.38c-.97.05-1.47,1.19-.84,1.93h-.01Z'/%3e%3cpath%20class='cls-1'%20d='M302.47,33.94l-2.91-2.08c-.16-.12-.26-.31-.26-.51l.06-3.57c0-.51-.57-.81-.98-.5l-2.87,2.12c-.16.12-.37.15-.57.09l-3.38-1.16c-.48-.17-.94.29-.78.78l1.13,3.39c.06.19.03.4-.09.56l-2.15,2.85c-.31.41-.01.99.5.98l3.57-.03c.2,0,.39.1.51.26l2.05,2.93c.29.42.94.32,1.09-.17l1.08-3.41c.06-.19.21-.34.41-.4l3.42-1.04c.49-.15.59-.79.18-1.09h0Z'/%3e%3c/svg%3e",kE="/assets/sneeuw-rIdGDXYe.svg",IE="/assets/regen-DaIc0VMm.svg",SE="/assets/zonnig-regen-DDQ_5Oun.svg",AE="/assets/regen-onweer-0AOq4chK.svg",PE="/assets/onweer-CnEhG-l5.svg",F3={key:0,class:"pos-icon"},$3={key:0,src:wE},U3={key:1,src:xE},B3={key:2,src:EE},j3={key:3,src:TE},z3={key:4,src:kE},H3={key:5,src:IE},W3={key:6,src:SE},q3={key:7,src:AE},K3={key:8,src:PE},G3={__name:"Weather-icon",props:["currentPlace"],setup(e){return(t,n)=>e.currentPlace.current?(I(),S("div",F3,[e.currentPlace.current.condition.text=="Overcast"||e.currentPlace.current.condition.text=="Cloudy"||e.currentPlace.current.condition.text=="Mist"?(I(),S("img",$3)):e.currentPlace.current.condition.text=="Sunny"?(I(),S("img",U3)):e.currentPlace.current.condition.text=="Partly cloudy"||e.currentPlace.current.condition.text=="Patchy rain possible"||e.currentPlace.current.condition.text=="Patchy snow possible"||e.currentPlace.current.condition.text=="Patchy sleet possible"?(I(),S("img",B3)):e.currentPlace.current.condition.text=="Clear"?(I(),S("img",j3)):e.currentPlace.current.condition.text=="Patchy freezing drizzle possible"||e.currentPlace.current.condition.text=="Blowing snow"||e.currentPlace.current.condition.text=="Blizzard"||e.currentPlace.current.condition.text=="Freezing drizzle"||e.currentPlace.current.condition.text=="Heavy freezing drizzle"||e.currentPlace.current.condition.text=="Light freezing rain"||e.currentPlace.current.condition.text=="Moderate or heavy freezing rain"||e.currentPlace.current.condition.text=="Light sleet"||e.currentPlace.current.condition.text=="Moderate or heavy sleet"||e.currentPlace.current.condition.text=="Patchy light snow"||e.currentPlace.current.condition.text=="Light snow"||e.currentPlace.current.condition.text=="Patchy moderate snow"||e.currentPlace.current.condition.text=="Moderate snow"||e.currentPlace.current.condition.text=="Patchy heavy snow"||e.currentPlace.current.condition.text=="Heavy snow"||e.currentPlace.current.condition.text=="Ice pellets"||e.currentPlace.current.condition.text=="Light sleet showers"||e.currentPlace.current.condition.text=="Moderate or heavy sleet showers"||e.currentPlace.current.condition.text=="Moderate or heavy snow showers"||e.currentPlace.current.condition.text=="Light snow showers"||e.currentPlace.current.condition.text=="Light showers of ice pellets"||e.currentPlace.current.condition.text=="Moderate or heavy showers of ice pellets"||e.currentPlace.current.condition.text=="Patchy sleet possible"?(I(),S("img",z3)):e.currentPlace.current.condition.text=="Light drizzle"||e.currentPlace.current.condition.text=="Light drizzle"||e.currentPlace.current.condition.text=="Light rain"||e.currentPlace.current.condition.text=="Heavy rain"||e.currentPlace.current.condition.text=="Light rain shower"||e.currentPlace.current.condition.text=="Patchy rain nearby"||e.currentPlace.current.condition.text=="Moderate or heavy rain shower"||e.currentPlace.current.condition.text=="Torrential rain shower"||e.currentPlace.current.condition.text=="Moderate rain"?(I(),S("img",H3)):e.currentPlace.current.condition.text=="Patchy light drizzle"||e.currentPlace.current.condition.text=="Patchy light rain"||e.currentPlace.current.condition.text=="Moderate rain at times"||e.currentPlace.current.condition.text=="Heavy rain at times"?(I(),S("img",W3)):e.currentPlace.current.condition.text=="Patchy light rain with thunder"||e.currentPlace.current.condition.text=="Moderate or heavy rain with thunder"||e.currentPlace.current.condition.text=="Patchy light snow with thunder"||e.currentPlace.current.condition.text=="Moderate or heavy snow with thunder"?(I(),S("img",q3)):e.currentPlace.current.condition.text=="Thundery outbreaks possible"?(I(),S("img",K3)):J("",!0)])):J("",!0)}},Y3=qt(G3,[["__scopeId","data-v-aebc12b9"]]),X3={class:"bg"},Q3={key:1},J3={key:2},Z3={__name:"Hamburger",setup(e){const t=T3(),n=V(!1),i=V(""),s=async()=>{try{const r=await ze().signOut();t.replace({name:"login"}),n.value=null,console.log(n.value)}catch(r){console.error(r)}};return ze().onAuthStateChanged(r=>{r?(i.value=r.email,n.value=!0):n.value=!1}),(r,o)=>{const a=Ee("RouterLink"),l=Ee("router-link");return I(),S("div",X3,[n.value?(I(),S("li",{key:0,onClick:s},"Sign out")):J("",!0),n.value?J("",!0):(I(),S("li",Q3,[Z(a,{style:{color:"#ffffff"},to:"/login"},{default:ye(()=>[bt("Log in")]),_:1})])),n.value?(I(),S("li",J3,[Z(l,{style:{color:"#ffffff"},to:"skintype"},{default:ye(()=>[bt("Skin type")]),_:1})])):J("",!0)])}}},tN=qt(Z3,[["__scopeId","data-v-b6b9fde0"]]),eN=e=>(We("data-v-db12bdff"),e=e(),qe(),e),nN={class:"pos-eyebrows"},iN={class:"pos-eyes"},sN={class:"eye"},rN={class:"eye"},oN={key:1},aN=eN(()=>y("span",{class:"material-symbols-outlined"}," face ",-1)),lN=[aN],cN={__name:"smallFace",setup(e){const t=V(null),n=V(null),i=V(null),s=V(null),r=ze(),o=V(null),a=V(null);return gn(()=>{Oi(r,async l=>{var u,h,d,f,p;a.value=l;const c=l==null?void 0:l.uid;if(c){const g=cs(ps,"users",c),_=await ar(g),m=(u=_.data())==null?void 0:u.skinType;o.value=m!==void 0,t.value=o.value?m:null;const b=(h=_.data())==null?void 0:h.skinTone;t.value=b!==void 0?b:"";const x=(d=_.data())==null?void 0:d.eyeColor;n.value=x!==void 0?x:"";const v=(f=_.data())==null?void 0:f.hairColor;i.value=v!==void 0?v:"";const w=(p=_.data())==null?void 0:p.freckles;s.value=w!==void 0?w:""}})}),(l,c)=>t.value?(I(),S("div",{key:0,style:at({"background-color":t.value==="0"?"#FAE9DB":t.value==="1"?"#FADCB2":t.value==="2"?"#f1c27d":t.value==="3"?"#c4824b":t.value==="3.5"?"#77421b":t.value==="4"?"#4b2f1e":""}),class:Q([["circle",{"freckles-1":s.value==="0","freckles-2":l.frecklesPoints==="1","freckles-3":l.frecklesPoints==="2","freckles-4":l.frecklesPoints==="3"}],"circle"])},[y("div",nN,[y("div",{style:at(i.value==="0"?"background-color: #E94F00;":i.value==="1.01"?"background-color: #FFFCBF;":i.value==="1.02"?"background-color: #D0BD69":i.value==="2"?"background-color: #B27D19;":i.value==="2.01"?"background-color: #A67C52;":i.value==="2.02"?"background-color: #502D15;":i.value==="3"?"background-color: #270000;":i.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4),y("div",{style:at(i.value==="0"?"background-color: #E94F00;":i.value==="1.01"?"background-color: #FFFCBF;":i.value==="1.02"?"background-color: #D0BD69":i.value==="2"?"background-color: #B27D19;":i.value==="2.01"?"background-color: #A67C52;":i.value==="2.02"?"background-color: #502D15;":i.value==="3"?"background-color: #270000;":i.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4)]),y("div",iN,[y("div",sN,[y("div",{style:at(n.value==="0"?"background-color: #6AB9FF;":n.value==="0.01"?"background-color: #B3B3B3;":n.value==="0.02"?"background-color: #5FAB6E;":n.value==="1"?"background-color: #0044C9;":n.value==="1.01"?"background-color: #666666;":n.value==="1.02"?"background-color: #006837;":n.value==="2"?"background-color: #a6650f;":n.value==="2.01"?"background-color: #754C24;":n.value==="3"?"background-color: #42210B;":n.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)]),y("div",rN,[y("div",{style:at(n.value==="0"?"background-color: #6AB9FF;":n.value==="0.01"?"background-color: #B3B3B3;":n.value==="0.02"?"background-color: #5FAB6E;":n.value==="1"?"background-color: #0044C9;":n.value==="1.01"?"background-color: #666666;":n.value==="1.02"?"background-color: #006837;":n.value==="2"?"background-color: #a6650f;":n.value==="2.01"?"background-color: #754C24;":n.value==="3"?"background-color: #42210B;":n.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)])])],6)):(I(),S("div",oN,lN))}},uN=qt(cN,[["__scopeId","data-v-db12bdff"]]),hN={class:"top-header"},dN={key:0,class:"icon-container"},fN={key:1,class:"icon-container"},pN={key:0,class:"icon-container streak"},gN={__name:"Nav-header",setup(e){V({});const t=V(!1),n=V(""),i=V(!1),s=V(localStorage.getItem("streak")),r=()=>{i.value=!i.value};return ze().onAuthStateChanged(o=>{o?(n.value=o.email,t.value=!0):t.value=!1}),(o,a)=>(I(),S(Jt,null,[y("div",hN,[y("div",{class:"top-left",style:at(i.value?"background-color: transparent":"background-color: rgba(255, 255, 255, 0.4);")},[t.value?(I(),S("div",dN,[i.value?J("",!0):(I(),S("div",{key:0,onClick:r,class:"icon-container"},[Z(uN)])),i.value?(I(),S("span",{key:1,onClick:r,class:"material-symbols-outlined"}," close ")):J("",!0)])):(I(),S("div",fN,[y("span",{onClick:r,class:"material-symbols-outlined"}," account_circle ")]))],4),t.value?(I(),S("div",pN,[y("span",{style:at(o.$route.path.includes("timer")||o.$route.path.includes("skintype")||o.$route.path.includes("info")?"color: #ff8f1b":"color: #282828;"),class:"material-symbols-outlined"}," mode_heat ",4),y("p",{style:at(o.$route.path.includes("timer")||o.$route.path.includes("skintype")||o.$route.path.includes("info")?"color: #ff8f1b":"color: #282828;")},ot(s.value),5)])):J("",!0)]),Z(tN,{class:"hamburger",style:at(i.value?"transform: translateX(0)":"transform: translateX(-100%)")},null,8,["style"])],64))}},Sn=qt(gN,[["__scopeId","data-v-4baedebe"]]),mN={__name:"Top-header",setup(e){const t=V({}),n=()=>new Promise((i,s)=>{navigator.geolocation.getCurrentPosition(i,s,{enableHighAccuracy:!0,timeout:3e5,maximumAge:0})});return gn(async()=>{try{const i=await n(),{latitude:s,longitude:r}=i.coords,o=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=92584693940a4436a2b150711241202&q=${s},${r}&days=3&aqi=no&alerts=no`);t.value=await o.json()}catch(i){console.error("Error getting location:",i)}}),(i,s)=>(I(),S("header",null,[Z(Y3,{currentPlace:t.value,class:"weather-icon"},null,8,["currentPlace"]),Z(M3,{style:{"z-index":"1",position:"relative"},currentPlace:t.value},null,8,["currentPlace"]),Z(V3,{currentPlace:t.value,style:{"z-index":"1",position:"relative","margin-top":"-214px"}},null,8,["currentPlace"])]))}},bg=qt(mN,[["__scopeId","data-v-885a20db"]]),yN={components:{NavHeader:Sn,TopHeader:bg},data(){return{email:"",password:"",error:""}},methods:{async pressed(){try{const e=ze(),t=await jC(e,this.email,this.password);console.log(t),this.$router.replace({name:"home"})}catch(e){e&&(this.error=e)}}}},CE=e=>(We("data-v-a59bdf22"),e=e(),qe(),e),_N={class:"login-form-pos"},vN=CE(()=>y("h1",null,"Login",-1)),bN={class:"login-form"},wN=CE(()=>y("button",{type:"submit"},"Login",-1)),xN={key:0};function EN(e,t,n,i,s,r){const o=Ee("top-header"),a=Ee("router-link"),l=Ee("nav-header");return I(),S(Jt,null,[Z(o),y("div",_N,[vN,y("form",{onSubmit:t[2]||(t[2]=sp((...c)=>r.pressed&&r.pressed(...c),["prevent"]))},[y("div",bN,[it(y("input",{class:"input-field",type:"email","onUpdate:modelValue":t[0]||(t[0]=c=>s.email=c),placeholder:"email"},null,512),[[Dr,s.email]]),it(y("input",{class:"input-field",type:"password","onUpdate:modelValue":t[1]||(t[1]=c=>s.password=c),placeholder:"password"},null,512),[[Dr,s.password]])]),wN],32),s.error?(I(),S("div",xN,ot(s.error.message),1)):J("",!0),y("span",null,[bt("Need an account? Click here to "),Z(a,{to:"/register"},{default:ye(()=>[bt("Register.")]),_:1})])]),Z(l)],64)}const TN=qt(yN,[["render",EN],["__scopeId","data-v-a59bdf22"]]),kN={components:{TopHeader:bg,NavHeader:Sn},data(){return{email:"",password:"",error:""}},methods:{async pressed(){try{const e=ze(),t=await BC(e,this.email,this.password);this.$router.replace({name:"skintype"})}catch(e){e&&(this.error=e)}}}},RE=e=>(We("data-v-f084c029"),e=e(),qe(),e),IN={class:"login-form-pos"},SN=RE(()=>y("h1",null,"Register",-1)),AN={key:0},PN={class:"login-form"},CN=RE(()=>y("button",{type:"submit"},"Register",-1));function RN(e,t,n,i,s,r){const o=Ee("top-header"),a=Ee("router-link"),l=Ee("nav-header");return I(),S(Jt,null,[Z(o),y("div",IN,[SN,s.error?(I(),S("div",AN,ot(s.error.message),1)):J("",!0),y("form",{onSubmit:t[2]||(t[2]=sp((...c)=>r.pressed&&r.pressed(...c),["prevent"]))},[y("div",PN,[it(y("input",{class:"input-field",type:"email","onUpdate:modelValue":t[0]||(t[0]=c=>s.email=c),placeholder:"email"},null,512),[[Dr,s.email]]),it(y("input",{class:"input-field",type:"password","onUpdate:modelValue":t[1]||(t[1]=c=>s.password=c),placeholder:"password"},null,512),[[Dr,s.password]])]),CN],32),y("span",null,[bt("Already have an account? Click here to "),Z(a,{to:"/login"},{default:ye(()=>[bt("Login.")]),_:1})])]),Z(l)],64)}const MN=qt(kN,[["render",RN],["__scopeId","data-v-f084c029"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function al(e){return e+.5|0}const Gi=(e,t,n)=>Math.max(Math.min(e,n),t);function Mo(e){return Gi(al(e*2.55),0,255)}function ns(e){return Gi(al(e*255),0,255)}function gi(e){return Gi(al(e/2.55)/100,0,1)}function N_(e){return Gi(al(e*100),0,100)}const _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_f=[..."0123456789ABCDEF"],ON=e=>_f[e&15],DN=e=>_f[(e&240)>>4]+_f[e&15],Ml=e=>(e&240)>>4===(e&15),LN=e=>Ml(e.r)&&Ml(e.g)&&Ml(e.b)&&Ml(e.a);function NN(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&_n[e[1]]*17,g:255&_n[e[2]]*17,b:255&_n[e[3]]*17,a:t===5?_n[e[4]]*17:255}:(t===7||t===9)&&(n={r:_n[e[1]]<<4|_n[e[2]],g:_n[e[3]]<<4|_n[e[4]],b:_n[e[5]]<<4|_n[e[6]],a:t===9?_n[e[7]]<<4|_n[e[8]]:255})),n}const VN=(e,t)=>e<255?t(e):"";function FN(e){var t=LN(e)?ON:DN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+VN(e.a,t):void 0}const $N=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ME(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function UN(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function BN(e,t,n){const i=ME(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function jN(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function wg(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=jN(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function xg(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ns)}function Eg(e,t,n){return xg(ME,e,t,n)}function zN(e,t,n){return xg(BN,e,t,n)}function HN(e,t,n){return xg(UN,e,t,n)}function OE(e){return(e%360+360)%360}function WN(e){const t=$N.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Mo(+t[5]):ns(+t[5]));const s=OE(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=zN(s,r,o):t[1]==="hsv"?i=HN(s,r,o):i=Eg(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function qN(e,t){var n=wg(e);n[0]=OE(n[0]+t),n=Eg(n),e.r=n[0],e.g=n[1],e.b=n[2]}function KN(e){if(!e)return;const t=wg(e),n=t[0],i=N_(t[1]),s=N_(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${gi(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const V_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GN(){const e={},t=Object.keys(F_),n=Object.keys(V_);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,V_[r]);r=parseInt(F_[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Ol;function YN(e){Ol||(Ol=GN(),Ol.transparent=[0,0,0,0]);const t=Ol[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const XN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QN(e){const t=XN.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Mo(o):Gi(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Mo(i):Gi(i,0,255)),s=255&(t[4]?Mo(s):Gi(s,0,255)),r=255&(t[6]?Mo(r):Gi(r,0,255)),{r:i,g:s,b:r,a:n}}}function JN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${gi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Zh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,dr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ZN(e,t,n){const i=dr(gi(e.r)),s=dr(gi(e.g)),r=dr(gi(e.b));return{r:ns(Zh(i+n*(dr(gi(t.r))-i))),g:ns(Zh(s+n*(dr(gi(t.g))-s))),b:ns(Zh(r+n*(dr(gi(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Dl(e,t,n){if(e){let i=wg(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Eg(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function DE(e,t){return e&&Object.assign(t||{},e)}function $_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ns(e[3]))):(t=DE(e,{r:0,g:0,b:0,a:1}),t.a=ns(t.a)),t}function t5(e){return e.charAt(0)==="r"?QN(e):WN(e)}class Ca{constructor(t){if(t instanceof Ca)return t;const n=typeof t;let i;n==="object"?i=$_(t):n==="string"&&(i=NN(t)||YN(t)||t5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=DE(this._rgb);return t&&(t.a=gi(t.a)),t}set rgb(t){this._rgb=$_(t)}rgbString(){return this._valid?JN(this._rgb):void 0}hexString(){return this._valid?FN(this._rgb):void 0}hslString(){return this._valid?KN(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=ZN(this._rgb,t._rgb,n)),this}clone(){return new Ca(this.rgb)}alpha(t){return this._rgb.a=ns(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=al(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dl(this._rgb,2,t),this}darken(t){return Dl(this._rgb,2,-t),this}saturate(t){return Dl(this._rgb,1,t),this}desaturate(t){return Dl(this._rgb,1,-t),this}rotate(t){return qN(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function hi(){}const e5=(()=>{let e=0;return()=>e++})();function Lt(e){return e===null||typeof e>"u"}function Ft(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ie(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function fn(e,t){return ie(e)?e:t}function yt(e,t){return typeof e>"u"?t:e}const n5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,LE=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function jt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function zt(e,t,n,i){let s,r,o;if(Ft(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(St(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function Xc(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Qc(e){if(Ft(e))return e.map(Qc);if(St(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Qc(e[n[s]]);return t}return e}function NE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function i5(e,t,n,i){if(!NE(e))return;const s=t[e],r=n[e];St(s)&&St(r)?Ra(s,r,i):t[e]=Qc(r)}function Ra(e,t,n){const i=Ft(t)?t:[t],s=i.length;if(!St(e))return e;n=n||{};const r=n.merger||i5;let o;for(let a=0;a<s;++a){if(o=i[a],!St(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Jo(e,t){return Ra(e,t,{merger:s5})}function s5(e,t,n){if(!NE(e))return;const i=t[e],s=n[e];St(i)&&St(s)?Jo(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qc(s))}const U_={"":e=>e,x:e=>e.x,y:e=>e.y};function r5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function o5(e){const t=r5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function us(e,t){return(U_[t]||(U_[t]=o5(t)))(e)}function Tg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hn=e=>typeof e<"u",an=e=>typeof e=="function",B_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function a5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ct=Math.PI,Gt=2*Ct,l5=Gt+Ct,Jc=Number.POSITIVE_INFINITY,kg=Ct/180,te=Ct/2,vn=Ct/4,Zc=Ct*2/3,Yi=Math.log10,ii=Math.sign;function Zo(e,t,n){return Math.abs(e-t)<n}function j_(e){const t=Math.round(e);e=Zo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Yi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function c5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function hs(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function VE(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function fe(e){return e*(Ct/180)}function sh(e){return e*(180/Ct)}function z_(e){if(!ie(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function FE(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ct&&(r+=Gt),{angle:r,distance:s}}function qr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function h5(e,t){return(e-t+l5)%Gt-Ct}function pn(e){return(e%Gt+Gt)%Gt}function Ma(e,t,n,i){const s=pn(e),r=pn(t),o=pn(n),a=pn(r-s),l=pn(o-s),c=pn(s-r),u=pn(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function xe(e,t,n){return Math.max(t,Math.min(n,e))}function d5(e){return xe(e,-32768,32767)}function bi(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Ig(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const wi=(e,t,n,i)=>Ig(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),f5=(e,t,n)=>Ig(e,n,i=>e[i][t]>=n);function p5(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const $E=["push","pop","shift","splice","unshift"];function g5(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$E.forEach(n=>{const i="_onData"+Tg(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function H_(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&($E.forEach(r=>{delete e[r]}),delete e._chartjs)}function UE(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const BE=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function jE(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,BE.call(window,()=>{i=!1,e.apply(t,n)}))}}function m5(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Sg=e=>e==="start"?"left":e==="end"?"right":"center",Le=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,y5=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function zE(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=xe(Math.min(wi(a,l,c).lo,n?i:wi(t,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=xe(Math.max(wi(a,o.axis,u,!0).hi+1,n?0:wi(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function HE(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Ll=e=>e===0||e===1,W_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Gt/n)),q_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Gt/n)+1,ta={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*te)+1,easeOutSine:e=>Math.sin(e*te),easeInOutSine:e=>-.5*(Math.cos(Ct*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ll(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ll(e)?e:W_(e,.075,.3),easeOutElastic:e=>Ll(e)?e:q_(e,.075,.3),easeInOutElastic(e){return Ll(e)?e:e<.5?.5*W_(e*2,.1125,.45):.5+.5*q_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ta.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ta.easeInBounce(e*2)*.5:ta.easeOutBounce(e*2-1)*.5+.5};function Ag(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function K_(e){return Ag(e)?e:new Ca(e)}function td(e){return Ag(e)?e:new Ca(e).saturate(.5).darken(.1).hexString()}const _5=["x","y","borderWidth","radius","tension"],v5=["color","borderColor","backgroundColor"];function b5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:v5},numbers:{type:"number",properties:_5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function w5(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const G_=new Map;function x5(e,t){t=t||{};const n=e+JSON.stringify(t);let i=G_.get(n);return i||(i=new Intl.NumberFormat(e,t),G_.set(n,i)),i}function ll(e,t,n){return x5(t,n).format(e)}const WE={values(e){return Ft(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=E5(e,n)}const o=Yi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ll(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Yi(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?WE.numeric.call(this,e,t,n):""}};function E5(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var rh={formatters:WE};function T5(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Qs=Object.create(null),vf=Object.create(null);function ea(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function ed(e,t,n){return typeof t=="string"?Ra(ea(e,t),n):Ra(ea(e,""),t)}class k5{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>td(s.backgroundColor),this.hoverBorderColor=(i,s)=>td(s.borderColor),this.hoverColor=(i,s)=>td(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ed(this,t,n)}get(t){return ea(this,t)}describe(t,n){return ed(vf,t,n)}override(t,n){return ed(Qs,t,n)}route(t,n,i,s){const r=ea(this,t),o=ea(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return St(l)?Object.assign({},c,l):yt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var re=new k5({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[b5,w5,T5]);function I5(e){return!e||Lt(e.size)||Lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function tu(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function S5(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ft(h))o=tu(e,s,r,o,h);else if(Ft(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Ft(d)&&(o=tu(e,s,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Ts(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Y_(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function bf(e,t,n,i){qE(e,t,n,i,null)}function qE(e,t,n,i,s){let r,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let _=(p||0)*kg;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(_),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:s?e.ellipse(n,i,s/2,g,0,0,Gt):e.arc(n,i,g,0,Gt),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(_)*u,i-Math.cos(_)*g),_+=Zc,e.lineTo(n+Math.sin(_)*u,i-Math.cos(_)*g),_+=Zc,e.lineTo(n+Math.sin(_)*u,i-Math.cos(_)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+vn)*l,h=Math.cos(_+vn)*(s?s/2-c:l),a=Math.sin(_+vn)*l,d=Math.sin(_+vn)*(s?s/2-c:l),e.arc(n-h,i-a,c,_-Ct,_-te),e.arc(n+d,i-o,c,_-te,_),e.arc(n+h,i+a,c,_,_+te),e.arc(n-d,i+o,c,_+te,_+Ct),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}_+=vn;case"rectRot":h=Math.cos(_)*(s?s/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":_+=vn;case"cross":h=Math.cos(_)*(s?s/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(_)*(s?s/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),_+=vn,h=Math.cos(_)*(s?s/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(_)*g,a=Math.sin(_)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(_)*(s?s/2:g),i+Math.sin(_)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function xi(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function cl(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ul(e){e.restore()}function A5(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function P5(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function C5(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function R5(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function M5(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Js(e,t,n,i,s,r={}){const o=Ft(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,C5(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&M5(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Lt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),R5(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Kr(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ct,Ct,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ct,te,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,te,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-te,!0),e.lineTo(n+o.topLeft,i)}const O5=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,D5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L5(e,t){const n=(""+e).match(O5);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const N5=e=>+e||0;function Pg(e,t){const n={},i=St(t),s=i?Object.keys(t):t,r=St(e)?i?o=>yt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=N5(r(o));return n}function KE(e){return Pg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function is(e){return Pg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ge(e){const t=KE(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function oe(e,t){e=e||{},t=t||re.font;let n=yt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=yt(e.style,t.style);i&&!(""+i).match(D5)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:yt(e.family,t.family),lineHeight:L5(yt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:yt(e.weight,t.weight),string:""};return s.string=I5(s),s}function Oo(e,t,n,i){let s,r,o;for(s=0,r=e.length;s<r;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function V5(e,t,n){const{min:i,max:s}=e,r=LE(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ws(e,t){return Object.assign(Object.create(e),t)}function Cg(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=QE("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Cg([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return YE(a,l,()=>W5(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Q_(a).includes(l)},ownKeys(a){return Q_(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Gr(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:GE(e,i),setContext:r=>Gr(e,r,n,i),override:r=>Gr(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return YE(r,o,()=>$5(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function GE(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:an(n)?n:()=>n,isIndexable:an(i)?i:()=>i}}const F5=(e,t)=>e?e+Tg(t):t,Rg=(e,t)=>St(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function YE(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function $5(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return an(a)&&o.isScriptable(t)&&(a=U5(t,a,e,n)),Ft(a)&&a.length&&(a=B5(t,a,e,o.isIndexable)),Rg(t,a)&&(a=Gr(a,s,r&&r[t],o)),a}function U5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),Rg(e,l)&&(l=Mg(s._scopes,s,e,l)),l}function B5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(St(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Mg(c,s,e,u);t.push(Gr(h,r,o&&o[e],a))}}return t}function XE(e,t,n){return an(e)?e(t,n):e}const j5=(e,t)=>e===!0?t:typeof e=="string"?us(t,e):void 0;function z5(e,t,n,i,s){for(const r of t){const o=j5(n,r);if(o){e.add(o);const a=XE(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Mg(e,t,n,i){const s=t._rootScopes,r=XE(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=X_(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=X_(a,o,r,l,i),l===null)?!1:Cg(Array.from(a),[""],s,r,()=>H5(t,n,i))}function X_(e,t,n,i,s){for(;n;)n=z5(e,t,n,i,s);return n}function H5(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Ft(s)&&St(n)?n:s||{}}function W5(e,t,n,i){let s;for(const r of t)if(s=QE(F5(r,e),n),typeof s<"u")return Rg(e,s)?Mg(n,i,e,s):s}function QE(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Q_(e){let t=e._keys;return t||(t=e._keys=q5(e._scopes)),t}function q5(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function JE(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(us(u,r),c)};return o}const K5=Number.EPSILON||1e-14,Yr=(e,t)=>t<e.length&&!e[t].skip&&e[t],ZE=e=>e==="x"?"y":"x";function G5(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=qr(r,s),l=qr(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function Y5(e,t,n){const i=e.length;let s,r,o,a,l,c=Yr(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Yr(e,u+1),!(!l||!c)){if(Zo(t[u],0,K5)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function X5(e,t,n="x"){const i=ZE(n),s=e.length;let r,o,a,l=Yr(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Yr(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function Q5(e,t="x"){const n=ZE(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Yr(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Yr(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?ii(s[o-1])!==ii(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Y5(e,s,r),X5(e,r,t)}function Nl(e,t,n){return Math.max(Math.min(e,n),t)}function J5(e,t){let n,i,s,r,o,a=xi(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&xi(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Nl(s.cp1x,t.left,t.right),s.cp1y=Nl(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Nl(s.cp2x,t.left,t.right),s.cp2y=Nl(s.cp2y,t.top,t.bottom)))}function Z5(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Q5(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=G5(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&J5(e,n)}function Og(){return typeof window<"u"&&typeof document<"u"}function Dg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function eu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const oh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function tV(e,t){return oh(e).getPropertyValue(t)}const eV=["top","right","bottom","left"];function zs(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=eV[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function iV(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(nV(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function As(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=oh(n),r=s.boxSizing==="border-box",o=zs(s,"padding"),a=zs(s,"border","width"),{x:l,y:c,box:u}=iV(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function sV(e,t,n){let i,s;if(t===void 0||n===void 0){const r=Dg(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=oh(r),l=zs(a,"border","width"),c=zs(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=eu(a.maxWidth,r,"clientWidth"),s=eu(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||Jc,maxHeight:s||Jc}}const Vl=e=>Math.round(e*10)/10;function rV(e,t,n,i){const s=oh(e),r=zs(s,"margin"),o=eu(s.maxWidth,e,"clientWidth")||Jc,a=eu(s.maxHeight,e,"clientHeight")||Jc,l=sV(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=zs(s,"border","width"),f=zs(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Vl(Math.min(c,o,l.maxWidth)),u=Vl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Vl(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Vl(Math.floor(u*i))),{width:c,height:u}}function J_(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const oV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Og()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Z_(e,t){const n=tV(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ps(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function aV(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function lV(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Ps(e,s,n),a=Ps(s,r,n),l=Ps(r,t,n),c=Ps(o,a,n),u=Ps(a,l,n);return Ps(c,u,n)}const cV=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},uV=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Cr(e,t,n){return e?cV(t,n):uV()}function tT(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function eT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nT(e){return e==="angle"?{between:Ma,compare:h5,normalize:pn}:{between:bi,compare:(t,n)=>t-n,normalize:t=>t}}function t0({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function hV(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=nT(i),l=t.length;let{start:c,end:u,loop:h}=e,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(t[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function iT(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=nT(i),{start:u,end:h,loop:d,style:f}=hV(e,t,n),p=[];let g=!1,_=null,m,b,x;const v=()=>l(s,x,m)&&a(s,x)!==0,w=()=>a(r,m)===0||l(r,x,m),P=()=>g||v(),O=()=>!g||w();for(let k=u,A=u;k<=h;++k)b=t[k%o],!b.skip&&(m=c(b[i]),m!==x&&(g=l(m,s,r),_===null&&P()&&(_=a(m,s)===0?k:A),_!==null&&O()&&(p.push(t0({start:_,end:k,loop:d,count:o,style:f})),_=null),A=k,x=m));return _!==null&&p.push(t0({start:_,end:h,loop:d,count:o,style:f})),p}function sT(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=iT(i[s],e.points,t);r.length&&n.push(...r)}return n}function dV(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function fV(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function pV(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=dV(n,s,r,i);if(i===!0)return e0(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return e0(e,fV(n,o,l,c),n,t)}function e0(e,t,n,i){return!i||!i.setContext||!n?t:gV(e,t,n,i)}function gV(e,t,n,i){const s=e._chart.getContext(),r=n0(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,d=h;function f(p,g,_,m){const b=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=b;for(;n[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:_,style:m}),u=m,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],_;for(d=h+1;d<=p.end;d++){const m=n[d%l];_=n0(i.setContext(ws(s,{type:"segment",p0:g,p1:m,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),mV(_,u)&&f(h,d-1,p.loop,u),g=m,u=_}h<d-1&&f(h,d-1,p.loop,u)}return c}function n0(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function mV(e,t){if(!t)return!1;const n=[],i=function(s,r){return Ag(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class yV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=BE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var di=new yV;const i0="transparent",_V={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=K_(e||i0),s=i.valid&&K_(t||i0);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class vV{constructor(t,n,i,s){const r=n[i];s=Oo([t.to,s,r,t.from]);const o=Oo([t.from,r,s]);this._active=!0,this._fn=t.fn||_V[t.type||typeof o],this._easing=ta[t.easing]||ta.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Oo([t.to,n,s,t.from]),this._from=Oo([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Lg{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!St(t))return;const n=Object.keys(re.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!St(r))return;const o={};for(const a of n)o[a]=r[a];(Ft(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=wV(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&bV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new vV(d,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return di.add(this._chart,i),!0}}function bV(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function wV(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function s0(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function xV(e,t,n){if(n===!1)return!1;const i=s0(e,n),s=s0(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function EV(e){let t,n,i,s;return St(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function rT(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function r0(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],ie(c)&&(r||t===0||ii(t)===ii(c))&&(t+=c)}return t}}function TV(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function o0(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function kV(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function IV(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function SV(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function a0(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function l0(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=kV(r,o,i),h=t.length;let d;for(let f=0;f<h;++f){const p=t[f],{[l]:g,[c]:_}=p,m=p._stacks||(p._stacks={});d=m[c]=SV(s,u,g),d[a]=_,d._top=a0(d,o,!0,i.type),d._bottom=a0(d,o,!1,i.type);const b=d._visualValues||(d._visualValues={});b[a]=_}}function nd(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function AV(e,t){return ws(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function PV(e,t,n){return ws(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function bo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const id=e=>e==="reset"||e==="none",c0=(e,t)=>t?e:Object.assign({},e),CV=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:rT(n,!0),values:null};class Nn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=o0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&bo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=yt(i.xAxisID,nd(t,"x")),o=n.yAxisID=yt(i.yAxisID,nd(t,"y")),a=n.rAxisID=yt(i.rAxisID,nd(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&H_(this._data,this),t._stacked&&bo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(St(n))this._data=TV(n);else if(i!==n){if(i){H_(i,this);const s=this._cachedMeta;bo(s),s._parsed=[]}n&&Object.isExtensible(n)&&g5(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=o0(n.vScale,n),n.stack!==i.stack&&(s=!0,bo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&l0(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{Ft(s[t])?d=this.parseArrayData(i,s,t,n):St(s[t])?d=this.parseObjectData(i,s,t,n):d=this.parsePrimitiveData(i,s,t,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&l0(this,d)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(us(f,a),d),y:o.parse(us(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:rT(s,!0),values:n._stacks[t.axis]._visualValues};return r0(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=r0(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=CV(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=IV(a);let d,f;function p(){f=s[d];const g=f[a.axis];return!ie(f[t.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],ie(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=EV(yt(this.options.clip,xV(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=PV(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=AV(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&hn(i);if(a)return c0(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(re.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(c0(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,i,n))}const c=new Lg(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||id(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){id(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!id(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&bo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}W(Nn,"defaults",{}),W(Nn,"datasetElementType",null),W(Nn,"dataElementType",null);function RV(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=UE(i.sort((s,r)=>s-r))}return e._cache.$bar}function MV(e){const t=e.iScale,n=RV(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(hn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function OV(e,t,n,i){const s=n.barThickness;let r,o;return Lt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function DV(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function LV(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function oT(e,t,n,i){return Ft(e)?LV(e,t,n,i):t[n.axis]=n.parse(e,i),t}function u0(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(oT(d,h,r,c));return l}function sd(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function NV(e,t,n){return e!==0?ii(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function VV(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function FV(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=VV(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[h0(u,o,a,l)]=!0,s=c)),r[h0(s,o,a,l)]=!0,e.borderSkipped=r}function h0(e,t,n,i){return i?(e=$V(e,t,n),e=d0(e,n,t)):e=d0(e,t,n),e}function $V(e,t,n){return e===t?n:e===n?t:e}function d0(e,t,n){return e==="start"?t:e==="end"?n:e}function UV(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class hc extends Nn{parsePrimitiveData(t,n,i,s){return u0(t,n,i,s)}parseArrayData(t,n,i,s){return u0(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+s;d<f;++d)g=n[d],p={},p[r.axis]=r.parse(us(g,c),d),h.push(oT(us(g,u),p,o,d));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=sd(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=r||Lt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),m=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!m||sd(p._custom)||o===m._top||o===m._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};d&&(b.options=h||this.resolveDataElementOptions(f,t[f].active?"active":s));const x=b.options||t[f].options;FV(b,x,m,o),UV(b,x,u.ratio),this.updateElement(t[f],f,b,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Lt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||MV(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=sd(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&ii(h)!==ii(c.barEnd)&&(d=0),d+=h);const _=!Lt(r)&&!u?r:d;let m=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(d+f):p=m,g=p-m,Math.abs(g)<o){g=NV(g,n,a)*o,h===a&&(m-=g/2);const b=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),v=Math.min(b,x),w=Math.max(b,x);m=Math.max(Math.min(m,w),v),p=m+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const b=ii(g)*n.getLineWidthForValue(a)/2;m+=b,g-=b}return{size:g,base:m,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=yt(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?DV(t,n,s,c):OV(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}W(hc,"id","bar"),W(hc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),W(hc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class dc extends Nn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=yt(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=yt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=t[d],p=!r&&this.getParsed(d),g={},_=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),m=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(_)||isNaN(m),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(g.options.radius=0)),this.updateElement(f,d,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=yt(i&&i._custom,r),s}}W(dc,"id","bubble"),W(dc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),W(dc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function BV(e,t,n){let i=1,s=1,r=0,o=0;if(t<Gt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(x,v,w)=>Ma(x,a,l,!0)?1:Math.max(v,v*n,w,w*n),p=(x,v,w)=>Ma(x,a,l,!0)?-1:Math.min(v,v*n,w,w*n),g=f(0,c,h),_=f(te,u,d),m=p(Ct,c,h),b=p(Ct+te,u,d);i=(g-m)/2,s=(_-b)/2,r=-(g+m)/2,o=-(_+b)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ns extends Nn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(St(i[t])){const{key:l="value"}=this._parsing;r=c=>+us(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return fe(this.options.rotation-90)}_getCircumference(){return fe(this.options.circumference)}_getRotationExtents(){let t=Gt,n=-Gt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(n5(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=BV(h,u,l),_=(i.width-o)/d,m=(i.height-o)/f,b=Math.max(Math.min(_,m)/2,0),x=LE(this.options.radius,b),v=Math.max(x*l,0),w=(x-v)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=g*x,s.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Gt)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,s);let m=this._getRotation(),b;for(b=0;b<n;++b)m+=this._circumference(b,r);for(b=n;b<n+i;++b){const x=this._circumference(b,r),v=t[b],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+x,circumference:x,outerRadius:p,innerRadius:f};_&&(w.options=g||this.resolveDataElementOptions(b,v.active?"active":s)),m+=x,this.updateElement(v,b,w,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Gt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=ll(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(yt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}W(Ns,"id","doughnut"),W(Ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),W(Ns,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),W(Ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class fc extends Nn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=zE(n,s,o);this._drawStart=a,this._drawCount=l,HE(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,_=hs(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none",b=n+i,x=t.length;let v=n>0&&this.getParsed(n-1);for(let w=0;w<x;++w){const P=t[w],O=m?P:{};if(w<n||w>=b){O.skip=!0;continue}const k=this.getParsed(w),A=Lt(k[f]),C=O[d]=o.getPixelForValue(k[d],w),R=O[f]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[f],w);O.skip=isNaN(C)||isNaN(R)||A,O.stop=w>0&&Math.abs(k[d]-v[d])>_,g&&(O.parsed=k,O.raw=c.data[w]),h&&(O.options=u||this.resolveDataElementOptions(w,P.active?"active":s)),m||this.updateElement(P,w,O,s),v=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}W(fc,"id","line"),W(fc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),W(fc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class na extends Nn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=ll(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return JE.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Ct;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const _=t[p];let m=f,b=f+this._computeAngle(p,s,g),x=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=b,r&&(l.animateScale&&(x=0),l.animateRotate&&(m=b=d));const v={x:u,y:h,innerRadius:0,outerRadius:x,startAngle:m,endAngle:b,options:this.resolveDataElementOptions(p,_.active?"active":s)};this.updateElement(_,p,v,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?fe(this.resolveDataElementOptions(t,n).angle||i):0}}W(na,"id","polarArea"),W(na,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),W(na,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class wf extends Ns{}W(wf,"id","pie"),W(wf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class pc extends Nn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return JE.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}W(pc,"id","radar"),W(pc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),W(pc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class gc extends Nn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=zE(n,i,s);if(this._drawStart=r,this._drawCount=o,HE(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=o.axis,p=a.axis,{spanGaps:g,segment:_}=this.options,m=hs(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||s==="none";let x=n>0&&this.getParsed(n-1);for(let v=n;v<n+i;++v){const w=t[v],P=this.getParsed(v),O=b?w:{},k=Lt(P[p]),A=O[f]=o.getPixelForValue(P[f],v),C=O[p]=r||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[p],v);O.skip=isNaN(A)||isNaN(C)||k,O.stop=v>0&&Math.abs(P[f]-x[f])>m,_&&(O.parsed=P,O.raw=c.data[v]),d&&(O.options=h||this.resolveDataElementOptions(v,w.active?"active":s)),b||this.updateElement(w,v,O,s),x=P}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}W(gc,"id","scatter"),W(gc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),W(gc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var jV=Object.freeze({__proto__:null,BarController:hc,BubbleController:dc,DoughnutController:Ns,LineController:fc,PieController:wf,PolarAreaController:na,RadarController:pc,ScatterController:gc});function ks(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ng{constructor(t){W(this,"options");this.options=t||{}}static override(t){Object.assign(Ng.prototype,t)}init(){}formats(){return ks()}parse(){return ks()}format(){return ks()}add(){return ks()}diff(){return ks()}startOf(){return ks()}endOf(){return ks()}}var zV={_date:Ng};function HV(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?f5:wi;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),d=l(r,t,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function hl(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=HV(r[a],t,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function WV(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function rd(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||hl(e,n,t,function(a,l,c){!s&&!xi(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function qV(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=FE(o,{x:t.x,y:t.y});Ma(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return hl(e,n,t,r),s}function KV(e,t,n,i,s,r){let o=[];const a=WV(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(t.x,t.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!f)return;const _=a(t,p);_<l?(o=[{element:u,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:d})}return hl(e,n,t,c),o}function od(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?qV(e,t,n,s):KV(e,t,n,i,s,r)}function f0(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return hl(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var GV={evaluateInteractionItems:hl,modes:{index(e,t,n,i){const s=As(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?rd(e,s,r,i,o):od(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=As(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?rd(e,s,r,i,o):od(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=As(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return rd(e,s,r,i,o)},nearest(e,t,n,i){const s=As(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return od(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=As(t,e);return f0(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=As(t,e);return f0(e,s,"y",n.intersect,i)}}};const aT=["left","top","right","bottom"];function wo(e,t){return e.filter(n=>n.pos===t)}function p0(e,t){return e.filter(n=>aT.indexOf(n.pos)===-1&&n.box.axis===t)}function xo(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function YV(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function XV(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!aT.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function QV(e,t){const n=XV(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function JV(e){const t=YV(e),n=xo(t.filter(c=>c.box.fullSize),!0),i=xo(wo(t,"left"),!0),s=xo(wo(t,"right")),r=xo(wo(t,"top"),!0),o=xo(wo(t,"bottom")),a=p0(t,"x"),l=p0(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:wo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function g0(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function lT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ZV(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!St(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&lT(o,r.getPadding());const a=Math.max(0,t.outerWidth-g0(o,e,"left","right")),l=Math.max(0,t.outerHeight-g0(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function tF(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eF(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function Do(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,eF(a.horizontal,t));const{same:h,other:d}=ZV(t,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&Do(s,t,n,i)||u}function Fl(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function m0(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;hn(c.start)&&(o=c.start),l.fullSize?Fl(l,s.left,o,n.outerWidth-s.right-s.left,d):Fl(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;hn(c.start)&&(r=c.start),l.fullSize?Fl(l,r,s.top,d,n.outerHeight-s.bottom-s.top):Fl(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var Ue={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=ge(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=JV(e.boxes),l=a.vertical,c=a.horizontal;zt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);lT(d,ge(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=QV(l.concat(c),h);Do(a.fullSize,f,h,p),Do(l,f,h,p),Do(c,f,h,p)&&Do(l,f,h,p),tF(f),m0(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,m0(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},zt(a.chartArea,g=>{const _=g.box;Object.assign(_,e.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class cT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class nF extends cT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mc="$chartjs",iF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y0=e=>e===null||e==="";function sF(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[mc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",y0(s)){const r=Z_(e,"width");r!==void 0&&(e.width=r)}if(y0(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Z_(e,"height");r!==void 0&&(e.height=r)}return e}const uT=oV?{passive:!0}:!1;function rF(e,t,n){e&&e.addEventListener(t,n,uT)}function oF(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,uT)}function aF(e,t){const n=iF[e.type]||e.type,{x:i,y:s}=As(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function nu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function lF(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||nu(a.addedNodes,i),o=o&&!nu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function cF(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||nu(a.removedNodes,i),o=o&&!nu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Oa=new Map;let _0=0;function hT(){const e=window.devicePixelRatio;e!==_0&&(_0=e,Oa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function uF(e,t){Oa.size||window.addEventListener("resize",hT),Oa.set(e,t)}function hF(e){Oa.delete(e),Oa.size||window.removeEventListener("resize",hT)}function dF(e,t,n){const i=e.canvas,s=i&&Dg(i);if(!s)return;const r=jE((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),uF(e,r),o}function ad(e,t,n){n&&n.disconnect(),t==="resize"&&hF(e)}function fF(e,t,n){const i=e.canvas,s=jE(r=>{e.ctx!==null&&n(aF(r,e))},e);return rF(i,t,s),s}class pF extends cT{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(sF(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[mc])return!1;const i=n[mc].initial;["height","width"].forEach(r=>{const o=i[r];Lt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[mc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:lF,detach:cF,resize:dF}[n]||fF;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:ad,detach:ad,resize:ad}[n]||oF)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return rV(t,n,i,s)}isAttached(t){const n=Dg(t);return!!(n&&n.isConnected)}}function gF(e){return!Og()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?nF:pF}var Gl;let tn=(Gl=class{constructor(){W(this,"x");W(this,"y");W(this,"active",!1);W(this,"options");W(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return hs(this.x)&&hs(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},W(Gl,"defaults",{}),W(Gl,"defaultRoutes"),Gl);function mF(e,t){const n=e.options.ticks,i=yF(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?vF(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return bF(t,c,r,o/s),c;const u=_F(r,t,s);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for($l(t,c,u,Lt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)$l(t,c,u,r[h],r[h+1]);return $l(t,c,u,l,Lt(f)?t.length:l+f),c}return $l(t,c,u),c}function yF(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function _F(e,t,n){const i=wF(e),s=t.length/n;if(!i)return Math.max(s,1);const r=c5(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function vF(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function bF(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function $l(e,t,n,i,s){const r=yt(i,0),o=Math.min(yt(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function wF(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const xF=e=>e==="left"?"right":e==="right"?"left":e,v0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,b0=(e,t)=>Math.min(t||e,e);function w0(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function EF(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function TF(e,t){zt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Eo(e){return e.drawTicks?e.tickLength:0}function x0(e,t){if(!e.display)return 0;const n=oe(e.font,t),i=ge(e.padding);return(Ft(e.text)?e.text.length:1)*n.lineHeight+i.height}function kF(e,t){return ws(e,{scale:t,type:"scale"})}function IF(e,t,n){return ws(e,{tick:n,index:t,type:"tick"})}function SF(e,t,n){let i=Sg(e);return(n&&t!=="right"||!n&&t==="right")&&(i=xF(i)),i}function AF(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-s,_=a-r;if(e.isHorizontal()){if(f=Le(i,r,a),St(n)){const m=Object.keys(n)[0],b=n[m];p=u[m].getPixelForValue(b)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=v0(e,n,t);d=a-r}else{if(St(n)){const m=Object.keys(n)[0],b=n[m];f=u[m].getPixelForValue(b)-_+t}else n==="center"?f=(c.left+c.right)/2-_+t:f=v0(e,n,t);p=Le(i,o,s),h=n==="left"?-te:te}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class lr extends tn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=fn(t,Number.POSITIVE_INFINITY),n=fn(n,Number.NEGATIVE_INFINITY),i=fn(i,Number.POSITIVE_INFINITY),s=fn(s,Number.NEGATIVE_INFINITY),{min:fn(t,i),max:fn(n,s),minDefined:ie(t),maxDefined:ie(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:fn(n,fn(i,n)),max:fn(i,fn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=V5(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?w0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=mF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),jt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=jt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=b0(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=xe(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-Eo(t.grid)-n.padding-x0(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=sh(Math.min(Math.asin(xe((u.highest.height+6)/a,-1,1)),Math.asin(xe(l/c,-1,1))-Math.asin(xe(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=x0(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Eo(r)+l):(t.height=this.maxHeight,t.width=Eo(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=fe(this.labelRotation),g=Math.cos(p),_=Math.sin(p);if(a){const m=i.mirror?0:_*h.width+g*d.height;t.height=Math.min(this.maxHeight,t.height+m+f)}else{const m=i.mirror?0:g*h.width+_*d.height;t.width=Math.min(this.maxWidth,t.width+m+f)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*t.width,f=i*n.height):(d=i*t.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Lt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=w0(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/b0(n,i));let c=0,u=0,h,d,f,p,g,_,m,b,x,v,w;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=_=g.string,m=r[_]=r[_]||{data:{},gc:[]},b=g.lineHeight,x=v=0,!Lt(p)&&!Ft(p))x=tu(s,m.data,m.gc,x,p),v=b;else if(Ft(p))for(d=0,f=p.length;d<f;++d)w=p[d],!Lt(w)&&!Ft(w)&&(x=tu(s,m.data,m.gc,x,w),v+=b);o.push(x),a.push(v),c=Math.max(x,c),u=Math.max(v,u)}TF(r,n);const P=o.indexOf(c),O=a.indexOf(u),k=A=>({width:o[A]||0,height:a[A]||0});return{first:k(0),last:k(n-1),widest:k(P),highest:k(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return d5(this._alignToPixels?Ts(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=IF(this.getContext(),t,i))}return this.$context||(this.$context=kF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=fe(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Eo(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,_=g/2,m=function(ut){return Ts(i,ut,g)};let b,x,v,w,P,O,k,A,C,R,j,q;if(o==="top")b=m(this.bottom),O=this.bottom-d,A=b-_,R=m(t.top)+_,q=t.bottom;else if(o==="bottom")b=m(this.top),R=t.top,q=m(t.bottom)-_,O=b+_,A=this.top+d;else if(o==="left")b=m(this.right),P=this.right-d,k=b-_,C=m(t.left)+_,j=t.right;else if(o==="right")b=m(this.left),C=t.left,j=m(t.right)-_,P=b+_,k=this.left+d;else if(n==="x"){if(o==="center")b=m((t.top+t.bottom)/2+.5);else if(St(o)){const ut=Object.keys(o)[0],ht=o[ut];b=m(this.chart.scales[ut].getPixelForValue(ht))}R=t.top,q=t.bottom,O=b+_,A=O+d}else if(n==="y"){if(o==="center")b=m((t.left+t.right)/2);else if(St(o)){const ut=Object.keys(o)[0],ht=o[ut];b=m(this.chart.scales[ut].getPixelForValue(ht))}P=b-_,k=P-d,C=t.left,j=t.right}const _t=yt(s.ticks.maxTicksLimit,h),st=Math.max(1,Math.ceil(h/_t));for(x=0;x<h;x+=st){const ut=this.getContext(x),ht=r.setContext(ut),vt=a.setContext(ut),Kt=ht.lineWidth,Ke=ht.color,Ge=vt.dash||[],ue=vt.dashOffset,yn=ht.tickWidth,en=ht.tickColor,Bn=ht.tickBorderDash||[],ee=ht.tickBorderDashOffset;v=EF(this,x,l),v!==void 0&&(w=Ts(i,v,Kt),c?P=k=C=j=w:O=A=R=q=w,f.push({tx1:P,ty1:O,tx2:k,ty2:A,x1:C,y1:R,x2:j,y2:q,width:Kt,color:Ke,borderDash:Ge,borderDashOffset:ue,tickWidth:yn,tickColor:en,tickBorderDash:Bn,tickBorderDashOffset:ee}))}return this._ticksLength=h,this._borderValue=b,f}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=Eo(i.grid),f=d+u,p=h?-u:f,g=-fe(this.labelRotation),_=[];let m,b,x,v,w,P,O,k,A,C,R,j,q="middle";if(s==="top")P=this.bottom-p,O=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+p,O=this._getXAxisLabelAlignment();else if(s==="left"){const st=this._getYAxisLabelAlignment(d);O=st.textAlign,w=st.x}else if(s==="right"){const st=this._getYAxisLabelAlignment(d);O=st.textAlign,w=st.x}else if(n==="x"){if(s==="center")P=(t.top+t.bottom)/2+f;else if(St(s)){const st=Object.keys(s)[0],ut=s[st];P=this.chart.scales[st].getPixelForValue(ut)+f}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(t.left+t.right)/2-f;else if(St(s)){const st=Object.keys(s)[0],ut=s[st];w=this.chart.scales[st].getPixelForValue(ut)}O=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const _t=this._getLabelSizes();for(m=0,b=a.length;m<b;++m){x=a[m],v=x.label;const st=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,A=this._resolveTickFontOptions(m),C=A.lineHeight,R=Ft(v)?v.length:1;const ut=R/2,ht=st.color,vt=st.textStrokeColor,Kt=st.textStrokeWidth;let Ke=O;o?(w=k,O==="inner"&&(m===b-1?Ke=this.options.reverse?"left":"right":m===0?Ke=this.options.reverse?"right":"left":Ke="center"),s==="top"?c==="near"||g!==0?j=-R*C+C/2:c==="center"?j=-_t.highest.height/2-ut*C+C:j=-_t.highest.height+C/2:c==="near"||g!==0?j=C/2:c==="center"?j=_t.highest.height/2-ut*C:j=_t.highest.height-R*C,h&&(j*=-1),g!==0&&!st.showLabelBackdrop&&(w+=C/2*Math.sin(g))):(P=k,j=(1-R)*C/2);let Ge;if(st.showLabelBackdrop){const ue=ge(st.backdropPadding),yn=_t.heights[m],en=_t.widths[m];let Bn=j-ue.top,ee=0-ue.left;switch(q){case"middle":Bn-=yn/2;break;case"bottom":Bn-=yn;break}switch(O){case"center":ee-=en/2;break;case"right":ee-=en;break;case"inner":m===b-1?ee-=en:m>0&&(ee-=en/2);break}Ge={left:ee,top:Bn,width:en+ue.width,height:yn+ue.height,color:st.backdropColor}}_.push({label:v,font:A,textOffset:j,options:{rotation:g,color:ht,strokeColor:vt,strokeWidth:Kt,textAlign:Ke,textBaseline:q,translation:[w,P],backdrop:Ge}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-fe(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Ts(t,this.left,o)-o/2,u=Ts(t,this.right,a)+a/2,h=d=l):(h=Ts(t,this.top,o)-o/2,d=Ts(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&cl(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Js(i,c,0,u,l,a)}s&&ul(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=oe(i.font),o=ge(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||St(n)?(l+=o.bottom,Ft(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=AF(this,l,n,a);Js(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:SF(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=yt(t.grid&&t.grid.z,-1),s=yt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==lr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return oe(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ul{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;RF(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,PF(t,o,i),this.override&&re.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in re[s]&&(delete re[s][i],this.override&&delete Qs[i])}}function PF(e,t,n){const i=Ra(Object.create(null),[n?re.get(n):{},re.get(t),e.defaults]);re.set(t,i),e.defaultRoutes&&CF(t,e.defaultRoutes),e.descriptors&&re.describe(t,e.descriptors)}function CF(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");re.route(r,s,l,a)})}function RF(e){return"id"in e&&"defaults"in e}class MF{constructor(){this.controllers=new Ul(Nn,"datasets",!0),this.elements=new Ul(tn,"elements"),this.plugins=new Ul(Object,"plugins"),this.scales=new Ul(lr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):zt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=Tg(t);jt(i["before"+s],[],i),n[t](i),jt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Wn=new MF;class OF{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(jt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=yt(i.options&&i.options.plugins,{}),r=DF(i);return s===!1&&!n?[]:NF(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function DF(e){const t={},n=[],i=Object.keys(Wn.plugins.items);for(let r=0;r<i.length;r++)n.push(Wn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function LF(e,t){return!t&&e===!1?null:e===!0?{}:e}function NF(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=LF(i[l],s);c!==null&&r.push({plugin:a,options:VF(e.config,{plugin:a,local:n[l]},c,o)})}return r}function VF(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xf(e,t){const n=re.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function FF(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function $F(e,t){return e===t?"_index_":"_value_"}function E0(e){if(e==="x"||e==="y"||e==="r")return e}function UF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ef(e,...t){if(E0(e))return e;for(const n of t){const i=n.axis||UF(n.position)||e.length>1&&E0(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function T0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function BF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return T0(e,"x",n[0])||T0(e,"y",n[0])}return{}}function jF(e,t){const n=Qs[e.type]||{scales:{}},i=t.scales||{},s=xf(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!St(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ef(o,a,BF(o,e),re.scales[a.type]),c=$F(l,s),u=n.scales||{};r[o]=Jo(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||xf(a,t),u=(Qs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=FF(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Jo(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Jo(a,[re.scales[a.type],re.scale])}),r}function dT(e){const t=e.options||(e.options={});t.plugins=yt(t.plugins,{}),t.scales=jF(e,t)}function fT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function zF(e){return e=e||{},e.data=fT(e.data),dT(e),e}const k0=new Map,pT=new Set;function Bl(e,t){let n=k0.get(e);return n||(n=t(),k0.set(e,n),pT.add(n)),n}const To=(e,t,n)=>{const i=us(t,n);i!==void 0&&e.add(i)};class HF{constructor(t){this._config=zF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Bl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Bl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Bl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Bl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>To(l,t,h))),u.forEach(h=>To(l,s,h)),u.forEach(h=>To(l,Qs[r]||{},h)),u.forEach(h=>To(l,re,h)),u.forEach(h=>To(l,vf,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),pT.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Qs[n]||{},re.datasets[n]||{},{type:n},re,vf]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=I0(this._resolverCache,t,s);let l=o;if(qF(o,n)){r.$shared=!1,i=an(i)?i():i;const c=this.createResolver(t,i,a);l=Gr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=I0(this._resolverCache,t,i);return St(n)?Gr(r,n,void 0,s):r}}function I0(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Cg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const WF=e=>St(e)&&Object.getOwnPropertyNames(e).some(t=>an(e[t]));function qF(e,t){const{isScriptable:n,isIndexable:i}=GE(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(an(a)||WF(a))||o&&Ft(a))return!0}return!1}var KF="4.4.2";const GF=["top","bottom","left","right","chartArea"];function S0(e,t){return e==="top"||e==="bottom"||GF.indexOf(e)===-1&&t==="x"}function A0(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function P0(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),jt(n&&n.onComplete,[e],t)}function YF(e){const t=e.chart,n=t.options.animation;jt(n&&n.onProgress,[e],t)}function gT(e){return Og()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const yc={},C0=e=>{const t=gT(e);return Object.values(yc).filter(n=>n.canvas===t).pop()};function XF(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function QF(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function jl(e,t,n){return e.options.clip?e[n]:t[n]}function JF(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:jl(n,t,"left"),right:jl(n,t,"right"),top:jl(i,t,"top"),bottom:jl(i,t,"bottom")}:t}class Qe{static register(...t){Wn.add(...t),R0()}static unregister(...t){Wn.remove(...t),R0()}constructor(t,n){const i=this.config=new HF(n),s=gT(t),r=C0(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gF(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=e5(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=m5(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],yc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}di.listen(this,"complete",P0),di.listen(this,"progress",YF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Lt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y_(this.canvas,this.ctx),this}stop(){return di.stop(this),this}resize(t,n){di.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,J_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),jt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};zt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ef(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),zt(r,o=>{const a=o.options,l=a.id,c=Ef(l,a),u=yt(a.type,o.dtype);(a.position===void 0||S0(a.position,c)!==S0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Wn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),zt(s,(o,a)=>{o||delete i[a]}),zt(i,o=>{Ue.configure(this,o,o.options),Ue.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(A0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||xf(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Wn.getController(a),{datasetElementType:c,dataElementType:u}=re.datasets[a];Object.assign(l,{dataElementType:Wn.getElement(u),datasetElementType:c&&Wn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){zt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||zt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(A0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){zt(this.scales,t=>{Ue.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!B_(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;XF(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!B_(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ue.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],zt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,an(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(di.has(this)?this.attached&&!di.running(this)&&di.start(this):(this.draw(),P0({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=JF(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&cl(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&ul(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return xi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=GV.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ws(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);hn(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),di.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Y_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};zt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){zt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},zt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Xc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=a5(t),c=QF(t,this._lastEvent,i,l);i&&(this._lastEvent=null,jt(r.onHover,[t,a,this],this),l&&jt(r.onClick,[t,a,this],this));const u=!Xc(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}W(Qe,"defaults",re),W(Qe,"instances",yc),W(Qe,"overrides",Qs),W(Qe,"registry",Wn),W(Qe,"version",KF),W(Qe,"getChart",C0);function R0(){return zt(Qe.instances,e=>e._plugins.invalidate())}function ZF(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+te,i-te),e.closePath(),e.clip()}function t6(e){return Pg(e,["outerStart","outerEnd","innerStart","innerEnd"])}function e6(e,t,n,i){const s=t6(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return xe(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:xe(s.innerStart,0,o),innerEnd:xe(s.innerEnd,0,o)}}function fr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function iu(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const st=u>0?u-i:0,ut=h>0?h-i:0,ht=(st+ut)/2,vt=ht!==0?p*ht/(ht+i):p;f=(p-vt)/2}const g=Math.max(.001,p*h-n/Ct)/h,_=(p-g)/2,m=l+_+f,b=s-_-f,{outerStart:x,outerEnd:v,innerStart:w,innerEnd:P}=e6(t,d,h,b-m),O=h-x,k=h-v,A=m+x/O,C=b-v/k,R=d+w,j=d+P,q=m+w/R,_t=b-P/j;if(e.beginPath(),r){const st=(A+C)/2;if(e.arc(o,a,h,A,st),e.arc(o,a,h,st,C),v>0){const Kt=fr(k,C,o,a);e.arc(Kt.x,Kt.y,v,C,b+te)}const ut=fr(j,b,o,a);if(e.lineTo(ut.x,ut.y),P>0){const Kt=fr(j,_t,o,a);e.arc(Kt.x,Kt.y,P,b+te,_t+Math.PI)}const ht=(b-P/d+(m+w/d))/2;if(e.arc(o,a,d,b-P/d,ht,!0),e.arc(o,a,d,ht,m+w/d,!0),w>0){const Kt=fr(R,q,o,a);e.arc(Kt.x,Kt.y,w,q+Math.PI,m-te)}const vt=fr(O,m,o,a);if(e.lineTo(vt.x,vt.y),x>0){const Kt=fr(O,A,o,a);e.arc(Kt.x,Kt.y,x,m-te,A)}}else{e.moveTo(o,a);const st=Math.cos(A)*h+o,ut=Math.sin(A)*h+a;e.lineTo(st,ut);const ht=Math.cos(C)*h+o,vt=Math.sin(C)*h+a;e.lineTo(ht,vt)}e.closePath()}function n6(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){iu(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%Gt||Gt))}return iu(e,t,n,i,l,s),e.fill(),l}function i6(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){iu(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%Gt||Gt))}f&&ZF(e,t,p),r||(iu(e,t,n,i,p,s),e.stroke())}class Lo extends tn{constructor(n){super();W(this,"circumference");W(this,"endAngle");W(this,"fullCircles");W(this,"innerRadius");W(this,"outerRadius");W(this,"pixelMargin");W(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=FE(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,g=yt(d,c-l)>=Gt||Ma(o,l,c),_=bi(a,u+f,h+f);return g&&_}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:s+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Gt?Math.floor(s/Gt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Ct,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n6(n,this,u,o,a),i6(n,this,u,o,a),n.restore()}}W(Lo,"id","arc"),W(Lo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),W(Lo,"defaultRoutes",{backgroundColor:"backgroundColor"}),W(Lo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function mT(e,t,n=t){e.lineCap=yt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(yt(n.borderDash,t.borderDash)),e.lineDashOffset=yt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=yt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=yt(n.borderWidth,t.borderWidth),e.strokeStyle=yt(n.borderColor,t.borderColor)}function s6(e,t,n){e.lineTo(n.x,n.y)}function r6(e){return e.stepped?A5:e.tension||e.cubicInterpolationMode==="monotone"?P5:s6}function yT(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function o6(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=yT(s,n,i),u=r6(r);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=s[(a+(d?c-f:f))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,d,r.stepped),g=p);return l&&(p=s[(a+(d?c:0))%o],u(e,g,p,d,r.stepped)),!!l}function a6(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=yT(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,_,m;const b=v=>(o+(c?a-v:v))%r,x=()=>{g!==_&&(e.lineTo(u,_),e.lineTo(u,g),e.lineTo(u,m))};for(l&&(f=s[b(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[b(d)],f.skip)continue;const v=f.x,w=f.y,P=v|0;P===p?(w<g?g=w:w>_&&(_=w),u=(h*u+v)/++h):(x(),e.lineTo(v,w),p=P,h=0,g=_=w),m=w}x()}function Tf(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?a6:o6}function l6(e){return e.stepped?aV:e.tension||e.cubicInterpolationMode==="monotone"?lV:Ps}function c6(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),mT(e,t.options),e.stroke(s)}function u6(e,t,n,i){const{segments:s,options:r}=t,o=Tf(t);for(const a of s)mT(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const h6=typeof Path2D=="function";function d6(e,t,n,i){h6&&!t.options.segment?c6(e,t,n,i):u6(e,t,n,i)}class Xi extends tn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Z5(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pV(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=sT(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=l6(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((s-f[n])/(p[n]-f[n])),_=l(f,p,g,i.stepped);_[n]=t[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Tf(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=Tf(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),d6(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}W(Xi,"id","line"),W(Xi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),W(Xi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),W(Xi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function M0(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class _c extends tn{constructor(n){super();W(this,"parsed");W(this,"skip");W(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return M0(this,n,"x",i)}inYRange(n,i){return M0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!xi(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,bf(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}W(_c,"id","point"),W(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),W(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _T(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Qi(e,t,n,i){return e?0:xe(t,n,i)}function f6(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=KE(i);return{t:Qi(s.top,r.top,0,n),r:Qi(s.right,r.right,0,t),b:Qi(s.bottom,r.bottom,0,n),l:Qi(s.left,r.left,0,t)}}function p6(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=is(s),o=Math.min(t,n),a=e.borderSkipped,l=i||St(s);return{topLeft:Qi(!l||a.top||a.left,r.topLeft,0,o),topRight:Qi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Qi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Qi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function g6(e){const t=_T(e),n=t.right-t.left,i=t.bottom-t.top,s=f6(e,n/2,i/2),r=p6(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function ld(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&_T(e,i);return a&&(s||bi(t,a.left,a.right))&&(r||bi(n,a.top,a.bottom))}function m6(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function y6(e,t){e.rect(t.x,t.y,t.w,t.h)}function cd(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class vc extends tn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=g6(this),a=m6(o.radius)?Kr:y6;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,cd(o,n,r)),t.clip(),a(t,cd(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,cd(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return ld(this,t,n,i)}inXRange(t,n){return ld(this,t,null,n)}inYRange(t,n){return ld(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}W(vc,"id","bar"),W(vc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),W(vc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var _6=Object.freeze({__proto__:null,ArcElement:Lo,BarElement:vc,LineElement:Xi,PointElement:_c});const kf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],O0=kf.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function vT(e){return kf[e%kf.length]}function bT(e){return O0[e%O0.length]}function v6(e,t){return e.borderColor=vT(t),e.backgroundColor=bT(t),++t}function b6(e,t){return e.backgroundColor=e.data.map(()=>vT(t++)),t}function w6(e,t){return e.backgroundColor=e.data.map(()=>bT(t++)),t}function x6(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof Ns?t=b6(n,t):s instanceof na?t=w6(n,t):s&&(t=v6(n,t))}}function D0(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function E6(e){return e&&(e.borderColor||e.backgroundColor)}var T6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(D0(i)||E6(s)||r&&D0(r)))return;const o=x6(e);i.forEach(o)}};function k6(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,d,f,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let _=0,m=0,b;const x=Math.floor((h+1)*a)+1+t,v=Math.min(Math.floor((h+2)*a)+1,n)+t,w=v-x;for(b=x;b<v;b++)_+=e[b].x,m+=e[b].y;_/=w,m/=w;const P=Math.floor(h*a)+1+t,O=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:k,y:A}=e[u];for(f=p=-1,b=P;b<O;b++)p=.5*Math.abs((k-_)*(e[b].y-A)-(k-e[b].x)*(m-A)),p>f&&(f=p,d=e[b],g=b);o[l++]=d,u=g}return o[l++]=e[c],o}function I6(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,d,f,p,g;const _=[],m=t+n-1,b=e[t].x,v=e[m].x-b;for(o=t;o<t+n;++o){a=e[o],l=(a.x-b)/v*i,c=a.y;const w=l|0;if(w===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),s=(r*s+a.x)/++r;else{const P=o-1;if(!Lt(h)&&!Lt(d)){const O=Math.min(h,d),k=Math.max(h,d);O!==f&&O!==P&&_.push({...e[O],x:s}),k!==f&&k!==P&&_.push({...e[k],x:s})}o>0&&P!==f&&_.push(e[P]),_.push(a),u=w,r=0,p=g=c,h=d=f=o}}return _}function wT(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function L0(e){e.data.datasets.forEach(t=>{wT(t)})}function S6(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=xe(wi(t,r.axis,o).lo,0,n-1)),c?s=xe(wi(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var A6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){L0(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(Oo([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=S6(l,c);const f=n.threshold||4*i;if(d<=f){wT(s);return}Lt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=k6(c,h,d,i,n);break;case"min-max":p=I6(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){L0(e)}};function P6(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Vg(l,c,s);const u=If(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=sT(t,u);for(const d of h){const f=If(n,r[d.start],r[d.end],d.loop),p=iT(a,s,f);for(const g of p)o.push({source:g,target:d,start:{[n]:N0(u,f,"start",Math.max)},end:{[n]:N0(u,f,"end",Math.min)}})}}return o}function If(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=pn(s),r=pn(r)),{property:e,start:s,end:r}}function C6(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Vg(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Vg(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function N0(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function xT(e,t){let n=[],i=!1;return Ft(e)?(i=!0,n=e):n=C6(e,t),n.length?new Xi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function V0(e){return e&&e.fill!==!1}function R6(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!ie(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function M6(e,t,n){const i=N6(e);if(St(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ie(s)&&Math.floor(s)===s?O6(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function O6(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function D6(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:St(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function L6(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:St(e)?i=e.value:i=t.getBaseValue(),i}function N6(e){const t=e.options,n=t.fill;let i=yt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function V6(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=F6(t,n);a.push(xT({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)$6(s,o[u],a)}return new Xi({points:s,options:{}})}function F6(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function $6(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=U6(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function U6(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(bi(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class ET{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Gt},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function B6(e){const{chart:t,fill:n,line:i}=e;if(ie(n))return j6(t,n);if(n==="stack")return V6(e);if(n==="shape")return!0;const s=z6(e);return s instanceof ET?s:xT(s,i)}function j6(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function z6(e){return(e.scale||{}).getPointPositionForValue?W6(e):H6(e)}function H6(e){const{scale:t={},fill:n}=e,i=D6(n,t);if(ie(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function W6(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=L6(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new ET({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function ud(e,t,n){const i=B6(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(cl(e,n),q6(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),ul(e))}function q6(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(F0(e,i,o.top),$0(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),F0(e,i,o.bottom)),$0(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function F0(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Vg(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function $0(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=P6(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;e.save(),e.fillStyle=d,K6(e,o,f&&If(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(f){p?e.closePath():U0(e,i,h,s);const _=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&_,g||U0(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function K6(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function U0(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var G6={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Xi&&(l={visible:e.isDatasetVisible(o),index:o,fill:M6(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=R6(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&ud(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;V0(r)&&ud(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!V0(i)||n.drawTime!=="beforeDatasetDraw"||ud(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const B0=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Y6=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class j0 extends tn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=jt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=oe(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=B0(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const _=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:_,height:s},c[c.length-1]+=_+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((_,m)=>{const{itemWidth:b,itemHeight:x}=X6(i,n,r,_,s);m>0&&f+x+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[m]={left:p,top:f,col:g,width:b,height:x},d=Math.max(d,b),f+=x+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Cr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Le(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Le(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Le(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Le(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;cl(t,this),this._draw(),ul(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=re.color,l=Cr(t.rtl,this.left,this.width),c=oe(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:_}=B0(o,h),m=function(P,O,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const A=yt(k.lineWidth,1);if(s.fillStyle=yt(k.fillStyle,a),s.lineCap=yt(k.lineCap,"butt"),s.lineDashOffset=yt(k.lineDashOffset,0),s.lineJoin=yt(k.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=yt(k.strokeStyle,a),s.setLineDash(yt(k.lineDash,[])),o.usePointStyle){const C={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:A},R=l.xPlus(P,p/2),j=O+d;qE(s,C,R,j,o.pointStyleWidth&&p)}else{const C=O+Math.max((h-g)/2,0),R=l.leftForLtr(P,p),j=is(k.borderRadius);s.beginPath(),Object.values(j).some(q=>q!==0)?Kr(s,{x:R,y:C,w:p,h:g,radius:j}):s.rect(R,C,p,g),s.fill(),A!==0&&s.stroke()}s.restore()},b=function(P,O,k){Js(s,k.text,P,O+_/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},x=this.isHorizontal(),v=this._computeTitleHeight();x?f={x:Le(r,this.left+u,this.right-i[0]),y:this.top+u+v,line:0}:f={x:this.left+u,y:Le(r,this.top+v+u,this.bottom-n[0].height),line:0},tT(this.ctx,t.textDirection);const w=_+u;this.legendItems.forEach((P,O)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;const k=s.measureText(P.text).width,A=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),C=p+d+k;let R=f.x,j=f.y;l.setWidth(this.width),x?O>0&&R+C+u>this.right&&(j=f.y+=w,f.line++,R=f.x=Le(r,this.left+u,this.right-i[f.line])):O>0&&j+w>this.bottom&&(R=f.x=R+n[f.line].width+u,f.line++,j=f.y=Le(r,this.top+v+u,this.bottom-n[f.line].height));const q=l.x(R);if(m(q,j,P),R=y5(A,R+p+d,x?R+C:this.right,t.rtl),b(l.x(R),j,P),x)f.x+=C+u;else if(typeof P.text!="string"){const _t=c.lineHeight;f.y+=TT(P,_t)+u}else f.y+=w}),eT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=oe(n.font),s=ge(n.padding);if(!n.display)return;const r=Cr(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Le(t.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+Le(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const f=Le(a,h,h+d);o.textAlign=r.textAlign(Sg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Js(o,n.text,f,u,i)}_computeTitleHeight(){const t=this.options.title,n=oe(t.font),i=ge(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(bi(t,this.left,this.right)&&bi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],bi(t,s.left,s.left+s.width)&&bi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Z6(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=Y6(s,i);s&&!r&&jt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&jt(n.onHover,[t,i,this],this)}else i&&jt(n.onClick,[t,i,this],this)}}function X6(e,t,n,i,s){const r=Q6(i,e,t,n),o=J6(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function Q6(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function J6(e,t,n){let i=e;return typeof t.text!="string"&&(i=TT(t,n)),i}function TT(e,t){const n=e.text?e.text.length:0;return t*n}function Z6(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var t9={id:"legend",_element:j0,start(e,t,n){const i=e.legend=new j0({ctx:e.ctx,options:n,chart:e});Ue.configure(e,i,n),Ue.addBox(e,i)},stop(e){Ue.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Ue.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ge(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fg extends tn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ft(i.text)?i.text.length:1;this._padding=ge(i.padding);const r=s*oe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Le(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=Le(a,s,n),l=Ct*-.5):(u=r-t,h=Le(a,n,s),l=Ct*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=oe(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Js(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Sg(n.align),textBaseline:"middle",translation:[o,a]})}}function e9(e,t){const n=new Fg({ctx:e.ctx,options:t,chart:e});Ue.configure(e,n,t),Ue.addBox(e,n),e.titleBlock=n}var n9={id:"title",_element:Fg,start(e,t,n){e9(e,n)},stop(e){const t=e.titleBlock;Ue.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Ue.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zl=new WeakMap;var i9={id:"subtitle",start(e,t,n){const i=new Fg({ctx:e.ctx,options:n,chart:e});Ue.configure(e,i,n),Ue.addBox(e,i),zl.set(e,i)},stop(e){Ue.removeBox(e,zl.get(e)),zl.delete(e)},beforeUpdate(e,t,n){const i=zl.get(e);Ue.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const No={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=qr(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Hn(e,t){return t&&(Ft(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function s9(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function z0(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=oe(t.bodyFont),c=oe(t.titleFont),u=oe(t.footerFont),h=r.length,d=s.length,f=i.length,p=ge(t.padding);let g=p.height,_=0,m=i.reduce((v,w)=>v+w.before.length+w.lines.length+w.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),m){const v=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*v+(m-f)*l.lineHeight+(m-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let b=0;const x=function(v){_=Math.max(_,n.measureText(v).width+b)};return n.save(),n.font=c.string,zt(e.title,x),n.font=l.string,zt(e.beforeBody.concat(e.afterBody),x),b=t.displayColors?o+2+t.boxPadding:0,zt(i,v=>{zt(v.before,x),zt(v.lines,x),zt(v.after,x)}),b=0,n.font=u.string,zt(e.footer,x),n.restore(),_+=p.width,{width:_,height:g}}function r9(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function o9(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function a9(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),o9(c,e,t,n)&&(c="center"),c}function H0(e,t,n){const i=n.yAlign||t.yAlign||r9(e,n);return{xAlign:n.xAlign||t.xAlign||a9(e,t,n,i),yAlign:i}}function l9(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function c9(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function W0(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=is(o);let p=l9(t,a);const g=c9(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:xe(p,0,i.width-t.width),y:xe(g,0,i.height-t.height)}}function Hl(e,t,n){const i=ge(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function q0(e){return Hn([],fi(e))}function u9(e,t,n){return ws(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function K0(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const kT={beforeTitle:hi,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:hi,beforeBody:hi,beforeLabel:hi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Lt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:hi,afterBody:hi,beforeFooter:hi,footer:hi,afterFooter:hi};function nn(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?kT[t].call(n,i):s}class Sf extends tn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Lg(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=u9(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=nn(i,"beforeTitle",this,t),r=nn(i,"title",this,t),o=nn(i,"afterTitle",this,t);let a=[];return a=Hn(a,fi(s)),a=Hn(a,fi(r)),a=Hn(a,fi(o)),a}getBeforeBody(t,n){return q0(nn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return zt(t,r=>{const o={before:[],lines:[],after:[]},a=K0(i,r);Hn(o.before,fi(nn(a,"beforeLabel",this,r))),Hn(o.lines,nn(a,"label",this,r)),Hn(o.after,fi(nn(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return q0(nn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=nn(i,"beforeFooter",this,t),r=nn(i,"footer",this,t),o=nn(i,"afterFooter",this,t);let a=[];return a=Hn(a,fi(s)),a=Hn(a,fi(r)),a=Hn(a,fi(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(s9(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),zt(a,u=>{const h=K0(t.callbacks,u);s.push(nn(h,"labelColor",this,u)),r.push(nn(h,"labelPointStyle",this,u)),o.push(nn(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=No[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=z0(this,i),c=Object.assign({},a,l),u=H0(this.chart,i,c),h=W0(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=is(a),{x:d,y:f}=t,{width:p,height:g}=n;let _,m,b,x,v,w;return r==="center"?(v=f+g/2,s==="left"?(_=d,m=_-o,x=v+o,w=v-o):(_=d+p,m=_+o,x=v-o,w=v+o),b=_):(s==="left"?m=d+Math.max(l,u)+o:s==="right"?m=d+p-Math.max(c,h)-o:m=this.caretX,r==="top"?(x=f,v=x-o,_=m-o,b=m+o):(x=f+g,v=x+o,_=m+o,b=m-o),w=x),{x1:_,x2:m,x3:b,y1:x,y2:v,y3:w}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Cr(i.rtl,this.x,this.width);for(t.x=Hl(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=oe(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=oe(r.bodyFont),h=Hl(this,"left",r),d=s.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=s.leftForLtr(d,c)+c/2,m=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,bf(t,g,_,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,bf(t,g,_,m)}else{t.lineWidth=St(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(d,c),_=s.leftForLtr(s.xPlus(d,1),c-2),m=is(o.borderRadius);Object.values(m).some(b=>b!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Kr(t,{x:g,y:p,w:c,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Kr(t,{x:_,y:p+1,w:c-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(_,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=oe(i.bodyFont);let d=h.lineHeight,f=0;const p=Cr(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(t.x+f),t.y+d/2),t.y+=d+r},_=p.textAlign(o);let m,b,x,v,w,P,O;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Hl(this,_,i),n.fillStyle=i.bodyColor,zt(this.beforeBody,g),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,v=0,P=s.length;v<P;++v){for(m=s[v],b=this.labelTextColors[v],n.fillStyle=b,zt(m.before,g),x=m.lines,a&&x.length&&(this._drawColorBox(n,t,v,p,i),d=Math.max(h.lineHeight,l)),w=0,O=x.length;w<O;++w)g(x[w]),d=h.lineHeight;zt(m.after,g)}f=0,d=h.lineHeight,zt(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Cr(i.rtl,this.x,this.width);for(t.x=Hl(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=oe(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=is(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=No[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=z0(this,t),l=Object.assign({},o,this._size),c=H0(n,t,l),u=W0(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ge(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),tT(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),eT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Xc(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!Xc(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=No[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}W(Sf,"positioners",No);var h9={id:"tooltip",_element:Sf,positioners:No,afterInit(e,t,n){n&&(e.tooltip=new Sf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},d9=Object.freeze({__proto__:null,Colors:T6,Decimation:A6,Filler:G6,Legend:t9,SubTitle:i9,Title:n9,Tooltip:h9});const f9=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function p9(e,t,n,i){const s=e.indexOf(t);if(s===-1)return f9(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const g9=(e,t)=>e===null?null:xe(Math.round(e),0,t);function G0(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Af extends lr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Lt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:p9(i,t,yt(n,t),this._addedLabels),g9(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return G0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}W(Af,"id","category"),W(Af,"defaults",{ticks:{callback:G0}});function m9(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,p=u-1,{min:g,max:_}=t,m=!Lt(o),b=!Lt(a),x=!Lt(c),v=(_-g)/(h+1);let w=j_((_-g)/p/f)*f,P,O,k,A;if(w<1e-14&&!m&&!b)return[{value:g},{value:_}];A=Math.ceil(_/w)-Math.floor(g/w),A>p&&(w=j_(A*w/p/f)*f),Lt(l)||(P=Math.pow(10,l),w=Math.ceil(w*P)/P),s==="ticks"?(O=Math.floor(g/w)*w,k=Math.ceil(_/w)*w):(O=g,k=_),m&&b&&r&&u5((a-o)/r,w/1e3)?(A=Math.round(Math.min((a-o)/w,u)),w=(a-o)/A,O=o,k=a):x?(O=m?o:O,k=b?a:k,A=c-1,w=(k-O)/A):(A=(k-O)/w,Zo(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const C=Math.max(z_(w),z_(O));P=Math.pow(10,Lt(l)?C:l),O=Math.round(O*P)/P,k=Math.round(k*P)/P;let R=0;for(m&&(d&&O!==o?(n.push({value:o}),O<o&&R++,Zo(Math.round((O+R*w)*P)/P,o,Y0(o,v,e))&&R++):O<o&&R++);R<A;++R){const j=Math.round((O+R*w)*P)/P;if(b&&j>a)break;n.push({value:j})}return b&&d&&k!==a?n.length&&Zo(n[n.length-1].value,a,Y0(a,v,e))?n[n.length-1].value=a:n.push({value:a}):(!b||k===a)&&n.push({value:k}),n}function Y0(e,t,{horizontal:n,minRotation:i}){const s=fe(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class su extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=ii(s),c=ii(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=m9(s,r);return t.bounds==="ticks"&&VE(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return ll(t,this.chart.options.locale,this.options.ticks.format)}}class Pf extends su{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ie(t)?t:0,this.max=ie(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=fe(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}W(Pf,"id","linear"),W(Pf,"defaults",{ticks:{callback:rh.formatters.numeric}});const Da=e=>Math.floor(Yi(e)),Is=(e,t)=>Math.pow(10,Da(e)+t);function X0(e){return e/Math.pow(10,Da(e))===1}function Q0(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function y9(e,t){const n=t-e;let i=Da(n);for(;Q0(e,t,i)>10;)i++;for(;Q0(e,t,i)<10;)i--;return Math.min(i,Da(e))}function _9(e,{min:t,max:n}){t=fn(e.min,t);const i=[],s=Da(t);let r=y9(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=fn(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)i.push({value:d,major:X0(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=fn(e.max,d);return i.push({value:f,major:X0(f),significand:h}),i}class Cf extends lr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=su.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return ie(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ie(t)?Math.max(0,t):null,this.max=ie(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ie(this._userMin)&&(this.min=t===Is(this.min,0)?Is(this.min,-1):Is(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Is(i,-1)),o(Is(s,1)))),i<=0&&r(Is(s,-1)),s<=0&&o(Is(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=_9(n,this);return t.bounds==="ticks"&&VE(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":ll(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Yi(t),this._valueRange=Yi(this.max)-Yi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Yi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}W(Cf,"id","logarithmic"),W(Cf,"defaults",{ticks:{callback:rh.formatters.logarithmic,major:{enabled:!0}}});function Rf(e){const t=e.ticks;if(t.display&&e.display){const n=ge(t.backdropPadding);return yt(t.font&&t.font.size,re.font.size)+n.height}return 0}function v9(e,t,n){return n=Ft(n)?n:[n],{w:S5(e,t.string,n),h:n.length*t.lineHeight}}function J0(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function b9(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Ct/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=oe(c.font),d=v9(e.ctx,h,e._pointLabels[l]);i[l]=d;const f=pn(e.getIndexAngle(l)+a),p=Math.round(sh(f)),g=J0(p,u.x,d.w,0,180),_=J0(p,u.y,d.h,90,270);w9(n,t,f,g,_)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=T9(e,i,s)}function w9(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function x9(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(sh(pn(l.angle+te))),u=S9(l.y,a.h,c),h=k9(c),d=I9(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function E9(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(xi({x:n,y:i},t)||xi({x:n,y:r},t)||xi({x:s,y:i},t)||xi({x:s,y:r},t))}function T9(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Rf(r)/2,additionalAngle:o?Ct/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=x9(e,u,l);i.push(h),a==="auto"&&(h.visible=E9(h,c),h.visible&&(c=h))}return i}function k9(e){return e===0||e===180?"center":e<180?"left":"right"}function I9(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function S9(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function A9(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!Lt(a)){const l=is(t.borderRadius),c=ge(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,d=r-i+c.width,f=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Kr(e,{x:u,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(u,h,d,f)}}function P9(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));A9(n,o,r);const a=oe(o.font),{x:l,y:c,textAlign:u}=r;Js(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function IT(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Gt);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function C9(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),IT(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function R9(e,t,n){return ws(e,{label:n,index:t,type:"pointLabel"})}class Vo extends su{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ge(Rf(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ie(t)&&!isNaN(t)?t:0,this.max=ie(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rf(this.options))}generateTickLabels(t){su.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=jt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?b9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Gt/(this._pointLabels.length||1),i=this.options.startAngle||0;return pn(t*n+fe(i))}getDistanceFromCenterForValue(t){if(Lt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Lt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return R9(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-te+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),IT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&P9(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=s.setContext(d),p=r.setContext(d);C9(this,f,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=oe(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=ge(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Js(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}W(Vo,"id","radialLinear"),W(Vo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),W(Vo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),W(Vo,"descriptors",{angleLines:{_fallback:"grid"}});const ah={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(ah);function Z0(e,t){return e-t}function tv(e,t){if(Lt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ie(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(hs(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function ev(e,t,n,i){const s=rn.length;for(let r=rn.indexOf(e);r<s-1;++r){const o=ah[rn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return rn[r]}return rn[s-1]}function M9(e,t,n,i,s){for(let r=rn.length-1;r>=rn.indexOf(n);r--){const o=rn[r];if(ah[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return rn[n?rn.indexOf(n):0]}function O9(e){for(let t=rn.indexOf(e)+1,n=rn.length;t<n;++t)if(ah[rn[t]].common)return rn[t]}function nv(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Ig(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function D9(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function iv(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:D9(e,i,s,n)}class La extends lr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new zV._date(t.adapters.date);s.init(n),Jo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:tv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ie(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=ie(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=p5(s,r,o);return this._unit=n.unit||(i.autoSkip?ev(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):M9(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:O9(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),iv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=xe(n,0,o),i=xe(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||ev(r.minUnit,n,i,this._getLabelCapacity(n)),a=yt(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=hs(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+t.add(d,a,o),f++)nv(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&nv(u,d,p),Object.keys(u).sort(Z0).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return jt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(t,s||(f?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=fe(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,iv(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(tv(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UE(t.sort(Z0))}}W(La,"id","time"),W(La,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wl(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=wi(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=wi(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Mf extends La{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Wl(n,this.min),this._tableRange=Wl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Wl(this._table,i*this._tableRange+this._minPos,!0)}}W(Mf,"id","timeseries"),W(Mf,"defaults",La.defaults);var L9=Object.freeze({__proto__:null,CategoryScale:Af,LinearScale:Pf,LogarithmicScale:Cf,RadialLinearScale:Vo,TimeScale:La,TimeSeriesScale:Mf});const N9=[jV,_6,d9,L9];Qe.register(...N9);/*!
* chartjs-plugin-annotation v3.0.1
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2023 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const sv={modes:{point(e,t){return bc(e,t,{intersect:!0})},nearest(e,t,n){return $9(e,t,n)},x(e,t,n){return bc(e,t,{intersect:n.intersect,axis:"x"})},y(e,t,n){return bc(e,t,{intersect:n.intersect,axis:"y"})}}};function $g(e,t,n){return(sv.modes[n.mode]||sv.modes.nearest)(e,t,n)}function V9(e,t,n){return n!=="x"&&n!=="y"?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,n,!0)}function F9(e,t,n){return n==="x"?{x:e.x,y:t.y}:n==="y"?{x:t.x,y:e.y}:t}function bc(e,t,n){return e.visibleElements.filter(i=>n.intersect?i.inRange(t.x,t.y):V9(i,t,n.axis))}function $9(e,t,n){let i=Number.POSITIVE_INFINITY;return bc(e,t,n).reduce((s,r)=>{const o=r.getCenterPoint(),a=F9(t,o,n.axis),l=qr(t,a);return l<i?(s=[r],i=l):l===i&&s.push(r),s},[]).sort((s,r)=>s._index-r._index).slice(0,1)}const U9=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,Vs=.001,lh=(e,t,n)=>Math.min(n,Math.max(t,e));function B9(e,t,n){for(const i of Object.keys(e))e[i]=lh(e[i],t,n);return e}function j9(e,t,n,i){if(!e||!t||n<=0)return!1;const s=i/2;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n+s,2)}function ST(e,{x:t,y:n,x2:i,y2:s},r,o){const a=o/2,l=e.x>=t-a-Vs&&e.x<=i+a+Vs,c=e.y>=n-a-Vs&&e.y<=s+a+Vs;return r==="x"?l:(r==="y"||l)&&c}function lo(e,t){const{centerX:n,centerY:i}=e.getProps(["centerX","centerY"],t);return{x:n,y:i}}function z9(e,t,n,i=!0){const s=n.split(".");let r=0;for(const o of t.split(".")){const a=s[r++];if(parseInt(o,10)<parseInt(a,10))break;if(U9(a,o)){if(i)throw new Error(`${e} v${n} is not supported. v${t} or newer is required.`);return!1}}return!0}const AT=e=>typeof e=="string"&&e.endsWith("%"),PT=e=>parseFloat(e)/100,CT=e=>lh(PT(e),0,1),ql=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),H9={box:e=>ql(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>ql(e.centerX,e.centerY),line:e=>ql(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>ql(e.centerX,e.centerY)};function Ug(e,t){return t==="start"?0:t==="end"?e:AT(t)?CT(t)*e:e/2}function ds(e,t,n=!0){return typeof t=="number"?t:AT(t)?(n?CT(t):PT(t))*e:e}function W9(e,t){const{x:n,width:i}=e,s=t.textAlign;return s==="center"?n+i/2:s==="end"||s==="right"?n+i:n}function Bg(e,t="center"){return St(e)?{x:yt(e.x,t),y:yt(e.y,t)}:(e=yt(e,t),{x:e,y:e})}function RT(e){return e&&(hn(e.xValue)||hn(e.yValue))}function dl(e,t,n){const i=n.init;if(i){if(i===!0)return OT(t,n)}else return;return q9(e,t,n)}function MT(e,t,n){let i=!1;return t.forEach(s=>{an(e[s])?(i=!0,n[s]=e[s]):hn(n[s])&&delete n[s]}),i}function OT(e,t){const n=t.type||"line";return H9[n](e)}function q9(e,t,n){const i=jt(n.init,[{chart:e,properties:t,options:n}]);if(i===!0)return OT(t,n);if(St(i))return i}const hd=new Map,K9=e=>isNaN(e)||e<=0,G9=e=>e.reduce(function(t,n){return t+=n.string,t},"");function ch(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object HTMLImageElement]"||t==="[object HTMLCanvasElement]"}}function jg(e,{x:t,y:n},i){i&&(e.translate(t,n),e.rotate(fe(i)),e.translate(-t,-n))}function fs(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle,e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle,e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function co(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function zg(e,t){const n=t.content;if(ch(n))return{width:ds(n.width,t.width),height:ds(n.height,t.height)};const i=t.font,s=Ft(i)?i.map(l=>oe(l)):[oe(i)],r=t.textStrokeWidth,o=Ft(n)?n:[n],a=o.join()+G9(s)+r+(e._measureText?"-spriting":"");return hd.has(a)||hd.set(a,Z9(e,o,s,r)),hd.get(a)}function DT(e,t,n){const{x:i,y:s,width:r,height:o}=t;e.save(),co(e,n);const a=fs(e,n);e.fillStyle=n.backgroundColor,e.beginPath(),Kr(e,{x:i,y:s,w:r,h:o,radius:B9(is(n.borderRadius),0,Math.min(r,o)/2)}),e.closePath(),e.fill(),a&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}function Y9(e,t,n){const i=n.content;if(ch(i)){e.save(),e.globalAlpha=n$(n.opacity,i.style.opacity),e.drawImage(i,t.x,t.y,t.width,t.height),e.restore();return}const s=Ft(i)?i:[i],r=n.font,o=Ft(r)?r.map(h=>oe(h)):[oe(r)],a=n.color,l=Ft(a)?a:[a],c=W9(t,n),u=t.y+n.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=n.textAlign,X9(e,n)&&t$(e,{x:c,y:u},s,o),e$(e,{x:c,y:u},s,{fonts:o,colors:l}),e.restore()}function X9(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}function Q9(e,t,n,i){const{radius:s,options:r}=t,o=r.pointStyle,a=r.rotation;let l=(a||0)*kg;if(ch(o)){e.save(),e.translate(n,i),e.rotate(l),e.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),e.restore();return}K9(s)||J9(e,{x:n,y:i,radius:s,rotation:a,style:o,rad:l})}function J9(e,{x:t,y:n,radius:i,rotation:s,style:r,rad:o}){let a,l,c,u;switch(e.beginPath(),r){default:e.arc(t,n,i,0,Gt),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(o)*i,n-Math.cos(o)*i),o+=Zc,e.lineTo(t+Math.sin(o)*i,n-Math.cos(o)*i),o+=Zc,e.lineTo(t+Math.sin(o)*i,n-Math.cos(o)*i),e.closePath();break;case"rectRounded":u=i*.516,c=i-u,a=Math.cos(o+vn)*c,l=Math.sin(o+vn)*c,e.arc(t-a,n-l,u,o-Ct,o-te),e.arc(t+l,n-a,u,o-te,o),e.arc(t+a,n+l,u,o,o+te),e.arc(t-l,n+a,u,o+te,o+Ct),e.closePath();break;case"rect":if(!s){c=Math.SQRT1_2*i,e.rect(t-c,n-c,2*c,2*c);break}o+=vn;case"rectRot":a=Math.cos(o)*i,l=Math.sin(o)*i,e.moveTo(t-a,n-l),e.lineTo(t+l,n-a),e.lineTo(t+a,n+l),e.lineTo(t-l,n+a),e.closePath();break;case"crossRot":o+=vn;case"cross":a=Math.cos(o)*i,l=Math.sin(o)*i,e.moveTo(t-a,n-l),e.lineTo(t+a,n+l),e.moveTo(t+l,n-a),e.lineTo(t-l,n+a);break;case"star":a=Math.cos(o)*i,l=Math.sin(o)*i,e.moveTo(t-a,n-l),e.lineTo(t+a,n+l),e.moveTo(t+l,n-a),e.lineTo(t-l,n+a),o+=vn,a=Math.cos(o)*i,l=Math.sin(o)*i,e.moveTo(t-a,n-l),e.lineTo(t+a,n+l),e.moveTo(t+l,n-a),e.lineTo(t-l,n+a);break;case"line":a=Math.cos(o)*i,l=Math.sin(o)*i,e.moveTo(t-a,n-l),e.lineTo(t+a,n+l);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(o)*i,n+Math.sin(o)*i);break}e.fill()}function Z9(e,t,n,i){e.save();const s=t.length;let r=0,o=i;for(let a=0;a<s;a++){const l=n[Math.min(a,n.length-1)];e.font=l.string;const c=t[a];r=Math.max(r,e.measureText(c).width+i),o+=l.lineHeight}return e.restore(),{width:r,height:o}}function t$(e,{x:t,y:n},i,s){e.beginPath();let r=0;i.forEach(function(o,a){const l=s[Math.min(a,s.length-1)],c=l.lineHeight;e.font=l.string,e.strokeText(o,t,n+c/2+r),r+=c}),e.stroke()}function e$(e,{x:t,y:n},i,{fonts:s,colors:r}){let o=0;i.forEach(function(a,l){const c=r[Math.min(l,r.length-1)],u=s[Math.min(l,s.length-1)],h=u.lineHeight;e.beginPath(),e.font=u.string,e.fillStyle=c,e.fillText(a,t,n+h/2+o),o+=h,e.fill()})}function n$(e,t){const n=hs(e)?e:t;return hs(n)?lh(n,0,1):1}const rv={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function Xr(e,t,n){return t=typeof t=="number"?t:e.parse(t),ie(t)?e.getPixelForValue(t):n}function Zs(e,t,n){const i=t[n];if(i||n==="scaleID")return i;const s=n.charAt(0),r=Object.values(e).filter(o=>o.axis&&o.axis===s);return r.length?r[0].id:s}function LT(e,t){if(e){const n=e.options.reverse,i=Xr(e,t.min,n?t.end:t.start),s=Xr(e,t.max,n?t.start:t.end);return{start:i,end:s}}}function NT(e,t){const{chartArea:n,scales:i}=e,s=i[Zs(i,t,"xScaleID")],r=i[Zs(i,t,"yScaleID")];let o=n.width/2,a=n.height/2;return s&&(o=Xr(s,t.xValue,s.left+s.width/2)),r&&(a=Xr(r,t.yValue,r.top+r.height/2)),{x:o,y:a}}function Hg(e,t){const n=e.scales,i=n[Zs(n,t,"xScaleID")],s=n[Zs(n,t,"yScaleID")];if(!i&&!s)return{};let{left:r,right:o}=i||e.chartArea,{top:a,bottom:l}=s||e.chartArea;const c=ov(i,{min:t.xMin,max:t.xMax,start:r,end:o});r=c.start,o=c.end;const u=ov(s,{min:t.yMin,max:t.yMax,start:l,end:a});return a=u.start,l=u.end,{x:r,y:a,x2:o,y2:l,width:o-r,height:l-a,centerX:r+(o-r)/2,centerY:a+(l-a)/2}}function VT(e,t){if(!RT(t)){const n=Hg(e,t);let i=t.radius;(!i||isNaN(i))&&(i=Math.min(n.width,n.height)/2,t.radius=i);const s=i*2,r=n.centerX+t.xAdjust,o=n.centerY+t.yAdjust;return{x:r-i,y:o-i,x2:r+i,y2:o+i,centerX:r,centerY:o,width:s,height:s,radius:i}}return s$(e,t)}function i$(e,t){const{scales:n,chartArea:i}=e,s=n[t.scaleID],r={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return s?r$(s,r,t):o$(n,r,t),r}function FT(e,t){const n=Hg(e,t);return n.initProperties=dl(e,n,t),n.elements=[{type:"label",optionScope:"label",properties:c$(e,n,t),initProperties:n.initProperties}],n}function s$(e,t){const n=NT(e,t),i=t.radius*2;return{x:n.x-t.radius+t.xAdjust,y:n.y-t.radius+t.yAdjust,x2:n.x+t.radius+t.xAdjust,y2:n.y+t.radius+t.yAdjust,centerX:n.x+t.xAdjust,centerY:n.y+t.yAdjust,radius:t.radius,width:i,height:i}}function ov(e,t){const n=LT(e,t)||t;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function r$(e,t,n){const i=Xr(e,n.value,NaN),s=Xr(e,n.endValue,i);e.isHorizontal()?(t.x=i,t.x2=s):(t.y=i,t.y2=s)}function o$(e,t,n){for(const i of Object.keys(rv)){const s=e[Zs(e,n,i)];if(s){const{min:r,max:o,start:a,end:l,startProp:c,endProp:u}=rv[i],h=LT(s,{min:n[r],max:n[o],start:s[a],end:s[l]});t[c]=h.start,t[u]=h.end}}}function a$({properties:e,options:t},n,i,s){const{x:r,x2:o,width:a}=e;return $T({start:r,end:o,size:a,borderWidth:t.borderWidth},{position:i.x,padding:{start:s.left,end:s.right},adjust:t.label.xAdjust,size:n.width})}function l$({properties:e,options:t},n,i,s){const{y:r,y2:o,height:a}=e;return $T({start:r,end:o,size:a,borderWidth:t.borderWidth},{position:i.y,padding:{start:s.top,end:s.bottom},adjust:t.label.yAdjust,size:n.height})}function $T(e,t){const{start:n,end:i,borderWidth:s}=e,{position:r,padding:{start:o,end:a},adjust:l}=t,c=i-s-n-o-a-t.size;return n+s/2+l+Ug(c,r)}function c$(e,t,n){const i=n.label;i.backgroundColor="transparent",i.callout.display=!1;const s=Bg(i.position),r=ge(i.padding),o=zg(e.ctx,i),a=a$({properties:t,options:n},o,s,r),l=l$({properties:t,options:n},o,s,r),c=o.width+r.width,u=o.height+r.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:i.rotation}}function cr(e,t,n){const i=Math.cos(n),s=Math.sin(n),r=t.x,o=t.y;return{x:r+i*(e.x-r)-s*(e.y-o),y:o+s*(e.x-r)+i*(e.y-o)}}const Of=["enter","leave"],Wg=Of.concat("click");function u$(e,t,n){t.listened=MT(n,Wg,t.listeners),t.moveListened=!1,t._getElements=$g,Of.forEach(i=>{an(n[i])&&(t.moveListened=!0)}),(!t.listened||!t.moveListened)&&t.annotations.forEach(i=>{!t.listened&&an(i.click)&&(t.listened=!0),t.moveListened||Of.forEach(s=>{an(i[s])&&(t.listened=!0,t.moveListened=!0)})})}function h$(e,t,n){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return d$(e,t,n);case"click":return f$(e,t,n)}}function d$(e,t,n){if(!e.moveListened)return;let i;t.type==="mousemove"?i=$g(e,t,n.interaction):i=[];const s=e.hovered;e.hovered=i;const r={state:e,event:t};let o=av(r,"leave",s,i);return av(r,"enter",i,s)||o}function av({state:e,event:t},n,i,s){let r;for(const o of i)s.indexOf(o)<0&&(r=UT(o.options[n]||e.listeners[n],o,t)||r);return r}function f$(e,t,n){const i=e.listeners,s=$g(e,t,n.interaction);let r;for(const o of s)r=UT(o.options.click||i.click,o,t)||r;return r}function UT(e,t,n){return jt(e,[t.$context,n])===!0}const ru=["afterDraw","beforeDraw"];function p$(e,t,n){const i=t.visibleElements;t.hooked=MT(n,ru,t.hooks),t.hooked||i.forEach(s=>{t.hooked||ru.forEach(r=>{an(s.options[r])&&(t.hooked=!0)})})}function lv(e,t,n){if(e.hooked){const i=t.options[n]||e.hooks[n];return jt(i,[t.$context])}}function g$(e,t,n){const i=b$(e.scales,t,n);let s=cv(t,i,"min","suggestedMin");s=cv(t,i,"max","suggestedMax")||s,s&&an(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function m$(e,t){for(const n of e)_$(n,t)}function cv(e,t,n,i){if(ie(t[n])&&!y$(e.options,n,i)){const s=e[n]!==t[n];return e[n]=t[n],s}}function y$(e,t,n){return hn(e[t])||hn(e[n])}function _$(e,t){for(const n of["scaleID","xScaleID","yScaleID"]){const i=Zs(t,e,n);i&&!t[i]&&v$(e,n)&&console.warn(`No scale found with id '${i}' for annotation '${e.id}'`)}}function v$(e,t){if(t==="scaleID")return!0;const n=t.charAt(0);for(const i of["Min","Max","Value"])if(hn(e[n+i]))return!0;return!1}function b$(e,t,n){const i=t.axis,s=t.id,r=i+"ScaleID",o={min:yt(t.min,Number.NEGATIVE_INFINITY),max:yt(t.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===s?uv(a,t,["value","endValue"],o):Zs(e,a,r)===s&&uv(a,t,[i+"Min",i+"Max",i+"Value"],o);return o}function uv(e,t,n,i){for(const s of n){const r=e[s];if(hn(r)){const o=t.parse(r);i.min=Math.min(i.min,o),i.max=Math.max(i.max,o)}}}class uo extends tn{inRange(t,n,i,s){const{x:r,y:o}=cr({x:t,y:n},this.getCenterPoint(s),fe(-this.options.rotation));return ST({x:r,y:o},this.getProps(["x","y","x2","y2"],s),i,this.options.borderWidth)}getCenterPoint(t){return lo(this,t)}draw(t){t.save(),jg(t,this.getCenterPoint(),this.options.rotation),DT(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,n){return FT(t,n)}}uo.id="boxAnnotation";uo.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};uo.defaultRoutes={borderColor:"color",backgroundColor:"color"};uo.descriptors={label:{_fallback:!0}};const BT=["left","bottom","top","right"];class fl extends tn{inRange(t,n,i,s){const{x:r,y:o}=cr({x:t,y:n},this.getCenterPoint(s),fe(-this.rotation));return ST({x:r,y:o},this.getProps(["x","y","x2","y2"],s),i,this.options.borderWidth)}getCenterPoint(t){return lo(this,t)}draw(t){const n=this.options,i=!hn(this._visible)||this._visible;!n.display||!n.content||!i||(t.save(),jg(t,this.getCenterPoint(),this.rotation),x$(t,this),DT(t,this,n),Y9(t,P$(this),n),t.restore())}resolveElementProperties(t,n){let i;if(RT(n))i=NT(t,n);else{const{centerX:a,centerY:l}=Hg(t,n);i={x:a,y:l}}const s=ge(n.padding),r=zg(t.ctx,n),o=w$(i,r,n,s);return{initProperties:dl(t,o,n),pointX:i.x,pointY:i.y,...o,rotation:n.rotation}}}fl.id="labelAnnotation";fl.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};fl.defaultRoutes={borderColor:"color"};function w$(e,t,n,i){const s=t.width+i.width+n.borderWidth,r=t.height+i.height+n.borderWidth,o=Bg(n.position,"center"),a=hv(e.x,s,n.xAdjust,o.x),l=hv(e.y,r,n.yAdjust,o.y);return{x:a,y:l,x2:a+s,y2:l+r,width:s,height:r,centerX:a+s/2,centerY:l+r/2}}function hv(e,t,n=0,i){return e-Ug(t,i)+n}function x$(e,t){const{pointX:n,pointY:i,options:s}=t,r=s.callout,o=r&&r.display&&S$(t,r);if(!o||C$(t,r,o))return;if(e.save(),e.beginPath(),!fs(e,r))return e.restore();const{separatorStart:l,separatorEnd:c}=E$(t,o),{sideStart:u,sideEnd:h}=k$(t,o,l);(r.margin>0||s.borderWidth===0)&&(e.moveTo(l.x,l.y),e.lineTo(c.x,c.y)),e.moveTo(u.x,u.y),e.lineTo(h.x,h.y);const d=cr({x:n,y:i},t.getCenterPoint(),fe(-t.rotation));e.lineTo(d.x,d.y),e.stroke(),e.restore()}function E$(e,t){const{x:n,y:i,x2:s,y2:r}=e,o=T$(e,t);let a,l;return t==="left"||t==="right"?(a={x:n+o,y:i},l={x:a.x,y:r}):(a={x:n,y:i+o},l={x:s,y:a.y}),{separatorStart:a,separatorEnd:l}}function T$(e,t){const{width:n,height:i,options:s}=e,r=s.callout.margin+s.borderWidth/2;return t==="right"?n+r:t==="bottom"?i+r:-r}function k$(e,t,n){const{y:i,width:s,height:r,options:o}=e,a=o.callout.start,l=I$(t,o.callout);let c,u;return t==="left"||t==="right"?(c={x:n.x,y:i+ds(r,a)},u={x:c.x+l,y:c.y}):(c={x:n.x+ds(s,a),y:n.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function I$(e,t){const n=t.side;return e==="left"||e==="top"?-n:n}function S$(e,t){const n=t.position;return BT.includes(n)?n:A$(e,t)}function A$(e,t){const{x:n,y:i,x2:s,y2:r,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=e,f={x:u,y:h},p=t.start,g=ds(o,p),_=ds(a,p),m=[n,n+g,n+g,s],b=[i+_,r,i,r],x=[];for(let v=0;v<4;v++){const w=cr({x:m[v],y:b[v]},f,fe(d));x.push({position:BT[v],distance:qr(w,{x:l,y:c})})}return x.sort((v,w)=>v.distance-w.distance)[0].position}function P$({x:e,y:t,width:n,height:i,options:s}){const r=s.borderWidth/2,o=ge(s.padding);return{x:e+o.left+r,y:t+o.top+r,width:n-o.left-o.right-s.borderWidth,height:i-o.top-o.bottom-s.borderWidth}}function C$(e,t,n){const{pointX:i,pointY:s}=e,r=t.margin;let o=i,a=s;return n==="left"?o+=r:n==="right"?o-=r:n==="top"?a+=r:n==="bottom"&&(a-=r),e.inRange(o,a)}const qg=(e,t,n)=>({x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}),Df=(e,t,n)=>qg(t,n,Math.abs((e-t.y)/(n.y-t.y))).x,dv=(e,t,n)=>qg(t,n,Math.abs((e-t.x)/(n.x-t.x))).y,Fo=e=>e*e,R$=(e,t,{x:n,y:i,x2:s,y2:r},o)=>o==="y"?{start:Math.min(i,r),end:Math.max(i,r),value:t}:{start:Math.min(n,s),end:Math.max(n,s),value:e},fv=(e,t,n,i)=>(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n,Lf=(e,t,n,i)=>({x:fv(e.x,t.x,n.x,i),y:fv(e.y,t.y,n.y,i)}),pv=(e,t,n,i)=>2*(1-i)*(t-e)+2*i*(n-t),gv=(e,t,n,i)=>-Math.atan2(pv(e.x,t.x,n.x,i),pv(e.y,t.y,n.y,i))+.5*Ct;class pl extends tn{inRange(t,n,i,s){const r=this.options.borderWidth/2;if(i!=="x"&&i!=="y"){const o={mouseX:t,mouseY:n},{path:a,ctx:l}=this;if(a){fs(l,this.options);const{chart:u}=this.$context,h=t*u.currentDevicePixelRatio,d=n*u.currentDevicePixelRatio,f=l.isPointInStroke(a,h,d)||Nf(this,o,s);return l.restore(),f}const c=Fo(r);return L$(this,o,c,s)||Nf(this,o,s)}return M$(this,{mouseX:t,mouseY:n},i,{hBorderWidth:r,useFinalPosition:s})}getCenterPoint(t){return lo(this,t)}draw(t){const{x:n,y:i,x2:s,y2:r,cp:o,options:a}=this;if(t.save(),!fs(t,a))return t.restore();co(t,a);const l=Math.sqrt(Math.pow(s-n,2)+Math.pow(r-i,2));if(a.curve&&o)return z$(t,this,o,l),t.restore();const{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=jT(this),f=Math.atan2(r-i,s-n);t.translate(n,i),t.rotate(f),t.beginPath(),t.moveTo(0+h,0),t.lineTo(l-d,0),t.shadowColor=a.borderShadowColor,t.stroke(),Vf(t,0,h,c),Vf(t,l,-d,u),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,n){const i=i$(t,n),{x:s,y:r,x2:o,y2:a}=i,l=O$(i,t.chartArea),c=l?D$({x:s,y:r},{x:o,y:a},t.chartArea):{x:s,y:r,x2:o,y2:a,width:Math.abs(o-s),height:Math.abs(a-r)};if(c.centerX=(o+s)/2,c.centerY=(a+r)/2,c.initProperties=dl(t,c,n),n.curve){const h={x:c.x,y:c.y},d={x:c.x2,y:c.y2};c.cp=j$(c,n,qr(h,d))}const u=N$(t,c,n.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}pl.id="lineAnnotation";const mv={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};pl.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},mv),fill:!1,length:12,start:Object.assign({},mv),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},fl.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};pl.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};pl.defaultRoutes={borderColor:"color"};function M$(e,{mouseX:t,mouseY:n},i,{hBorderWidth:s,useFinalPosition:r}){const o=R$(t,n,e.getProps(["x","y","x2","y2"],r),i);return o.value>=o.start-s&&o.value<=o.end+s||Nf(e,{mouseX:t,mouseY:n},r,i)}function O$({x:e,y:t,x2:n,y2:i},{top:s,right:r,bottom:o,left:a}){return!(e<a&&n<a||e>r&&n>r||t<s&&i<s||t>o&&i>o)}function yv({x:e,y:t},n,{top:i,right:s,bottom:r,left:o}){return e<o&&(t=dv(o,{x:e,y:t},n),e=o),e>s&&(t=dv(s,{x:e,y:t},n),e=s),t<i&&(e=Df(i,{x:e,y:t},n),t=i),t>r&&(e=Df(r,{x:e,y:t},n),t=r),{x:e,y:t}}function D$(e,t,n){const{x:i,y:s}=yv(e,t,n),{x:r,y:o}=yv(t,e,n);return{x:i,y:s,x2:r,y2:o,width:Math.abs(r-i),height:Math.abs(o-s)}}function L$(e,{mouseX:t,mouseY:n},i=Vs,s){const{x:r,y:o,x2:a,y2:l}=e.getProps(["x","y","x2","y2"],s),c=a-r,u=l-o,h=Fo(c)+Fo(u),d=h===0?-1:((t-r)*c+(n-o)*u)/h;let f,p;return d<0?(f=r,p=o):d>1?(f=a,p=l):(f=r+d*c,p=o+d*u),Fo(t-f)+Fo(n-p)<=i}function Nf(e,{mouseX:t,mouseY:n},i,s){const r=e.label;return r.options.display&&r.inRange(t,n,s,i)}function N$(e,t,n){const i=n.borderWidth,s=ge(n.padding),r=zg(e.ctx,n),o=r.width+s.width+i,a=r.height+s.height+i;return F$(t,n,{width:o,height:a,padding:s},e.chartArea)}function V$(e){const{x:t,y:n,x2:i,y2:s}=e,r=Math.atan2(s-n,i-t);return r>Ct/2?r-Ct:r<Ct/-2?r+Ct:r}function F$(e,t,n,i){const{width:s,height:r,padding:o}=n,{xAdjust:a,yAdjust:l}=t,c={x:e.x,y:e.y},u={x:e.x2,y:e.y2},h=t.rotation==="auto"?V$(e):fe(t.rotation),d=$$(s,r,h),f=U$(e,t,{labelSize:d,padding:o},i),p=e.cp?Lf(c,e.cp,u,f):qg(c,u,f),g={size:d.w,min:i.left,max:i.right,padding:o.left},_={size:d.h,min:i.top,max:i.bottom,padding:o.top},m=vv(p.x,g)+a,b=vv(p.y,_)+l;return{x:m-s/2,y:b-r/2,x2:m+s/2,y2:b+r/2,centerX:m,centerY:b,pointX:p.x,pointY:p.y,width:s,height:r,rotation:sh(h)}}function $$(e,t,n){const i=Math.cos(n),s=Math.sin(n);return{w:Math.abs(e*i)+Math.abs(t*s),h:Math.abs(e*s)+Math.abs(t*i)}}function U$(e,t,n,i){let s;const r=B$(e,i);return t.position==="start"?s=_v({w:e.x2-e.x,h:e.y2-e.y},n,t,r):t.position==="end"?s=1-_v({w:e.x-e.x2,h:e.y-e.y2},n,t,r):s=Ug(1,t.position),s}function _v(e,t,n,i){const{labelSize:s,padding:r}=t,o=e.w*i.dx,a=e.h*i.dy,l=o>0&&(s.w/2+r.left-i.x)/o,c=a>0&&(s.h/2+r.top-i.y)/a;return lh(Math.max(l,c),0,.25)}function B$(e,t){const{x:n,x2:i,y:s,y2:r}=e,o=Math.min(s,r)-t.top,a=Math.min(n,i)-t.left,l=t.bottom-Math.max(s,r),c=t.right-Math.max(n,i);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function vv(e,t){const{size:n,min:i,max:s,padding:r}=t,o=n/2;return n>s-i?(s+i)/2:(i>=e-r-o&&(e=i+r+o),s<=e+r+o&&(e=s-r-o),e)}function jT(e){const t=e.options,n=t.arrowHeads&&t.arrowHeads.start,i=t.arrowHeads&&t.arrowHeads.end;return{startOpts:n,endOpts:i,startAdjust:bv(e,n),endAdjust:bv(e,i)}}function bv(e,t){if(!t||!t.display)return 0;const{length:n,width:i}=t,s=e.options.borderWidth/2,r={x:n,y:i+s};return Math.abs(Df(0,r,{x:0,y:s}))}function Vf(e,t,n,i){if(!i||!i.display)return;const{length:s,width:r,fill:o,backgroundColor:a,borderColor:l}=i,c=Math.abs(t-s)+n;e.beginPath(),co(e,i),fs(e,i),e.moveTo(c,-r),e.lineTo(t+n,0),e.lineTo(c,r),o===!0?(e.fillStyle=a||l,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=i.borderShadowColor,e.stroke()}function j$(e,t,n){const{x:i,y:s,x2:r,y2:o,centerX:a,centerY:l}=e,c=Math.atan2(o-s,r-i),u=Bg(t.controlPoint,0),h={x:a+ds(n,u.x,!1),y:l+ds(n,u.y,!1)};return cr(h,{x:a,y:l},c)}function wv(e,{x:t,y:n},{angle:i,adjust:s},r){!r||!r.display||(e.save(),e.translate(t,n),e.rotate(i),Vf(e,0,-s,r),e.restore())}function z$(e,t,n,i){const{x:s,y:r,x2:o,y2:a,options:l}=t,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=jT(t),f={x:s,y:r},p={x:o,y:a},g=gv(f,n,p,0),_=gv(f,n,p,1)-Ct,m=Lf(f,n,p,h/i),b=Lf(f,n,p,1-d/i),x=new Path2D;e.beginPath(),x.moveTo(m.x,m.y),x.quadraticCurveTo(n.x,n.y,b.x,b.y),e.shadowColor=l.borderShadowColor,e.stroke(x),t.path=x,t.ctx=e,wv(e,m,{angle:g,adjust:h},c),wv(e,b,{angle:_,adjust:d},u)}class gl extends tn{inRange(t,n,i,s){const r=this.options.rotation,o=this.options.borderWidth;if(i!=="x"&&i!=="y")return H$({x:t,y:n},this.getProps(["width","height","centerX","centerY"],s),r,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],s),h=o/2,d=i==="y"?{start:l,end:u}:{start:a,end:c},f=cr({x:t,y:n},this.getCenterPoint(s),fe(-r));return f[i]>=d.start-h-Vs&&f[i]<=d.end+h+Vs}getCenterPoint(t){return lo(this,t)}draw(t){const{width:n,height:i,centerX:s,centerY:r,options:o}=this;t.save(),jg(t,this.getCenterPoint(),o.rotation),co(t,this.options),t.beginPath(),t.fillStyle=o.backgroundColor;const a=fs(t,o);t.ellipse(s,r,i/2,n/2,Ct/2,0,2*Ct),t.fill(),a&&(t.shadowColor=o.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,n){return FT(t,n)}}gl.id="ellipseAnnotation";gl.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},uo.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};gl.defaultRoutes={borderColor:"color",backgroundColor:"color"};gl.descriptors={label:{_fallback:!0}};function H$(e,t,n,i){const{width:s,height:r,centerX:o,centerY:a}=t,l=s/2,c=r/2;if(l<=0||c<=0)return!1;const u=fe(n||0),h=i/2||0,d=Math.cos(u),f=Math.sin(u),p=Math.pow(d*(e.x-o)+f*(e.y-a),2),g=Math.pow(f*(e.x-o)-d*(e.y-a),2);return p/Math.pow(l+h,2)+g/Math.pow(c+h,2)<=1.0001}class uh extends tn{inRange(t,n,i,s){const{x:r,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],s),u=this.options.borderWidth;if(i!=="x"&&i!=="y")return j9({x:t,y:n},this.getCenterPoint(s),c/2,u);const h=u/2,d=i==="y"?{start:o,end:l,value:n}:{start:r,end:a,value:t};return d.value>=d.start-h&&d.value<=d.end+h}getCenterPoint(t){return lo(this,t)}draw(t){const n=this.options,i=n.borderWidth;if(n.radius<.1)return;t.save(),t.fillStyle=n.backgroundColor,co(t,n);const s=fs(t,n);Q9(t,this,this.centerX,this.centerY),s&&!ch(n.pointStyle)&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore(),n.borderWidth=i}resolveElementProperties(t,n){const i=VT(t,n);return i.initProperties=dl(t,i,n),i}}uh.id="pointAnnotation";uh.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};uh.defaultRoutes={borderColor:"color",backgroundColor:"color"};class hh extends tn{inRange(t,n,i,s){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&q$(this.elements,t,n,s);const r=cr({x:t,y:n},this.getCenterPoint(s),fe(-this.options.rotation)),o=this.elements.map(c=>i==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return r[i]>=a&&r[i]<=l}getCenterPoint(t){return lo(this,t)}draw(t){const{elements:n,options:i}=this;t.save(),t.beginPath(),t.fillStyle=i.backgroundColor,co(t,i);const s=fs(t,i);let r=!0;for(const o of n)r?(t.moveTo(o.x,o.y),r=!1):t.lineTo(o.x,o.y);t.closePath(),t.fill(),s&&(t.shadowColor=i.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,n){const i=VT(t,n),{sides:s,rotation:r}=n,o=[],a=2*Ct/s;let l=r*kg;for(let c=0;c<s;c++,l+=a){const u=W$(i,n,l);u.initProperties=dl(t,i,n),o.push(u)}return i.elements=o,i}}hh.id="polygonAnnotation";hh.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};hh.defaultRoutes={borderColor:"color",backgroundColor:"color"};function W$({centerX:e,centerY:t},{radius:n,borderWidth:i},s){const r=i/2,o=Math.sin(s),a=Math.cos(s),l={x:e+o*n,y:t-a*n};return{type:"point",optionScope:"point",properties:{x:l.x,y:l.y,centerX:l.x,centerY:l.y,bX:e+o*(n+r),bY:t-a*(n+r)}}}function q$(e,t,n,i){let s=!1,r=e[e.length-1].getProps(["bX","bY"],i);for(const o of e){const a=o.getProps(["bX","bY"],i);a.bY>n!=r.bY>n&&t<(r.bX-a.bX)*(n-a.bY)/(r.bY-a.bY)+a.bX&&(s=!s),r=a}return s}const ss={box:uo,ellipse:gl,label:fl,line:pl,point:uh,polygon:hh};Object.keys(ss).forEach(e=>{re.describe(`elements.${ss[e].id}`,{_fallback:"plugins.annotation.common"})});const K$={update:Object.assign},G$=Wg.concat(ru),xv=(e,t)=>St(t)?$f(e,t):e,Ff=e=>e==="color"||e==="font";function Kg(e="line"){return ss[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function Y$(e,t,n,i){const s=Q$(e,n.animations,i),r=t.annotations,o=t8(t.elements,r);for(let a=0;a<r.length;a++){const l=r[a],c=zT(o,a,l.type),u=l.setContext(Z$(e,c,l)),h=c.resolveElementProperties(e,u);h.skip=X$(h),"elements"in h&&(J$(c,h.elements,u,s),delete h.elements),hn(c.x)||Object.assign(c,h),Object.assign(c,h.initProperties),h.options=HT(u),s.update(c,h)}}function X$(e){return isNaN(e.x)||isNaN(e.y)}function Q$(e,t,n){return n==="reset"||n==="none"||n==="resize"?K$:new Lg(e,t)}function J$(e,t,n,i){const s=e.elements||(e.elements=[]);s.length=t.length;for(let r=0;r<t.length;r++){const o=t[r],a=o.properties,l=zT(s,r,o.type,o.initProperties),c=n[o.optionScope].override(o);a.options=HT(c),i.update(l,a)}}function zT(e,t,n,i){const s=ss[Kg(n)];let r=e[t];return(!r||!(r instanceof s))&&(r=e[t]=new s,Object.assign(r,i)),r}function HT(e){const t=ss[Kg(e.type)],n={};n.id=e.id,n.type=e.type,n.drawTime=e.drawTime,Object.assign(n,$f(e,t.defaults),$f(e,t.defaultRoutes));for(const i of G$)n[i]=e[i];return n}function $f(e,t){const n={};for(const i of Object.keys(t)){const s=t[i],r=e[i];Ff(i)&&Ft(r)?n[i]=r.map(o=>xv(o,s)):n[i]=xv(r,s)}return n}function Z$(e,t,n){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,id:n.id,type:"annotation"}))}function t8(e,t){const n=t.length,i=e.length;if(i<n){const s=n-i;e.splice(i,0,...new Array(s))}else i>n&&e.splice(n,i-n);return e}var e8="3.0.1";const Fi=new Map,n8=Wg.concat(ru);var WT={id:"annotation",version:e8,beforeRegister(){z9("chart.js","4.0",Qe.version)},afterRegister(){Qe.register(ss)},afterUnregister(){Qe.unregister(ss)},beforeInit(e){Fi.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,n){const i=Fi.get(e),s=i.annotations=[];let r=n.annotations;St(r)?Object.keys(r).forEach(o=>{const a=r[o];St(a)&&(a.id=o,s.push(a))}):Ft(r)&&s.push(...r),m$(s,e.scales)},afterDataLimits(e,t){const n=Fi.get(e);g$(e,t.scale,n.annotations.filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(e,t,n){const i=Fi.get(e);u$(e,i,n),Y$(e,i,n,t.mode),i.visibleElements=i.elements.filter(s=>!s.skip&&s.options.display),p$(e,i,n)},beforeDatasetsDraw(e,t,n){Kl(e,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(e,t,n){Kl(e,"afterDatasetsDraw",n.clip)},beforeDraw(e,t,n){Kl(e,"beforeDraw",n.clip)},afterDraw(e,t,n){Kl(e,"afterDraw",n.clip)},beforeEvent(e,t,n){const i=Fi.get(e);h$(i,t.event,n)&&(t.changed=!0)},afterDestroy(e){Fi.delete(e)},_getState(e){return Fi.get(e)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!n8.includes(e)&&e!=="init",annotations:{_allKeys:!1,_fallback:(e,t)=>`elements.${ss[Kg(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Ff,_fallback:!0},_indexable:Ff}},additionalOptionScopes:[""]};function Kl(e,t,n){const{ctx:i,chartArea:s}=e,r=Fi.get(e);n&&cl(i,s);const o=i8(r.visibleElements,t).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)s8(i,s,r,a);n&&ul(i)}function i8(e,t){const n=[];for(const i of e)if(i.options.drawTime===t&&n.push({element:i,main:!0}),i.elements&&i.elements.length)for(const s of i.elements)s.options.display&&s.options.drawTime===t&&n.push({element:s});return n}function s8(e,t,n,i){const s=i.element;i.main?(lv(n,s,"beforeDraw"),s.draw(e,t),lv(n,s,"afterDraw")):s.draw(e,t)}const qT=e=>(We("data-v-fea608ef"),e=e(),qe(),e),r8={class:"col"},o8={key:0,class:"min-burn"},a8=qT(()=>y("span",{class:"material-symbols-outlined"}," warning ",-1)),l8={class:"min"},c8=qT(()=>y("h1",null,"Forecast today",-1)),u8={key:0,class:"uv-text"},h8=mu('<label class="extreme" data-v-fea608ef>Extreme</label><label class="very-high" data-v-fea608ef>Very high</label><label class="high" data-v-fea608ef>High</label><label class="moderate" data-v-fea608ef>Moderate</label><label class="low" data-v-fea608ef>Low</label>',5),d8={class:"time"},f8={__name:"Uv-graph",props:["currentPlace"],setup(e){Qe.register(WT);const t=e,n=V(null),i=V({}),s=V([]),r=nb(null),o=V(null),a=V(null),l=V(null),c=ze(),u=V(null),h=V(null),d=V(null),f=async()=>{var _,m,b,x;try{const v=await new Promise((C,R)=>{navigator.geolocation.getCurrentPosition(C,R,{enableHighAccuracy:!0,timeout:3e5,maximumAge:0})}),{latitude:w,longitude:P}=v.coords,O=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=92584693940a4436a2b150711241202&q=${w},${P}&days=3&aqi=no&alerts=no`);if(i.value=await O.json(),s.value=(m=(_=i.value.forecast.forecastday[0])==null?void 0:_.hour)==null?void 0:m.map(C=>C.uv-1),!s.value||s.value.length===0){console.warn("UV data is not available.");return}o.value=p(),a.value=g();const k=r.value.getContext("2d"),A=new Qe(k,{type:"line",data:{labels:(x=(b=i.value.forecast.forecastday[0])==null?void 0:b.hour)==null?void 0:x.map(C=>new Date(C.time).getHours().toString().padStart(2,"0")),datasets:[{label:"",data:s.value,backgroundColor:s.value.map(C=>`rgba(255, ${255-C/14*255}, 132, 0.8)`),borderColor:s.value.map(C=>`rgba(255, ${255-C/14*255}, 132, 0.8)`),borderWidth:2,borderRadius:15,borderCapStyle:"round"}]},options:{scales:{x:{max:24,ticks:{display:!0,callback:function(C,R,j){return window.innerWidth<1024?R%6===0?C.toString().padStart(2,"0"):"":C.toString().padStart(2,"0")}},grid:{display:!0,color:C=>C.tick.value%6===0?"rgba(192,192,192, 0.5)":"rgba(0,0,0,0.0)"}},y:{min:0,max:11,ticks:{stepSize:1,display:!0},grid:{display:!0,color:C=>C.tick.value===2||C.tick.value===5||C.tick.value===7||C.tick.value===10?"rgba(192,192,192, 0.8)":"rgba(0,0,0,0.058"}}},plugins:{legend:{display:!1},annotation:{annotations:{verticalLine:{type:"line",xMin:o.value+a.value*.0166,xMax:o.value+a.value*.0166,borderColor:"#c0c0c0",borderWidth:2,borderDash:[5,5]}}}}}});A.options.scales.x.ticks={callback:function(C,R,j){return C%6===0?C.toString().padStart(2,"0"):""}},n.value=window.innerWidth+100}catch(v){console.error("Error getting location:",v)}},p=()=>new Date().getHours(),g=()=>new Date().getMinutes();return gn(()=>{f(),Oi(c,async _=>{var b;h.value=_;const m=_==null?void 0:_.uid;if(m){const x=cs(ps,"users",m),w=(b=(await ar(x)).data())==null?void 0:b.skinType;u.value=w!==void 0,d.value=u.value?w:null,setTimeout(()=>{!isNaN(t.currentPlace.current.uv)&&t.currentPlace.current.uv>1?(d.value==1&&(l.value=67/(t.currentPlace.current.uv-1)),d.value==2&&(l.value=100/(t.currentPlace.current.uv-1)),d.value==3&&(l.value=200/(t.currentPlace.current.uv-1)),d.value==4&&(l.value=300/(t.currentPlace.current.uv-1)),d.value==5&&(l.value=400/(t.currentPlace.current.uv-1)),d.value==6&&(l.value=500/(t.currentPlace.current.uv-1))):l.value=null},1500),d.value!=null&&console.log("no skin type")}})}),(_,m)=>(I(),S("main",null,[y("div",r8,[l.value>0?(I(),S("em",o8,[a8,bt(" You will burn in "),y("span",l8,ot(Math.round(l.value))+" minutes",1),bt(" without sun protection!")])):J("",!0),c8]),i.value.current?(I(),S("p",u8,[bt("Current UV index, "),y("strong",null,ot(i.value.current.uv-1),1)])):J("",!0),y("div",{style:at({backgroundColor:_.canvasBackgroundColor}),class:"canvas-box"},[y("canvas",{ref_key:"chartCanvas",ref:r,height:"260",class:"canvas"},null,512),h8],4),y("p",d8,"Now, "+ot(o.value)+":"+ot(a.value),1)]))}},p8=qt(f8,[["__scopeId","data-v-fea608ef"]]),KT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fdce79;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-3%20{%20fill:%20none;%20stroke:%20%2344b0e5;%20stroke-linecap:%20round;%20stroke-miterlimit:%2010;%20stroke-width:%207px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='Laag_1'%20data-name='Laag%201'%3e%3cpath%20class='cls-2'%20d='M238.43,63.18c40.01-3.48,71.97,27.46,72.05,67.05,74.69,8.55,89.62,104.51,11.14,120.69H93.42c-74.75-10.28-67.98-111.81,6.82-111.82,3.49-46.41,50.54-67.65,88.18-40,9.03-18.99,28.83-34.07,50-35.91Z'/%3e%3c/g%3e%3cg%20id='Laag_9'%20data-name='Laag%209'%3e%3cline%20class='cls-3'%20x1='148.32'%20y1='302.02'%20x2='160.46'%20y2='267.91'/%3e%3cline%20class='cls-3'%20x1='229.82'%20y1='302.02'%20x2='241.96'%20y2='267.91'/%3e%3cline%20class='cls-3'%20x1='199.41'%20y1='267.91'%20x2='187.27'%20y2='302.02'/%3e%3cline%20class='cls-3'%20x1='122.37'%20y1='267.91'%20x2='110.23'%20y2='302.02'/%3e%3cline%20class='cls-3'%20x1='282.44'%20y1='267.91'%20x2='270.3'%20y2='302.02'/%3e%3ccircle%20class='cls-1'%20cx='83.22'%20cy='87.45'%20r='69.82'/%3e%3cpath%20class='cls-2'%20d='M239.41,63.38c40.08-3.48,72.09,27.51,72.17,67.16,74.81,8.57,89.77,104.68,11.15,120.88H94.17c-74.87-10.3-68.09-111.99,6.83-112,3.5-46.48,50.63-67.76,88.33-40.07,9.05-19.02,28.88-34.13,50.08-35.97Z'/%3e%3c/g%3e%3c/svg%3e",GT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_3'%20data-name='Laag%203'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fdce79;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3ccircle%20class='cls-1'%20cx='199.86'%20cy='164.18'%20r='101.99'/%3e%3c/svg%3e",YT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_5'%20data-name='Laag%205'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fdce79;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20}%20%3c/style%3e%3c/defs%3e%3ccircle%20class='cls-1'%20cx='82.03'%20cy='87.45'%20r='69.47'/%3e%3cpath%20class='cls-2'%20d='M237.43,63.5c39.88-3.46,71.72,27.37,71.8,66.82,74.43,8.52,89.31,104.15,11.1,120.27H92.93c-74.49-10.25-67.74-111.43,6.79-111.44,3.48-46.25,50.37-67.42,87.88-39.86,9-18.93,28.73-33.95,49.83-35.79Z'/%3e%3c/svg%3e",dh="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_4'%20data-name='Laag%204'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23d4e6f7;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M238.62,201.01c-46.54,0-84.26-37.73-84.26-84.26,0-18.96,6.27-36.46,16.84-50.54-43.65,12.47-75.61,52.63-75.61,100.29,0,57.61,46.71,104.32,104.32,104.32s102.53-44.98,104.24-101.1c-15.45,19.09-39.05,31.3-65.52,31.3Z'/%3e%3cpath%20class='cls-1'%20d='M239.91,103.12l7.29,8.63c.35.41.47.97.33,1.49l-2.98,10.9c-.36,1.31.94,2.47,2.21,1.96l10.46-4.26c.5-.2,1.07-.15,1.52.15l9.44,6.2c1.14.75,2.64-.14,2.54-1.49l-.82-11.27c-.04-.54.19-1.06.61-1.4l8.81-7.07c1.06-.85.69-2.55-.64-2.88l-10.97-2.7c-.53-.13-.95-.51-1.14-1.01l-4-10.57c-.48-1.27-2.22-1.44-2.93-.29l-5.96,9.6c-.29.46-.78.75-1.32.78l-11.28.54c-1.36.06-2.06,1.66-1.18,2.7Z'/%3e%3cpath%20class='cls-1'%20d='M226.72,73.42l-4.07-2.91c-.23-.16-.37-.43-.36-.72l.09-5.01c.01-.71-.8-1.13-1.37-.71l-4.03,2.98c-.23.17-.52.21-.79.12l-4.73-1.63c-.67-.23-1.32.41-1.1,1.09l1.59,4.75c.09.27.04.56-.13.79l-3.01,4c-.43.57-.02,1.38.69,1.38l5.01-.04c.28,0,.55.13.71.37l2.87,4.1c.41.58,1.31.45,1.53-.23l1.51-4.77c.09-.27.3-.48.57-.56l4.79-1.46c.68-.21.83-1.11.25-1.52Z'/%3e%3c/svg%3e",XT="/assets/sneeuw-s-DYCSuse9.svg",QT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_7'%20data-name='Laag%207'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20none;%20stroke:%20%2344b0e5;%20stroke-linecap:%20round;%20stroke-miterlimit:%2010;%20stroke-width:%207px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cline%20class='cls-1'%20x1='158.74'%20y1='299.95'%20x2='169.33'%20y2='265.91'/%3e%3cline%20class='cls-1'%20x1='238.52'%20y1='299.95'%20x2='250.64'%20y2='265.91'/%3e%3cline%20class='cls-1'%20x1='208.19'%20y1='265.91'%20x2='196.07'%20y2='299.95'/%3e%3cline%20class='cls-1'%20x1='131.34'%20y1='265.91'%20x2='119.22'%20y2='299.95'/%3e%3cline%20class='cls-1'%20x1='291.02'%20y1='265.91'%20x2='278.9'%20y2='299.95'/%3e%3cpath%20class='cls-2'%20d='M238.37,62.89c39.98-3.47,71.92,27.44,71.99,67,74.63,8.55,89.55,104.43,11.13,120.59H93.48c-74.69-10.27-67.92-111.73,6.81-111.73,3.49-46.37,50.5-67.6,88.12-39.97,9.02-18.98,28.81-34.04,49.96-35.88Z'/%3e%3c/svg%3e",JT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_9'%20data-name='Laag%209'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fdce79;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-3%20{%20fill:%20none;%20stroke:%20%2344b0e5;%20stroke-linecap:%20round;%20stroke-miterlimit:%2010;%20stroke-width:%207px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20}%20%3c/style%3e%3c/defs%3e%3cline%20class='cls-3'%20x1='148.32'%20y1='302.02'%20x2='160.46'%20y2='267.91'/%3e%3cline%20class='cls-3'%20x1='229.82'%20y1='302.02'%20x2='241.96'%20y2='267.91'/%3e%3cline%20class='cls-3'%20x1='199.41'%20y1='267.91'%20x2='187.27'%20y2='302.02'/%3e%3cline%20class='cls-3'%20x1='122.37'%20y1='267.91'%20x2='110.23'%20y2='302.02'/%3e%3cline%20class='cls-3'%20x1='282.44'%20y1='267.91'%20x2='270.3'%20y2='302.02'/%3e%3ccircle%20class='cls-1'%20cx='83.22'%20cy='87.45'%20r='69.82'/%3e%3cpath%20class='cls-2'%20d='M239.41,63.38c40.08-3.48,72.09,27.51,72.17,67.16,74.81,8.57,89.77,104.68,11.15,120.88H94.17c-74.87-10.3-68.09-111.99,6.83-112,3.5-46.48,50.63-67.76,88.33-40.07,9.05-19.02,28.88-34.13,50.08-35.97Z'/%3e%3c/svg%3e",ZT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_8'%20data-name='Laag%208'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23ffe87f;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-3%20{%20fill:%20none;%20stroke:%20%2344b0e5;%20stroke-linecap:%20round;%20stroke-miterlimit:%2010;%20stroke-width:%207px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20}%20%3c/style%3e%3c/defs%3e%3cline%20class='cls-3'%20x1='255.28'%20y1='300.43'%20x2='267.39'%20y2='266.44'/%3e%3cline%20class='cls-3'%20x1='225'%20y1='266.44'%20x2='212.89'%20y2='300.43'/%3e%3cline%20class='cls-3'%20x1='307.71'%20y1='266.44'%20x2='295.61'%20y2='300.43'/%3e%3cpath%20class='cls-1'%20d='M140.27,232.96c.05.02.17.05.31.1.48.14.7.7.45,1.13h0s-19.99,34.16-19.99,34.16c-.29.5.05,1.13.63,1.16,1.78.09,4.96.04,5.41.05,1.75,0,3.49,0,5.24,0,.67,0,1.02.79.57,1.29-.77.86-1.72,1.87-1.95,2.11-.29.31-.57.64-.85.94-10.03,10.89-20.5,21.39-30.22,32.57-.03.04-.08.07-.12.1-.11.07-.19.17-.31.24.18-1.06.52-2.09.85-3.11,2.63-8.23,5.79-16.36,8.41-24.55.16-.5-.22-1.01-.74-1-.2,0-.39,0-.59,0-2.86-.07-5.72.05-8.58,0-.02-.02-.21.05-.28-.05-.06-.2,1.3-3.06,1.51-3.54,1.25-2.88,2.58-5.72,3.87-8.58,2.34-5.21,4.63-10.45,6.98-15.66,1.26-2.8,2.78-5.53,3.83-8.41.05-.15.14-.3.28-.37.02,0,.03-.02.04-.04,1.38-3.25,2.86-6.46,4.34-9.67.23-.5,1.46-3.43,2.12-4.7.18-.35.59-.5.96-.36,5.88,2.23,12.01,3.9,17.86,6.19Z'/%3e%3cpath%20class='cls-1'%20d='M191.1,247.05c.05.02.17.05.31.1.48.14.7.7.45,1.13h0s-19.99,34.16-19.99,34.16c-.29.5.05,1.13.63,1.16,1.78.09,4.96.04,5.41.05,1.75,0,3.49,0,5.24,0,.67,0,1.02.79.57,1.29-.77.86-1.72,1.87-1.95,2.11-.29.31-.57.64-.85.94-10.03,10.89-20.5,21.39-30.22,32.57-.03.04-.08.07-.12.1-.11.07-.19.17-.31.24.18-1.06.52-2.09.85-3.11,2.63-8.23,5.79-16.36,8.41-24.55.16-.5-.22-1.01-.74-1-.2,0-.39,0-.59,0-2.86-.07-5.72.05-8.58,0-.02-.02-.21.05-.28-.05-.06-.2,1.3-3.06,1.51-3.54,1.25-2.88,2.58-5.72,3.87-8.58,2.34-5.21,4.63-10.45,6.98-15.66,1.26-2.8,2.78-5.53,3.83-8.41.05-.15.14-.3.28-.37.02,0,.03-.02.04-.04,1.38-3.25,2.86-6.46,4.34-9.67.23-.5,1.46-3.43,2.12-4.7.18-.35.59-.5.96-.36,5.88,2.23,12.01,3.9,17.86,6.19Z'/%3e%3cpath%20class='cls-2'%20d='M238.41,63.74c39.93-3.47,71.82,27.4,71.89,66.9,74.53,8.54,89.43,104.28,11.11,120.43H93.72c-74.58-10.26-67.83-111.57,6.8-111.58,3.48-46.31,50.44-67.51,87.99-39.91,9.01-18.95,28.77-34,49.89-35.83Z'/%3e%3c/svg%3e",t2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_6'%20data-name='Laag%206'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20342.48'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23ffe87f;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23e9ebec;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M161.9,218.23c.06.03.2.07.37.12.59.17.86.85.55,1.38h0s-24.39,41.68-24.39,41.68c-.36.61.06,1.38.76,1.41,2.17.12,6.05.05,6.6.06,2.13,0,4.26,0,6.39,0,.81,0,1.24.97.7,1.57-.94,1.05-2.1,2.28-2.37,2.57-.35.38-.69.77-1.04,1.15-12.24,13.29-25.01,26.1-36.87,39.74-.04.05-.09.09-.15.12-.13.09-.23.21-.38.3.23-1.29.64-2.56,1.04-3.8,3.2-10.04,7.07-19.96,10.26-29.95.19-.61-.27-1.23-.9-1.22-.24,0-.48,0-.72,0-3.49-.09-6.98.06-10.47,0-.02-.03-.26.06-.35-.06-.08-.24,1.59-3.73,1.84-4.31,1.53-3.51,3.15-6.98,4.72-10.47,2.85-6.36,5.65-12.75,8.51-19.1,1.54-3.41,3.39-6.75,4.67-10.26.07-.18.17-.37.34-.45.02,0,.03-.02.05-.05,1.68-3.97,3.49-7.88,5.29-11.79.28-.61,1.78-4.19,2.58-5.73.22-.42.72-.61,1.17-.44,7.18,2.72,14.65,4.76,21.79,7.56Z'/%3e%3cpath%20class='cls-1'%20d='M225.78,248.45c.06.03.2.07.37.12.59.17.86.85.55,1.38h0s-24.39,41.68-24.39,41.68c-.36.61.06,1.38.76,1.41,2.17.12,6.05.05,6.6.06,2.13,0,4.26,0,6.39,0,.81,0,1.24.97.7,1.57-.94,1.05-2.1,2.28-2.37,2.57-.35.38-.69.77-1.04,1.15-12.24,13.29-25.01,26.1-36.87,39.74-.04.05-.09.09-.15.12-.13.09-.23.21-.38.3.23-1.29.64-2.56,1.04-3.8,3.2-10.04,7.07-19.96,10.26-29.95.19-.61-.27-1.23-.9-1.22-.24,0-.48,0-.72,0-3.49-.09-6.98.06-10.47,0-.02-.03-.26.06-.35-.06-.08-.24,1.59-3.73,1.84-4.31,1.53-3.51,3.15-6.98,4.72-10.47,2.85-6.36,5.65-12.75,8.51-19.1,1.54-3.41,3.39-6.75,4.67-10.26.07-.18.17-.37.34-.45.02,0,.03-.02.05-.05,1.68-3.97,3.49-7.88,5.29-11.79.28-.61,1.78-4.19,2.58-5.73.22-.42.72-.61,1.17-.44,7.18,2.72,14.65,4.76,21.79,7.56Z'/%3e%3cpath%20class='cls-2'%20d='M238.98,62.46c40.01-3.48,71.97,27.46,72.05,67.05,74.69,8.55,89.62,104.51,11.14,120.68H93.97c-74.74-10.28-67.98-111.81,6.82-111.82,3.49-46.41,50.54-67.65,88.18-40,9.03-18.99,28.83-34.07,50-35.91Z'/%3e%3c/svg%3e",g8={key:0,class:"pos"},m8={class:"container",ref:"container"},y8={class:"city"},_8={class:"h-l"},v8={class:"row"},b8={key:0,src:KT},w8={key:1,src:GT},x8={key:2,src:YT},E8={key:3,src:dh},T8={key:4,src:dh},k8={key:5,src:XT},I8={key:6,src:QT},S8={key:7,src:JT},A8={key:8,src:ZT},P8={key:9,src:t2},C8={class:"pos-advice"},R8=["innerHTML"],M8={__name:"Forecast",props:["currentPlace"],setup(e){const t=e,n=V(null),i=V(null),s=V([]),r=(l,c)=>{const u=new Date(l).getHours(),h=new Date(c).getHours();return u===h},o=()=>{setTimeout(()=>{if(console.log("Scrolling to current hour"),t.currentPlace.location){n.value=Math.round(t.currentPlace.forecast.forecastday[0].day.maxtemp_c),i.value=Math.round(t.currentPlace.forecast.forecastday[0].day.mintemp_c);const l=document.querySelectorAll(".row p");for(const c of l)if(c.style.fontWeight==="800"){c.scrollIntoView({behavior:"smooth",block:"end",inline:"start"});break}}},200)},a=()=>{for(let h=0;h<24;h++)s.value.push(t.currentPlace.forecast.forecastday[0].hour[h].uv-1);let l=null;for(let h=0;h<s.value.length;h++)if(s.value[h]!==0){l=h;break}const c=null,u=Math.max(...s.value);if(s.value.indexOf(u),console.log("Lowest UV value:",c),console.log("Index of lowest UV value:",l),console.log(t.currentPlace),console.log(s.value),u<3)return'<strong style="font-weight: 600">UV is not getting higher then two today.</strong> When the reading is two or lower, most people have a limited risk of sunburn. It is suggested that you wear sunglasses, use sunscreen, and take note of bright surfaces such as water and sand, which can reflect UV rays. At this low level, it takes roughly 60 minutes to burn.';if(u<6){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=3){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is moderate.</strong> At this level, there is a moderate level of risk of sunburn for most people. When the sun rays are at their strongest, you need to find some shade. Wear a hat, sunglasses, sunscreen and protective clothing. It can take roughly 30 to 45 minutes to burn at this level.`:"Moderate UV index not found."}if(u<8){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=6){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is high.</strong> A UV index of 6 or 7 will put you at high risk. You need to find shade during this period. Wear a hat, sunglasses, sunscreen and protective clothing. It can take roughly 15 to 25 minutes to burn at this level.
       Watch out,you also need protection with a moderate UV index. I then takes roughly 30 to 45 minutes to burn without protection.`:"High UV index not found."}if(u<11){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=8){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is very high.</strong> This rating puts you at a high risk of harm from the sun. Take extra precautions for your eyes and skin because damage can occur within 15 minutes.
       Watch out, you also need protection with a moderate UV index. It then takes roughly 30 to 45 minutes to burn without protection, as well as under a high UV index where it can take 15 to 25 minutes for the skin to burn.`:"Very high UV index not found."}else{let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=8){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is extremely high.</strong> At this level, youre at serious risk for sunburn. Damage can occur within less than 10 minutes. Its best to avoid any sun exposure during this time.
       Watch out, you also need protection with a moderate UV index. It then takes roughly 30 to 45 minutes to burn without protection, as well as under a high UV index where it can take 15 to 25 minutes for the skin to burn, and similarly for a very high UV index where it can take only 15 minutes for skin damage to occur.`:"High UV index not found."}};return Dn(()=>t.currentPlace.location,l=>{l&&(o(),a())}),(l,c)=>(I(),S(Jt,null,[e.currentPlace.location?(I(),S("div",g8,[y("div",m8,[y("div",y8,[y("strong",null,ot(e.currentPlace.location.name),1),y("div",_8,"H"+ot(n.value)+"/ L"+ot(i.value)+"",1)]),y("div",v8,[(I(!0),S(Jt,null,Tc(e.currentPlace.forecast.forecastday[0].hour,u=>(I(),S("div",{key:u.time},[y("p",{ref_for:!0,ref:"hourInfo",style:at({fontWeight:r(e.currentPlace.location.localtime,u.time)?"800":"400"})},[bt(ot(r(e.currentPlace.location.localtime,u.time)?"Now":new Date(u.time).getHours().toString().padStart(2,"0"))+" ",1),u.condition.text=="Overcast "||u.condition.text=="Overcast"||u.condition.text=="Cloudy"||u.condition.text=="Cloudy "||u.condition.text=="Mist"?(I(),S("img",b8)):u.condition.text=="Sunny"?(I(),S("img",w8)):u.condition.text=="Partly Cloudy "||u.condition.text=="Partly Cloudy"||u.condition.text=="Partly cloudy"||u.condition.text=="Partly cloudy "||u.condition.text=="Patchy rain possible"||u.condition.text=="Patchy snow possible"||u.condition.text=="Patchy sleet possible"?(I(),S("img",x8)):u.condition.text=="Clear "?(I(),S("img",E8)):u.condition.text=="Clear"?(I(),S("img",T8)):u.condition.text=="Patchy freezing drizzle possible"||u.condition.text=="Blowing snow"||u.condition.text=="Blizzard"||u.condition.text=="Freezing drizzle"||u.condition.text=="Heavy freezing drizzle"||u.condition.text=="Light freezing rain"||u.condition.text=="Moderate or heavy freezing rain"||u.condition.text=="Light sleet"||u.condition.text=="Moderate or heavy sleet"||u.condition.text=="Patchy light snow"||u.condition.text=="Light snow"||u.condition.text=="Patchy moderate snow"||u.condition.text=="Moderate snow"||u.condition.text=="Patchy heavy snow"||u.condition.text=="Heavy snow"||u.condition.text=="Ice pellets"||u.condition.text=="Light sleet showers"||u.condition.text=="Moderate or heavy sleet showers"||u.condition.text=="Moderate or heavy snow showers"||u.condition.text=="Light snow showers"||u.condition.text=="Light showers of ice pellets"||u.condition.text=="Moderate or heavy showers of ice pellets"||u.condition.text=="Patchy sleet possible"?(I(),S("img",k8)):u.condition.text=="Light drizzle"||u.condition.text=="Light drizzle"||u.condition.text=="Light rain"||u.condition.text=="Heavy rain"||u.condition.text=="Light rain shower"||u.condition.text=="Moderate or heavy rain shower"||u.condition.text=="Torrential rain shower"||u.condition.text=="Moderate rain"?(I(),S("img",I8)):u.condition.text=="Patchy light drizzle"||u.condition.text=="Patchy rain nearby"||u.condition.text=="Patchy light rain"||u.condition.text=="Moderate rain at times"||u.condition.text=="Heavy rain at times"?(I(),S("img",S8)):u.condition.text=="Patchy light rain with thunder"||u.condition.text=="Moderate or heavy rain with thunder"||u.condition.text=="Patchy light snow with thunder"||u.condition.text=="Moderate or heavy snow with thunder"?(I(),S("img",A8)):u.condition.text=="Thundery outbreaks possible"?(I(),S("img",P8)):J("",!0),bt(" "+ot(Math.round(u.temp_c))+" ",1)],4)]))),128))])],512)])):J("",!0),y("div",C8,[e.currentPlace.location?(I(),S("div",{key:0,innerHTML:a()},null,8,R8)):J("",!0)])],64))}},O8=qt(M8,[["__scopeId","data-v-6c467966"]]);var D8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e2={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(D8,function(){return function(n){function i(r){if(s[r])return s[r].exports;var o=s[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var s={};return i.m=n,i.c=s,i.d=function(r,o,a){i.o(r,o)||Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(o,"a",o),o},i.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},i.p="",i(i.s=8)}([function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r="swal-button";i.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:r,CONFIRM_BUTTON:r+"--confirm",CANCEL_BUTTON:r+"--cancel",DANGER_BUTTON:r+"--danger",BUTTON_LOADING:r+"--loading",BUTTON_LOADER:r+"__loader"},i.default=i.CLASS_NAMES},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getNode=function(r){var o="."+r;return document.querySelector(o)},i.stringToNode=function(r){var o=document.createElement("div");return o.innerHTML=r.trim(),o.firstChild},i.insertAfter=function(r,o){var a=o.nextSibling;o.parentNode.insertBefore(r,a)},i.removeNode=function(r){r.parentElement.removeChild(r)},i.throwErr=function(r){throw r=r.replace(/ +(?= )/g,""),"SweetAlert: "+(r=r.trim())},i.isPlainObject=function(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;var o=Object.getPrototypeOf(r);return o===null||o===Object.prototype},i.ordinalSuffixOf=function(r){var o=r%10,a=r%100;return o===1&&a!==11?r+"st":o===2&&a!==12?r+"nd":o===3&&a!==13?r+"rd":r+"th"}},function(n,i,s){function r(d){for(var f in d)i.hasOwnProperty(f)||(i[f]=d[f])}Object.defineProperty(i,"__esModule",{value:!0}),r(s(25));var o=s(26);i.overlayMarkup=o.default,r(s(27)),r(s(28)),r(s(29));var a=s(0),l=a.default.MODAL_TITLE,c=a.default.MODAL_TEXT,u=a.default.ICON,h=a.default.FOOTER;i.iconMarkup=`
  <div class="`+u+'"></div>',i.titleMarkup=`
  <div class="`+l+`"></div>
`,i.textMarkup=`
  <div class="`+c+'"></div>',i.footerMarkup=`
  <div class="`+h+`"></div>
`},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1);i.CONFIRM_KEY="confirm",i.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},a=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),l=Object.assign({},o,{text:"OK",value:!0});i.defaultButtonList={cancel:a,confirm:l};var c=function(f){switch(f){case i.CONFIRM_KEY:return l;case i.CANCEL_KEY:return a;default:var p=f.charAt(0).toUpperCase()+f.slice(1);return Object.assign({},o,{text:p,value:f})}},u=function(f,p){var g=c(f);return p===!0?Object.assign({},g,{visible:!0}):typeof p=="string"?Object.assign({},g,{visible:!0,text:p}):r.isPlainObject(p)?Object.assign({visible:!0},g,p):Object.assign({},g,{visible:!1})},h=function(f){for(var p={},g=0,_=Object.keys(f);g<_.length;g++){var m=_[g],b=f[m],x=u(m,b);p[m]=x}return p.cancel||(p.cancel=a),p},d=function(f){var p={};switch(f.length){case 1:p[i.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:p[i.CANCEL_KEY]=u(i.CANCEL_KEY,f[0]),p[i.CONFIRM_KEY]=u(i.CONFIRM_KEY,f[1]);break;default:r.throwErr("Invalid number of 'buttons' in array ("+f.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return p};i.getButtonListOpts=function(f){var p=i.defaultButtonList;return typeof f=="string"?p[i.CONFIRM_KEY]=u(i.CONFIRM_KEY,f):Array.isArray(f)?p=d(f):r.isPlainObject(f)?p=h(f):f===!0?p=d([!0,!0]):f===!1?p=d([!1,!1]):f===void 0&&(p=i.defaultButtonList),p}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(2),a=s(0),l=a.default.MODAL,c=a.default.OVERLAY,u=s(30),h=s(31),d=s(32),f=s(33);i.injectElIntoModal=function(m){var b=r.getNode(l),x=r.stringToNode(m);return b.appendChild(x),x};var p=function(m){m.className=l,m.textContent=""},g=function(m,b){p(m);var x=b.className;x&&m.classList.add(x)};i.initModalContent=function(m){var b=r.getNode(l);g(b,m),u.default(m.icon),h.initTitle(m.title),h.initText(m.text),f.default(m.content),d.default(m.buttons,m.dangerMode)};var _=function(){var m=r.getNode(c),b=r.stringToNode(o.modalMarkup);m.appendChild(b)};i.default=_},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(3),o={isOpen:!1,promise:null,actions:{},timer:null},a=Object.assign({},o);i.resetState=function(){a=Object.assign({},o)},i.setActionValue=function(c){if(typeof c=="string")return l(r.CONFIRM_KEY,c);for(var u in c)l(u,c[u])};var l=function(c,u){a.actions[c]||(a.actions[c]={}),Object.assign(a.actions[c],{value:u})};i.setActionOptionsFor=function(c,u){var h=(u===void 0?{}:u).closeModal,d=h===void 0||h;Object.assign(a.actions[c],{closeModal:d})},i.default=a},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(3),a=s(0),l=a.default.OVERLAY,c=a.default.SHOW_MODAL,u=a.default.BUTTON,h=a.default.BUTTON_LOADING,d=s(5);i.openModal=function(){r.getNode(l).classList.add(c),d.default.isOpen=!0};var f=function(){r.getNode(l).classList.remove(c),d.default.isOpen=!1};i.onAction=function(p){p===void 0&&(p=o.CANCEL_KEY);var g=d.default.actions[p],_=g.value;if(g.closeModal===!1){var m=u+"--"+p;r.getNode(m).classList.add(h)}else f();d.default.promise.resolve(_)},i.getState=function(){var p=Object.assign({},d.default);return delete p.promise,delete p.timer,p},i.stopLoading=function(){for(var p=document.querySelectorAll("."+u),g=0;g<p.length;g++)p[g].classList.remove(h)}},function(n,i){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(s=window)}n.exports=s},function(n,i,s){(function(r){n.exports=r.sweetAlert=s(9)}).call(i,s(7))},function(n,i,s){(function(r){n.exports=r.swal=s(10)}).call(i,s(7))},function(n,i,s){typeof window<"u"&&s(11),s(16);var r=s(23).default;n.exports=r},function(n,i,s){var r=s(12);typeof r=="string"&&(r=[[n.i,r,""]]);var o={insertAt:"top"};o.transform=void 0,s(14)(r,o),r.locals&&(n.exports=r.locals)},function(n,i,s){i=n.exports=s(13)(void 0),i.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,i){function s(o,a){var l=o[1]||"",c=o[3];if(!c)return l;if(a&&typeof btoa=="function"){var u=r(c);return[l].concat(c.sources.map(function(h){return"/*# sourceURL="+c.sourceRoot+h+" */"})).concat([u]).join(`
`)}return[l].join(`
`)}function r(o){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"}n.exports=function(o){var a=[];return a.toString=function(){return this.map(function(l){var c=s(l,o);return l[2]?"@media "+l[2]+"{"+c+"}":c}).join("")},a.i=function(l,c){typeof l=="string"&&(l=[[null,l,""]]);for(var u={},h=0;h<this.length;h++){var d=this[h][0];typeof d=="number"&&(u[d]=!0)}for(h=0;h<l.length;h++){var f=l[h];typeof f[0]=="number"&&u[f[0]]||(c&&!f[2]?f[2]=c:c&&(f[2]="("+f[2]+") and ("+c+")"),a.push(f))}},a}},function(n,i,s){function r(k,A){for(var C=0;C<k.length;C++){var R=k[C],j=_[R.id];if(j){j.refs++;for(var q=0;q<j.parts.length;q++)j.parts[q](R.parts[q]);for(;q<R.parts.length;q++)j.parts.push(d(R.parts[q],A))}else{for(var _t=[],q=0;q<R.parts.length;q++)_t.push(d(R.parts[q],A));_[R.id]={id:R.id,refs:1,parts:_t}}}}function o(k,A){for(var C=[],R={},j=0;j<k.length;j++){var q=k[j],_t=A.base?q[0]+A.base:q[0],st=q[1],ut=q[2],ht=q[3],vt={css:st,media:ut,sourceMap:ht};R[_t]?R[_t].parts.push(vt):C.push(R[_t]={id:_t,parts:[vt]})}return C}function a(k,A){var C=b(k.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=w[w.length-1];if(k.insertAt==="top")R?R.nextSibling?C.insertBefore(A,R.nextSibling):C.appendChild(A):C.insertBefore(A,C.firstChild),w.push(A);else{if(k.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");C.appendChild(A)}}function l(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var A=w.indexOf(k);A>=0&&w.splice(A,1)}function c(k){var A=document.createElement("style");return k.attrs.type="text/css",h(A,k.attrs),a(k,A),A}function u(k){var A=document.createElement("link");return k.attrs.type="text/css",k.attrs.rel="stylesheet",h(A,k.attrs),a(k,A),A}function h(k,A){Object.keys(A).forEach(function(C){k.setAttribute(C,A[C])})}function d(k,A){var C,R,j,q;if(A.transform&&k.css){if(!(q=A.transform(k.css)))return function(){};k.css=q}if(A.singleton){var _t=v++;C=x||(x=c(A)),R=f.bind(null,C,_t,!1),j=f.bind(null,C,_t,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=u(A),R=g.bind(null,C,A),j=function(){l(C),C.href&&URL.revokeObjectURL(C.href)}):(C=c(A),R=p.bind(null,C),j=function(){l(C)});return R(k),function(st){if(st){if(st.css===k.css&&st.media===k.media&&st.sourceMap===k.sourceMap)return;R(k=st)}else j()}}function f(k,A,C,R){var j=C?"":R.css;if(k.styleSheet)k.styleSheet.cssText=O(A,j);else{var q=document.createTextNode(j),_t=k.childNodes;_t[A]&&k.removeChild(_t[A]),_t.length?k.insertBefore(q,_t[A]):k.appendChild(q)}}function p(k,A){var C=A.css,R=A.media;if(R&&k.setAttribute("media",R),k.styleSheet)k.styleSheet.cssText=C;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(C))}}function g(k,A,C){var R=C.css,j=C.sourceMap,q=A.convertToAbsoluteUrls===void 0&&j;(A.convertToAbsoluteUrls||q)&&(R=P(R)),j&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var _t=new Blob([R],{type:"text/css"}),st=k.href;k.href=URL.createObjectURL(_t),st&&URL.revokeObjectURL(st)}var _={},m=function(k){var A;return function(){return A===void 0&&(A=k.apply(this,arguments)),A}}(function(){return window&&document&&document.all&&!window.atob}),b=function(k){var A={};return function(C){return A[C]===void 0&&(A[C]=k.call(this,C)),A[C]}}(function(k){return document.querySelector(k)}),x=null,v=0,w=[],P=s(15);n.exports=function(k,A){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");A=A||{},A.attrs=typeof A.attrs=="object"?A.attrs:{},A.singleton||(A.singleton=m()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var C=o(k,A);return r(C,A),function(R){for(var j=[],q=0;q<C.length;q++){var _t=C[q],st=_[_t.id];st.refs--,j.push(st)}R&&r(o(R,A),A);for(var q=0;q<j.length;q++){var st=j[q];if(st.refs===0){for(var ut=0;ut<st.parts.length;ut++)st.parts[ut]();delete _[st.id]}}}};var O=function(){var k=[];return function(A,C){return k[A]=C,k.filter(Boolean).join(`
`)}}()},function(n,i){n.exports=function(s){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var o=r.protocol+"//"+r.host,a=o+r.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u=c.trim().replace(/^"(.*)"$/,function(d,f){return f}).replace(/^'(.*)'$/,function(d,f){return f});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(u))return l;var h;return h=u.indexOf("//")===0?u:u.indexOf("/")===0?o+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(h)+")"})}},function(n,i,s){var r=s(17);typeof window>"u"||window.Promise||(window.Promise=r),s(21),String.prototype.includes||(String.prototype.includes=function(o,a){return typeof a!="number"&&(a=0),!(a+o.length>this.length)&&this.indexOf(o,a)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,a){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),c=l.length>>>0;if(c===0)return!1;for(var u=0|a,h=Math.max(u>=0?u:c-Math.abs(u),0);h<c;){if(function(d,f){return d===f||typeof d=="number"&&typeof f=="number"&&isNaN(d)&&isNaN(f)}(l[h],o))return!0;h++}return!1}}),typeof window<"u"&&function(o){o.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,i,s){(function(r){(function(o){function a(){}function l(m,b){return function(){m.apply(b,arguments)}}function c(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(m,this)}function u(m,b){for(;m._state===3;)m=m._value;if(m._state===0)return void m._deferreds.push(b);m._handled=!0,c._immediateFn(function(){var x=m._state===1?b.onFulfilled:b.onRejected;if(x===null)return void(m._state===1?h:d)(b.promise,m._value);var v;try{v=x(m._value)}catch(w){return void d(b.promise,w)}h(b.promise,v)})}function h(m,b){try{if(b===m)throw new TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var x=b.then;if(b instanceof c)return m._state=3,m._value=b,void f(m);if(typeof x=="function")return void g(l(x,b),m)}m._state=1,m._value=b,f(m)}catch(v){d(m,v)}}function d(m,b){m._state=2,m._value=b,f(m)}function f(m){m._state===2&&m._deferreds.length===0&&c._immediateFn(function(){m._handled||c._unhandledRejectionFn(m._value)});for(var b=0,x=m._deferreds.length;b<x;b++)u(m,m._deferreds[b]);m._deferreds=null}function p(m,b,x){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof b=="function"?b:null,this.promise=x}function g(m,b){var x=!1;try{m(function(v){x||(x=!0,h(b,v))},function(v){x||(x=!0,d(b,v))})}catch(v){if(x)return;x=!0,d(b,v)}}var _=setTimeout;c.prototype.catch=function(m){return this.then(null,m)},c.prototype.then=function(m,b){var x=new this.constructor(a);return u(this,new p(m,b,x)),x},c.all=function(m){var b=Array.prototype.slice.call(m);return new c(function(x,v){function w(k,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var C=A.then;if(typeof C=="function")return void C.call(A,function(R){w(k,R)},v)}b[k]=A,--P==0&&x(b)}catch(R){v(R)}}if(b.length===0)return x([]);for(var P=b.length,O=0;O<b.length;O++)w(O,b[O])})},c.resolve=function(m){return m&&typeof m=="object"&&m.constructor===c?m:new c(function(b){b(m)})},c.reject=function(m){return new c(function(b,x){x(m)})},c.race=function(m){return new c(function(b,x){for(var v=0,w=m.length;v<w;v++)m[v].then(b,x)})},c._immediateFn=typeof r=="function"&&function(m){r(m)}||function(m){_(m,0)},c._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)},c._setImmediateFn=function(m){c._immediateFn=m},c._setUnhandledRejectionFn=function(m){c._unhandledRejectionFn=m},n!==void 0&&n.exports?n.exports=c:o.Promise||(o.Promise=c)})(this)}).call(i,s(18).setImmediate)},function(n,i,s){function r(a,l){this._id=a,this._clearFn=l}var o=Function.prototype.apply;i.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(a){a&&a.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(a,l){clearTimeout(a._idleTimeoutId),a._idleTimeout=l},i.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},i._unrefActive=i.active=function(a){clearTimeout(a._idleTimeoutId);var l=a._idleTimeout;l>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},l))},s(19),i.setImmediate=setImmediate,i.clearImmediate=clearImmediate},function(n,i,s){(function(r,o){(function(a,l){function c(x){typeof x!="function"&&(x=new Function(""+x));for(var v=new Array(arguments.length-1),w=0;w<v.length;w++)v[w]=arguments[w+1];var P={callback:x,args:v};return g[p]=P,f(p),p++}function u(x){delete g[x]}function h(x){var v=x.callback,w=x.args;switch(w.length){case 0:v();break;case 1:v(w[0]);break;case 2:v(w[0],w[1]);break;case 3:v(w[0],w[1],w[2]);break;default:v.apply(l,w)}}function d(x){if(_)setTimeout(d,0,x);else{var v=g[x];if(v){_=!0;try{h(v)}finally{u(x),_=!1}}}}if(!a.setImmediate){var f,p=1,g={},_=!1,m=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,{}.toString.call(a.process)==="[object process]"?function(){f=function(x){o.nextTick(function(){d(x)})}}():function(){if(a.postMessage&&!a.importScripts){var x=!0,v=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=v,x}}()?function(){var x="setImmediate$"+Math.random()+"$",v=function(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(x)===0&&d(+w.data.slice(x.length))};a.addEventListener?a.addEventListener("message",v,!1):a.attachEvent("onmessage",v),f=function(w){a.postMessage(x+w,"*")}}():a.MessageChannel?function(){var x=new MessageChannel;x.port1.onmessage=function(v){d(v.data)},f=function(v){x.port2.postMessage(v)}}():m&&"onreadystatechange"in m.createElement("script")?function(){var x=m.documentElement;f=function(v){var w=m.createElement("script");w.onreadystatechange=function(){d(v),w.onreadystatechange=null,x.removeChild(w),w=null},x.appendChild(w)}}():function(){f=function(x){setTimeout(d,0,x)}}(),b.setImmediate=c,b.clearImmediate=u}})(typeof self>"u"?r===void 0?this:r:self)}).call(i,s(7),s(20))},function(n,i){function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(x){if(d===setTimeout)return setTimeout(x,0);if((d===s||!d)&&setTimeout)return d=setTimeout,setTimeout(x,0);try{return d(x,0)}catch{try{return d.call(null,x,0)}catch{return d.call(this,x,0)}}}function a(x){if(f===clearTimeout)return clearTimeout(x);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(x);try{return f(x)}catch{try{return f.call(null,x)}catch{return f.call(this,x)}}}function l(){m&&g&&(m=!1,g.length?_=g.concat(_):b=-1,_.length&&c())}function c(){if(!m){var x=o(l);m=!0;for(var v=_.length;v;){for(g=_,_=[];++b<v;)g&&g[b].run();b=-1,v=_.length}g=null,m=!1,a(x)}}function u(x,v){this.fun=x,this.array=v}function h(){}var d,f,p=n.exports={};(function(){try{d=typeof setTimeout=="function"?setTimeout:s}catch{d=s}try{f=typeof clearTimeout=="function"?clearTimeout:r}catch{f=r}})();var g,_=[],m=!1,b=-1;p.nextTick=function(x){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];_.push(new u(x,v)),_.length!==1||m||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.prependListener=h,p.prependOnceListener=h,p.listeners=function(x){return[]},p.binding=function(x){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(x){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(n,i,s){s(22).polyfill()},function(n,i,s){function r(a,l){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var c=Object(a),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var d=Object.keys(Object(h)),f=0,p=d.length;f<p;f++){var g=d[f],_=Object.getOwnPropertyDescriptor(h,g);_!==void 0&&_.enumerable&&(c[g]=h[g])}}return c}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}n.exports={assign:r,polyfill:o}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(24),o=s(6),a=s(5),l=s(36),c=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];if(typeof window<"u"){var d=l.getOpts.apply(void 0,u);return new Promise(function(f,p){a.default.promise={resolve:f,reject:p},r.default(d),setTimeout(function(){o.openModal()})})}};c.close=o.onAction,c.getState=o.getState,c.setActionValue=a.setActionValue,c.stopLoading=o.stopLoading,c.setDefaults=l.setDefaults,i.default=c},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(0),a=o.default.MODAL,l=s(4),c=s(34),u=s(35),h=s(1);i.init=function(d){r.getNode(a)||(document.body||h.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),c.default(),l.default()),l.initModalContent(d),u.default(d)},i.default=i.init},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(0),o=r.default.MODAL;i.modalMarkup=`
  <div class="`+o+'" role="dialog" aria-modal="true"></div>',i.default=i.modalMarkup},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(0),o=r.default.OVERLAY,a=`<div 
    class="`+o+`"
    tabIndex="-1">
  </div>`;i.default=a},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(0),o=r.default.ICON;i.errorIconMarkup=function(){var a=o+"--error",l=a+"__line";return`
    <div class="`+a+`__x-mark">
      <span class="`+l+" "+l+`--left"></span>
      <span class="`+l+" "+l+`--right"></span>
    </div>
  `},i.warningIconMarkup=function(){var a=o+"--warning";return`
    <span class="`+a+`__body">
      <span class="`+a+`__dot"></span>
    </span>
  `},i.successIconMarkup=function(){var a=o+"--success";return`
    <span class="`+a+"__line "+a+`__line--long"></span>
    <span class="`+a+"__line "+a+`__line--tip"></span>

    <div class="`+a+`__ring"></div>
    <div class="`+a+`__hide-corners"></div>
  `}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(0),o=r.default.CONTENT;i.contentMarkup=`
  <div class="`+o+`">

  </div>
`},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(0),o=r.default.BUTTON_CONTAINER,a=r.default.BUTTON,l=r.default.BUTTON_LOADER;i.buttonMarkup=`
  <div class="`+o+`">

    <button
      class="`+a+`"
    ></button>

    <div class="`+l+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(4),o=s(2),a=s(0),l=a.default.ICON,c=a.default.ICON_CUSTOM,u=["error","warning","success","info"],h={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()},d=function(g,_){var m=l+"--"+g;_.classList.add(m);var b=h[g];b&&(_.innerHTML=b)},f=function(g,_){_.classList.add(c);var m=document.createElement("img");m.src=g,_.appendChild(m)},p=function(g){if(g){var _=r.injectElIntoModal(o.iconMarkup);u.includes(g)?d(g,_):f(g,_)}};i.default=p},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(2),o=s(4),a=function(l){navigator.userAgent.includes("AppleWebKit")&&(l.style.display="none",l.offsetHeight,l.style.display="")};i.initTitle=function(l){if(l){var c=o.injectElIntoModal(r.titleMarkup);c.textContent=l,a(c)}},i.initText=function(l){if(l){var c=document.createDocumentFragment();l.split(`
`).forEach(function(h,d,f){c.appendChild(document.createTextNode(h)),d<f.length-1&&c.appendChild(document.createElement("br"))});var u=o.injectElIntoModal(r.textMarkup);u.appendChild(c),a(u)}}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(4),a=s(0),l=a.default.BUTTON,c=a.default.DANGER_BUTTON,u=s(3),h=s(2),d=s(6),f=s(5),p=function(_,m,b){var x=m.text,v=m.value,w=m.className,P=m.closeModal,O=r.stringToNode(h.buttonMarkup),k=O.querySelector("."+l),A=l+"--"+_;k.classList.add(A),w&&(Array.isArray(w)?w:w.split(" ")).filter(function(R){return R.length>0}).forEach(function(R){k.classList.add(R)}),b&&_===u.CONFIRM_KEY&&k.classList.add(c),k.textContent=x;var C={};return C[_]=v,f.setActionValue(C),f.setActionOptionsFor(_,{closeModal:P}),k.addEventListener("click",function(){return d.onAction(_)}),O},g=function(_,m){var b=o.injectElIntoModal(h.footerMarkup);for(var x in _){var v=_[x],w=p(x,v,m);v.visible&&b.appendChild(w)}b.children.length===0&&b.remove()};i.default=g},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(3),o=s(4),a=s(2),l=s(5),c=s(6),u=s(0),h=u.default.CONTENT,d=function(g){g.addEventListener("input",function(_){var m=_.target,b=m.value;l.setActionValue(b)}),g.addEventListener("keyup",function(_){if(_.key==="Enter")return c.onAction(r.CONFIRM_KEY)}),setTimeout(function(){g.focus(),l.setActionValue("")},0)},f=function(g,_,m){var b=document.createElement(_),x=h+"__"+_;b.classList.add(x);for(var v in m){var w=m[v];b[v]=w}_==="input"&&d(b),g.appendChild(b)},p=function(g){if(g){var _=o.injectElIntoModal(a.contentMarkup),m=g.element,b=g.attributes;typeof m=="string"?f(_,m,b):_.appendChild(m)}};i.default=p},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(2),a=function(){var l=r.stringToNode(o.overlayMarkup);document.body.appendChild(l)};i.default=a},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(5),o=s(6),a=s(1),l=s(3),c=s(0),u=c.default.MODAL,h=c.default.BUTTON,d=c.default.OVERLAY,f=function(R){R.preventDefault(),b()},p=function(R){R.preventDefault(),x()},g=function(R){if(r.default.isOpen)switch(R.key){case"Escape":return o.onAction(l.CANCEL_KEY)}},_=function(R){if(r.default.isOpen)switch(R.key){case"Tab":return f(R)}},m=function(R){if(r.default.isOpen)return R.key==="Tab"&&R.shiftKey?p(R):void 0},b=function(){var R=a.getNode(h);R&&(R.tabIndex=0,R.focus())},x=function(){var R=a.getNode(u),j=R.querySelectorAll("."+h),q=j.length-1,_t=j[q];_t&&_t.focus()},v=function(R){R[R.length-1].addEventListener("keydown",_)},w=function(R){R[0].addEventListener("keydown",m)},P=function(){var R=a.getNode(u),j=R.querySelectorAll("."+h);j.length&&(v(j),w(j))},O=function(R){if(a.getNode(d)===R.target)return o.onAction(l.CANCEL_KEY)},k=function(R){var j=a.getNode(d);j.removeEventListener("click",O),R&&j.addEventListener("click",O)},A=function(R){r.default.timer&&clearTimeout(r.default.timer),R&&(r.default.timer=window.setTimeout(function(){return o.onAction(l.CANCEL_KEY)},R))},C=function(R){R.closeOnEsc?document.addEventListener("keyup",g):document.removeEventListener("keyup",g),R.dangerMode?b():x(),P(),k(R.closeOnClickOutside),A(R.timer)};i.default=C},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o=s(3),a=s(37),l=s(38),c={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},u=Object.assign({},c);i.setDefaults=function(m){u=Object.assign({},c,m)};var h=function(m){var b=m&&m.button,x=m&&m.buttons;return b!==void 0&&x!==void 0&&r.throwErr("Cannot set both 'button' and 'buttons' options!"),b!==void 0?{confirm:b}:x},d=function(m){return r.ordinalSuffixOf(m+1)},f=function(m,b){r.throwErr(d(b)+" argument ('"+m+"') is invalid")},p=function(m,b){var x=m+1,v=b[x];r.isPlainObject(v)||v===void 0||r.throwErr("Expected "+d(x)+" argument ('"+v+"') to be a plain object")},g=function(m,b){var x=m+1,v=b[x];v!==void 0&&r.throwErr("Unexpected "+d(x)+" argument ("+v+")")},_=function(m,b,x,v){var w=typeof b,P=w==="string",O=b instanceof Element;if(P){if(x===0)return{text:b};if(x===1)return{text:b,title:v[0]};if(x===2)return p(x,v),{icon:b};f(b,x)}else{if(O&&x===0)return p(x,v),{content:b};if(r.isPlainObject(b))return g(x,v),b;f(b,x)}};i.getOpts=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var x={};m.forEach(function(P,O){var k=_(0,P,O,m);Object.assign(x,k)});var v=h(x);x.buttons=o.getButtonListOpts(v),delete x.button,x.content=a.getContentOpts(x.content);var w=Object.assign({},c,u,x);return Object.keys(w).forEach(function(P){l.DEPRECATED_OPTS[P]&&l.logDeprecation(P)}),w}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0});var r=s(1),o={element:"input",attributes:{placeholder:""}};i.getContentOpts=function(a){var l={};return r.isPlainObject(a)?Object.assign(l,a):a instanceof Element?{element:a}:a==="input"?o:null}},function(n,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.logDeprecation=function(r){var o=i.DEPRECATED_OPTS[r],a=o.onlyRename,l=o.replacement,c=o.subOption,u=o.link,h=a?"renamed":"deprecated",d='SweetAlert warning: "'+r+'" option has been '+h+".";l&&(d+=" Please use"+(c?' "'+c+'" in ':" ")+'"'+l+'" instead.');var f="https://sweetalert.js.org";d+=u?" More details: "+f+u:" More details: "+f+"/guides/#upgrading-from-1x",console.warn(d)},i.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(e2);var N8=e2.exports;const Rr=L8(N8),V8=e=>(We("data-v-a2251ef3"),e=e(),qe(),e),F8={key:0},$8=V8(()=>y("span",{style:{color:"#FF6A00FF","font-size":"18px",position:"relative",top:"3px"},class:"material-symbols-outlined"}," warning ",-1)),U8={__name:"Alert",props:["progressWidth"],setup(e){const t=e;gn(()=>{setTimeout(()=>{t.progressWidth>=100&&localStorage.getItem("alert")!="true"&&(localStorage.setItem("alert","true"),Rr({title:"Fulfilled tanning",text:`You have reached your melanin cut-off point, which means you cannot get any darker today.
 
We recommend getting out of the sun now, as continued exposure will only cause harm.`,icon:"success",dangerMode:!0,closeOnClickOutside:!1,closeOnEsc:!1}))},1e3)});const n=()=>{Rr({title:"Fulfilled tanning",text:`You have reached your melanin cut-off point, which means you cannot get any darker today.
 
We recommend getting out of the sun now, as continued exposure will only cause harm.`,icon:"success",dangerMode:!0,closeOnClickOutside:!1,closeOnEsc:!1})};return Dn(()=>t.progressWidth,i=>{setTimeout(()=>{i>=100&&localStorage.getItem("alert")!="true"&&(localStorage.setItem("alert","true"),Rr({title:"Fulfilled tanning!",text:`You have reached your melanin cut-off point, which means you cannot get any darker today.
 
We recommend getting out of the sun now, as continued exposure will only cause harm.`,icon:"success",dangerMode:!0,closeOnClickOutside:!1,closeOnEsc:!1}))},1e3)}),(i,s)=>i.$route.path.includes("timer")?(I(),S("div",F8,[t.progressWidth>=100?(I(),S("em",{key:0,onClick:n,class:"min-burn"},[$8,bt(" You have reached your max tan for today!")])):J("",!0)])):J("",!0)}},B8=qt(U8,[["__scopeId","data-v-a2251ef3"]]),j8={key:0,class:"center tanning-bar"},z8={class:"tanning-text"},H8={style:{"font-weight":"300",opacity:".9"}},W8={style:{display:"flex","flex-direction":"row",width:"100%"}},q8={class:"percentage-tanning"},K8={key:0,class:"bold"},G8={key:0,class:"material-symbols-outlined",style:{color:"rgb(255, 143, 27)"}},Y8={key:1,class:"material-symbols-sharp",style:{color:"white"}},X8={__name:"tanningProgress",props:["currentPlace"],setup(e){const t=e,n=ze(),i=V(null),s=V(null),r=V(null),o=V(null),a=V(0),l=V("0"),c=V(null);gn(()=>{setTimeout(async()=>{u(),localStorage.getItem("elapsedTime")>0&&localStorage.getItem("tanningRunning")==="true"?(f.value=localStorage.getItem("elapsedTime"),c.value=localStorage.getItem("setTanningTimer"),d.value=!0,f.value=parseInt(localStorage.getItem("elapsedTime")),p()):localStorage.getItem("elapsedTime")>0&&(c.value=localStorage.getItem("setTanningTimer"),f.value=parseInt(localStorage.getItem("elapsedTime")),_()),Oi(n,async m=>{var x;s.value=m;const b=m==null?void 0:m.uid;if(b){const v=cs(ps,"users",b),P=(x=(await ar(v)).data())==null?void 0:x.skinType;i.value=P!==void 0,r.value=i.value?P:null,console.log("skintype value :",r.value),console.log(t.currentPlace),r.value!=null&&console.log("no skin type")}})},0)});const u=()=>{if(r.value)r.value==1?a.value=30:r.value==2?a.value=80:a.value=180;else{console.log("No skin type selected");return}l.value=a.value*6e4,c.value=l.value,localStorage.setItem("setTanningTimer",c.value)};let h;const d=V(!1),f=V(null);V(null);const p=()=>{if(u(),f.value<1){const m=Date.now();console.log(m),localStorage.setItem("startTime",m)}d.value=!0,d.value&&(h=setInterval(()=>{f.value>=c.value&&(clearInterval(h),d.value=!1),t.currentPlace.current&&(t.currentPlace.current.uv-1>2?(f.value+=1e3,_()):o.value=f.value/c.value*100)},1e3))},g=()=>{d.value?(clearInterval(h),d.value=!1,localStorage.setItem("elapsedTime",f.value)):(d.value=!0,p())};Dn(f,m=>{m?localStorage.setItem("elapsedTime",f.value):localStorage.setItem("tanningRunning","false")}),Dn(d,m=>{m==!0?(localStorage.setItem("tanningRunning","true"),localStorage.setItem("elapsedTime",f.value)):localStorage.setItem("tanningRunning","false")});const _=()=>{c.value&&(o.value<99?o.value=f.value/c.value*100:(o.value=100,clearInterval(h.value),console.log("Tanning session finished")))};return(m,b)=>(I(),S(Jt,null,[s.value?(I(),S("div",j8,[y("p",z8,[bt("Today's tanning progress "),y("span",H8,ot(!d.value&&o.value<100?"(press the sun if tanning)":e.currentPlace.current.uv-1<3?"(UVI low)":""),1)]),y("div",W8,[y("div",{class:"progress",style:at({width:o.value>=100?"100%":"88%"})},[y("div",{class:"progress-done",style:at({width:o.value+"%",background:!d.value&&o.value<100?"grey":o.value>=100?"#f53311":"linear-gradient(to left, #FF4327E0, #FF5317E0)",boxShadow:!d.value&&o.value<100?"0px 0px 0px 0px":"0 0 6px orangered",borderRadius:o.value>=100?"4px":""})},null,4),y("div",q8,[o.value>0?(I(),S("div",K8,ot(Math.round(o.value)+"%"),1)):J("",!0)])],4),o.value<100?(I(),S("button",{key:0,class:"sun-shadow",style:at(d.value?"background-color: rgba(31, 31, 31, 0.84)":"background-color: white"),onClick:g},[d.value?J("",!0):(I(),S("span",G8," sunny ")),d.value?(I(),S("span",Y8," pause ")):J("",!0)],4)):J("",!0)])])):J("",!0),Z(B8,{progressWidth:o.value},null,8,["progressWidth"])],64))}},n2=qt(X8,[["__scopeId","data-v-b219f61f"]]),ho=e=>(We("data-v-0d3a456d"),e=e(),qe(),e),Q8={class:"column"},J8=ho(()=>y("div",{class:"explanation"},[y("h1",null,"Sunscreen timer"),bt(" Apply your sunscreen and start the timer. When the timer ends, it's time for a new layer. You should also protect yourself with a new layer when you get out of the water or sweat. Enjoy the sun and tan safely ! ")],-1)),Z8={class:"pos-reapply center"},tU={key:0,class:"time"},eU={key:1,class:"time"},nU={class:"main-container center"},iU={class:"circle-container center"},sU=ho(()=>y("div",{class:"outermost-circle"},null,-1)),rU={key:0,class:"btn-text"},oU={key:1,class:"btn-text"},aU={class:"info"},lU={class:"location"},cU=ho(()=>y("div",{class:"title"},"Location",-1)),uU={key:0,class:"content"},hU={class:"uvi"},dU=ho(()=>y("div",{class:"title"},"UVI",-1)),fU={key:0,class:"content"},pU={class:"temp"},gU=ho(()=>y("div",{class:"title"},"Temperatue",-1)),mU={key:0,class:"content"},yU=ho(()=>y("div",{class:"warning"},[y("em",null,"*You should always tan with common sense; if your skin feels too hot, turns red, or starts to irritate, get out of the sun immediately.")],-1)),_U={__name:"Timer-component",props:["currentPlace"],setup(e){const t=e,n=k3(),i=ze(),s=V(null),r=V(null),o=V(null);V([]);const a=V([]),l=V(null),c=V(0),u=V(0),h=V(0),d=V(0),f=V(0),p=V(0),g=V(0),_=V(0),m=V(0);gn(()=>{setTimeout(async()=>{b(),w(),a.value=document.querySelectorAll(".semi-circle"),Oi(i,async k=>{var C;r.value=k;const A=k==null?void 0:k.uid;if(A){const R=cs(ps,"users",A),q=(C=(await ar(R)).data())==null?void 0:C.skinType;s.value=q!==void 0,o.value=s.value?q:null,console.log("skintype value :",o.value),console.log(t.currentPlace),o.value!=null&&console.log("no skin type")}})},0)});const b=()=>{const k=localStorage.getItem("startTime");if(k){const A=new Date(parseInt(k));console.log("StartTime: "+A.getDate());const C=new Date;console.log(C.getDate()),(A.getDate()!==C.getDate()||A.getMonth()!==C.getMonth()||A.getFullYear()!==C.getFullYear())&&(localStorage.removeItem("tanningTimer"),localStorage.removeItem("startTanningTime"),localStorage.removeItem("elapsedTime"),localStorage.removeItem("alert"),localStorage.removeItem("startTime"),console.log("Items removed from localStorage at midnight"))}},x=()=>{localStorage.setItem("timerAlert","false"),c.value=150,f.value=c.value*6e4,p.value=f.value,g.value=Date.now(),_.value=g.value+p.value;const k={startTime:g.value,setTimer:p.value};localStorage.setItem("timer",JSON.stringify(k)),P()},v=()=>{localStorage.setItem("timerAlert","false"),console.log("function called"),Rr({title:"Reapply sunscreen",text:"Are you set to reapply sunscreen? A new timer will be started.",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,closeModal:!0},confirm:{text:"Yes",value:!0,visible:!0,closeModal:!0,className:"swal-button--danger"}}}).then(k=>{k?x():console.log("cancel")})},w=()=>{if(localStorage.getItem("timer")){const k=JSON.parse(localStorage.getItem("timer"));g.value=k.startTime,p.value=k.setTimer,_.value=g.value+p.value,P()}},P=()=>{l.value=setInterval(()=>{const k=Date.now(),A=_.value-k;if(m.value=A/p.value*360,A<=0){localStorage.getItem("timerAlert")==="false"&&(n.name==="timer"?(console.log("router name is timer"),Rr({title:"Sunscreen timer ended",text:`Your sunscreen timer has expired, indicating that its effectiveness has diminished.
To ensure ongoing protection, it's essential to apply a fresh layer of sunscreen now.`,icon:"warning",dangerMode:!0,closeOnClickOutside:!1,closeOnEsc:!1})):(console.log(n.name),Rr({title:"Sunscreen timer ended",text:`Your sunscreen timer has expired, indicating that its effectiveness has diminished.
To ensure ongoing protection, it's essential to apply a fresh layer of sunscreen now.`,icon:"warning",dangerMode:!0,closeOnClickOutside:!0,closeOnEsc:!1,buttons:{timer:{text:"Go to timer",value:"timer",className:"swal-button--danger"}}}).then(q=>{q&&q==="timer"&&_h.push({name:"timer"})}))),localStorage.setItem("timerAlert","true"),clearInterval(l.value),u.value="00",h.value="00",d.value="00";return}const C=Math.floor(A/(1e3*60*60)%24),R=Math.floor(A/(1e3*60)%60),j=Math.floor(A/1e3%60);u.value=C<10?"0"+C:C,h.value=R<10?"0"+R:R,d.value=j<10?"0"+j:j},10)};V(!1),V("Select the SPF on your sunscreen");const O=V(!1);return Dn(m,(k,A)=>{O.value=k!==A&&k>0}),(k,A)=>k.$route.path.includes("timer")?(I(),S("body",{key:0,class:Q([{"transition-bg":O.value},"bg-container"])},[y("div",Q8,[Z(n2,{currentPlace:e.currentPlace},null,8,["currentPlace"]),J8,y("div",Z8,[m.value>0?(I(),S("div",tU,ot(u.value)+" : "+ot(h.value)+" : "+ot(d.value),1)):(I(),S("div",eU,"No timer set"))]),y("div",nU,[y("div",iU,[y("div",{style:at({display:m.value<=0?"none":"block"})},[y("div",{class:"semi-circle circle3",style:at({display:m.value>180?"none":"block"})},null,4),y("div",{class:"semi-circle circle2",style:at({transform:m.value>180?"rotate(180deg)":`rotate(${m.value}deg)`})},null,4),y("div",{class:"semi-circle circle1",style:at({transform:m.value>180?`rotate(${m.value}deg)`:`rotate(${m.value}deg)`,backgroundColor:m.value<60?"red":""})},null,4)],4),sU,y("div",{class:Q(["sun",m.value>0?"timer-on":""]),style:at({backgroundColor:m.value<.1?"#c9cbd3":"#ff6f00"})},null,6)]),y("div",{class:"timer-container center",onClick:A[0]||(A[0]=C=>m.value>0?v():x())},[m.value>0?(I(),S("div",rU,"Reapply")):(I(),S("div",oU,"Start timer"))])]),y("div",aU,[y("div",lU,[cU,e.currentPlace.current?(I(),S("div",uU,ot(e.currentPlace.location.name),1)):J("",!0)]),y("div",hU,[dU,e.currentPlace.current?(I(),S("div",fU,ot(e.currentPlace.current.uv-1),1)):J("",!0)]),y("div",pU,[gU,e.currentPlace.current?(I(),S("div",mU,ot(e.currentPlace.current.temp_c)+"",1)):J("",!0)])]),yU])],2)):J("",!0)}},fh=qt(_U,[["__scopeId","data-v-0d3a456d"]]),vU={style:{display:"none !important"}},bU={__name:"Home",setup(e){const t=ze(),n=V({}),i=V(null);mb(()=>{Oi(t,r=>{r?(console.log("User is logged in:",r),i.value=r):(console.log("User is logged out"),i.value=null)})});const s=()=>new Promise((r,o)=>{navigator.geolocation.getCurrentPosition(r,o,{enableHighAccuracy:!0,timeout:3e5,maximumAge:0})});return gn(async()=>{try{const r=await s(),{latitude:o,longitude:a}=r.coords,l=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=92584693940a4436a2b150711241202&q=${o},${a}&days=3&aqi=no&alerts=no`);n.value=await l.json(),console.log(n.location)}catch(r){console.error("Error getting location:",r)}}),(r,o)=>(I(),S(Jt,null,[Z(bg,{style:{"z-index":"2"},currentPlace:n.value},null,8,["currentPlace"]),Z(p8,{currentPlace:n.value},null,8,["currentPlace"]),Z(O8,{currentPlace:n.value},null,8,["currentPlace"]),Z(Sn,{style:{"z-index":"3"}}),y("div",vU,[Z(n2,{currentPlace:n.value},null,8,["currentPlace"])]),Z(fh,{currentPlace:n.value},null,8,["currentPlace"])],64))}},Oe=e=>(We("data-v-aff74538"),e=e(),qe(),e),wU={key:0,class:"welcome"},xU=Oe(()=>y("h1",null,[y("strong",null,"Welcome!")],-1)),EU=Oe(()=>y("br",null,null,-1)),TU=Oe(()=>y("br",null,null,-1)),kU=Oe(()=>y("br",null,null,-1)),IU=Oe(()=>y("br",null,null,-1)),SU={class:"pos-feedback-page"},AU={key:0},PU={key:1},CU=Oe(()=>y("h1",null,"Finished!",-1)),RU=[CU],MU={key:2},OU={class:"pos-arrow"},DU={class:"pos-eyebrows"},LU={class:"pos-eyes"},NU={class:"eye"},VU={class:"eye"},FU={style:{"padding-top":"150px"}},$U={key:0,class:"question"},UU=Oe(()=>y("p",null,"What is the colour of your skin? ",-1)),BU={class:"radio-button-container"},jU=["disabled"],zU={key:1,class:"question"},HU=Oe(()=>y("p",null,"What is the colour of your eyes? ",-1)),WU={class:"radio-button-container wrap"},qU={class:"row"},KU={class:"row"},GU=["disabled"],YU={key:2,class:"question four"},XU=Oe(()=>y("p",null,"What is the colour of your hair (naturally)? ",-1)),QU={class:"radio-button-container wrap"},JU={class:"row"},ZU={class:"row"},tB=["disabled"],eB={key:3,class:"question"},nB=Oe(()=>y("p",null,"How many freckles do you have? ",-1)),iB={class:"radio-button-container"},sB=["disabled"],rB={key:4,class:"question"},oB=Oe(()=>y("p",null,"How does extended exposure to sunlight affect your skin?",-1)),aB={class:"radio-button-container-text"},lB=["disabled"],cB={key:5,class:"question"},uB=Oe(()=>y("p",null,"Do you turn brown after sun exposure? ",-1)),hB={class:"radio-button-container-text"},dB=["disabled"],fB={key:6,class:"question"},pB=Oe(()=>y("p",null,"How brown do you get? ",-1)),gB={class:"radio-button-container-text"},mB=["disabled"],yB={key:7,class:"question"},_B=Oe(()=>y("p",null,"Is your face sensitive to the sun? ",-1)),vB={class:"radio-button-container-text"},bB=["disabled"],wB={key:8,class:"question"},xB=Oe(()=>y("p",null,"How often do you tan? ",-1)),EB={class:"radio-button-container-text"},TB=["disabled"],kB={key:9,class:"question"},IB=Oe(()=>y("p",null,"When did you last expose your skin to the sun or artificial tanning (tanning beds)? ",-1)),SB={class:"radio-button-container-text"},AB=["disabled"],PB={key:10,class:"explanation"},CB=Oe(()=>y("br",null,null,-1)),RB={__name:"SkinType",setup(e){const t=V(0);V(!1),V(!1),V(!1),V(!1),V(!1);const n=V("1"),i=V("2.01"),s=V("2.01"),r=V("4"),o=V([]),a=V(null),l=V(null),c=V(null),u=V(null),h=V(null),d=ze(),f=V(null),p=V(null),g=V(null);gn(()=>{Oi(d,async x=>{var w,P,O,k,A;p.value=x;const v=x==null?void 0:x.uid;if(v){const C=cs(ps,"users",v),R=await ar(C),j=(w=R.data())==null?void 0:w.skinType;if(f.value=j!==void 0,g.value=f.value?j:null,g.value!=null){const q=(P=R.data())==null?void 0:P.skinTone;n.value=q!==void 0?q:"";const _t=(O=R.data())==null?void 0:O.eyeColor;i.value=_t!==void 0?_t:"";const st=(k=R.data())==null?void 0:k.hairColor;s.value=st!==void 0?st:"";const ut=(A=R.data())==null?void 0:A.freckles;r.value=ut!==void 0?ut:""}}})});const _=x=>{const v=o.value.indexOf(x);v===-1?o.value.push(x):o.value.splice(v,1)},m=()=>{const x=Number(n.value),v=Number(i.value),w=Number(s.value),P=Number(r.value),O=Math.max(...o.value),k=Number(a.value),A=Number(l.value),C=Number(c.value),R=Number(u.value),j=Number(h.value),q=x+v+w+P+O+k+A+C+R+j;return t.value++,q<=6?g.value=1:q<=13?g.value=2:q<=20?g.value=3:q<=27?g.value=4:q<=34?g.value=5:g.value=6},b=async()=>{if(!p.value){console.error("User information not available.");return}t.value=0;const x=p.value.uid,v=cs(ps,"users",x);try{await yL(v,{skinType:g.value,skinTone:n.value,eyeColor:i.value,hairColor:s.value,freckles:r.value,timerEnded:!1},{merge:!0}),f.value=!0,_h.replace({name:"home"})}catch(w){console.error("Error saving data:",w)}};return(x,v)=>(I(),S(Jt,null,[Z(fh),y("main",null,[t.value==0&&!f.value?(I(),S("div",wU,[xU,EU,bt(),TU,bt(),kU,bt(" To help you tan safely and enjoy the sun without increasing your risk of skin cancer, it's important for us to understand your skin type. "),IU,bt(" Please take a moment to answer our short questionnaire. Your responses will guide us in providing personalized recommendations for sun exposure. ")])):J("",!0),y("div",SU,[t.value<11&&t.value!=0?(I(),S("h1",AU,ot(t.value)+"/10",1)):t.value>10&&t.value!=0?(I(),S("div",PU,RU)):J("",!0),g.value&&t.value==0?(I(),S("h1",MU,[bt("Your skin type is "),y("strong",null,ot(g.value),1)])):J("",!0)]),y("div",OU,[t.value>0?(I(),S("span",{key:0,class:"material-symbols-outlined big",onClick:v[0]||(v[0]=w=>t.value--)}," arrow_back ")):J("",!0)]),t.value>0&&!f.value||f.value?(I(),S("div",{key:1,style:at({"background-color":n.value==="0"?"#FAE9DB":n.value==="1"?"#FADCB2":n.value==="2"?"#f1c27d":n.value==="3"?"#c4824b":n.value==="3.5"?"#77421b":n.value==="4"?"#4b2f1e":""}),class:Q([["circle",{"freckles-1":r.value==="0","freckles-2":r.value==="1","freckles-3":r.value==="2","freckles-4":r.value==="3"}],"circle"])},[y("div",DU,[y("div",{style:at(s.value==="0"?"background-color: #E94F00;":s.value==="1.01"?"background-color: #FFFCBF;":s.value==="1.02"?"background-color: #D0BD69":s.value==="2"?"background-color: #B27D19;":s.value==="2.01"?"background-color: #A67C52;":s.value==="2.02"?"background-color: #502D15;":s.value==="3"?"background-color: #270000;":s.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4),y("div",{style:at(s.value==="0"?"background-color: #E94F00;":s.value==="1.01"?"background-color: #FFFCBF;":s.value==="1.02"?"background-color: #D0BD69":s.value==="2"?"background-color: #B27D19;":s.value==="2.01"?"background-color: #A67C52;":s.value==="2.02"?"background-color: #502D15;":s.value==="3"?"background-color: #270000;":s.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4)]),y("div",LU,[y("div",NU,[y("div",{style:at(i.value==="0"?"background-color: #6AB9FF;":i.value==="0.01"?"background-color: #B3B3B3;":i.value==="0.02"?"background-color: #5FAB6E;":i.value==="1"?"background-color: #0044C9;":i.value==="1.01"?"background-color: #666666;":i.value==="1.02"?"background-color: #006837;":i.value==="2"?"background-color: #a6650f;":i.value==="2.01"?"background-color: #754C24;":i.value==="3"?"background-color: #42210B;":i.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)]),y("div",VU,[y("div",{style:at(i.value==="0"?"background-color: #6AB9FF;":i.value==="0.01"?"background-color: #B3B3B3;":i.value==="0.02"?"background-color: #5FAB6E;":i.value==="1"?"background-color: #0044C9;":i.value==="1.01"?"background-color: #666666;":i.value==="1.02"?"background-color: #006837;":i.value==="2"?"background-color: #a6650f;":i.value==="2.01"?"background-color: #754C24;":i.value==="3"?"background-color: #42210B;":i.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)])])],6)):J("",!0),y("div",FU,[y("form",{onSubmit:sp(b,["prevent"])},[t.value===1?(I(),S("form",$U,[UU,y("div",BU,[it(y("input",{type:"radio",id:"tone1",value:"0","onUpdate:modelValue":v[1]||(v[1]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone1",class:Q(["radio-button",{selected:n.value==="0"}])},null,2),it(y("input",{type:"radio",id:"tone2",value:"1","onUpdate:modelValue":v[2]||(v[2]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone2",class:Q(["radio-button",{selected:n.value==="1"}])},null,2),it(y("input",{type:"radio",id:"tone3",value:"2","onUpdate:modelValue":v[3]||(v[3]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone3",class:Q(["radio-button",{selected:n.value==="2"}])},null,2),it(y("input",{type:"radio",id:"tone4",value:"3","onUpdate:modelValue":v[4]||(v[4]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone4",class:Q(["radio-button",{selected:n.value==="3"}])},null,2),it(y("input",{type:"radio",id:"tone5",value:"3.5","onUpdate:modelValue":v[5]||(v[5]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone5",class:Q(["radio-button",{selected:n.value==="3.5"}])},null,2),it(y("input",{type:"radio",id:"tone6",value:"4","onUpdate:modelValue":v[6]||(v[6]=w=>n.value=w)},null,512),[[ct,n.value]]),y("label",{for:"tone6",class:Q(["radio-button",{selected:n.value==="4"}])},null,2)]),y("button",{class:"next",disabled:n.value===null,onClick:v[7]||(v[7]=w=>t.value++)},"Next",8,jU)])):J("",!0),t.value===2?(I(),S("form",zU,[HU,y("div",WU,[y("div",qU,[it(y("input",{type:"radio",id:"eye1",value:"0","onUpdate:modelValue":v[8]||(v[8]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="0"},"radio-button"]),for:"eye1"},null,2),it(y("input",{type:"radio",id:"eye2",value:"0.01","onUpdate:modelValue":v[9]||(v[9]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="0.01"},"radio-button"]),for:"eye2"},null,2),it(y("input",{type:"radio",id:"eye3",value:"0.02","onUpdate:modelValue":v[10]||(v[10]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="0.02"},"radio-button"]),for:"eye3"},null,2),it(y("input",{type:"radio",id:"eye4",value:"2","onUpdate:modelValue":v[11]||(v[11]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="2"},"radio-button"]),for:"eye4"},null,2),it(y("input",{type:"radio",id:"eye5",value:"3","onUpdate:modelValue":v[12]||(v[12]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="3"},"radio-button"]),for:"eye5"},null,2)]),y("div",KU,[it(y("input",{type:"radio",id:"eye6",value:"1","onUpdate:modelValue":v[13]||(v[13]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="1"},"radio-button"]),for:"eye6"},null,2),it(y("input",{type:"radio",id:"eye7",value:"1.01","onUpdate:modelValue":v[14]||(v[14]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="1.01"},"radio-button"]),for:"eye7"},null,2),it(y("input",{type:"radio",id:"eye8",value:"1.02","onUpdate:modelValue":v[15]||(v[15]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="1.02"},"radio-button"]),for:"eye8"},null,2),it(y("input",{type:"radio",id:"eye9",value:"2.01","onUpdate:modelValue":v[16]||(v[16]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="2.01"},"radio-button"]),for:"eye9"},null,2),it(y("input",{type:"radio",id:"eye10",value:"4","onUpdate:modelValue":v[17]||(v[17]=w=>i.value=w)},null,512),[[ct,i.value]]),y("label",{class:Q([{selected:i.value==="4"},"radio-button"]),for:"eye10"},null,2)])]),y("button",{class:"next",disabled:i.value===null,onClick:v[18]||(v[18]=w=>t.value++)},"Next",8,GU)])):J("",!0),t.value===3?(I(),S("form",YU,[XU,y("div",QU,[y("div",JU,[it(y("input",{type:"radio",id:"hair1",value:"0","onUpdate:modelValue":v[19]||(v[19]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="0"},"radio-button"]),for:"hair1"},null,2),it(y("input",{type:"radio",id:"hair2",value:"1.01","onUpdate:modelValue":v[20]||(v[20]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="1.01"},"radio-button"]),for:"hair2"},null,2),it(y("input",{type:"radio",id:"hair3",value:"1.02","onUpdate:modelValue":v[21]||(v[21]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="1.02"},"radio-button"]),for:"hair3"},null,2),it(y("input",{type:"radio",id:"hair4",value:"2","onUpdate:modelValue":v[22]||(v[22]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="2"},"radio-button"]),for:"hair4"},null,2)]),y("div",ZU,[it(y("input",{type:"radio",id:"hair5",value:"2.01","onUpdate:modelValue":v[23]||(v[23]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="2.01"},"radio-button"]),for:"hair5"},null,2),it(y("input",{type:"radio",id:"hair6",value:"2.02","onUpdate:modelValue":v[24]||(v[24]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="2.02"},"radio-button"]),for:"hair6"},null,2),it(y("input",{type:"radio",id:"hair7",value:"3","onUpdate:modelValue":v[25]||(v[25]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="3"},"radio-button"]),for:"hair7"},null,2),it(y("input",{type:"radio",id:"hair8",value:"4","onUpdate:modelValue":v[26]||(v[26]=w=>s.value=w)},null,512),[[ct,s.value]]),y("label",{class:Q([{selected:s.value==="4"},"radio-button"]),for:"hair8"},null,2)])]),y("button",{class:"next",disabled:s.value===null,onClick:v[27]||(v[27]=w=>t.value++)},"Next",8,tB)])):J("",!0),t.value===4?(I(),S("form",eB,[nB,y("div",iB,[it(y("input",{type:"radio",id:"freckles1",value:"0","onUpdate:modelValue":v[28]||(v[28]=w=>r.value=w)},null,512),[[ct,r.value]]),y("label",{style:at(n.value==="0"?"background-color: #FAE9DB;":n.value==="1"?"background-color: #FADCB2;":n.value==="2"?"background-color: #DEB689;":n.value==="3"?"background-color: #A76C35;":n.value==="3.5"?"background-color: #643611;":n.value==="4"?"background-color: #3B2517;":""),class:Q([{selected:r.value==="0"},"radio-button"]),for:"freckles1"},null,6),it(y("input",{type:"radio",id:"freckles2",value:"1","onUpdate:modelValue":v[29]||(v[29]=w=>r.value=w)},null,512),[[ct,r.value]]),y("label",{style:at(n.value==="0"?"background-color: #FAE9DB;":n.value==="1"?"background-color: #FADCB2;":n.value==="2"?"background-color: #DEB689;":n.value==="3"?"background-color: #A76C35;":n.value==="3.5"?"background-color: #643611;":n.value==="4"?"background-color: #3B2517;":""),class:Q([{selected:r.value==="1"},"radio-button"]),for:"freckles2"},null,6),it(y("input",{type:"radio",id:"freckles3",value:"2","onUpdate:modelValue":v[30]||(v[30]=w=>r.value=w)},null,512),[[ct,r.value]]),y("label",{style:at(n.value==="0"?"background-color: #FAE9DB;":n.value==="1"?"background-color: #FADCB2;":n.value==="2"?"background-color: #DEB689;":n.value==="3"?"background-color: #A76C35;":n.value==="3.5"?"background-color: #643611;":n.value==="4"?"background-color: #3B2517;":""),class:Q([{selected:r.value==="2"},"radio-button"]),for:"freckles3"},null,6),it(y("input",{type:"radio",id:"freckles4",value:"3","onUpdate:modelValue":v[31]||(v[31]=w=>r.value=w)},null,512),[[ct,r.value]]),y("label",{style:at(n.value==="0"?"background-color: #FAE9DB;":n.value==="1"?"background-color: #FADCB2;":n.value==="2"?"background-color: #DEB689;":n.value==="3"?"background-color: #A76C35;":n.value==="3.5"?"background-color: #643611;":n.value==="4"?"background-color: #3B2517;":""),class:Q([{selected:r.value==="3"},"radio-button"]),for:"freckles4"},null,6),it(y("input",{type:"radio",id:"freckles5",value:"4","onUpdate:modelValue":v[32]||(v[32]=w=>r.value=w)},null,512),[[ct,r.value]]),y("label",{style:at(n.value==="0"?"background-color: #FAE9DB;":n.value==="1"?"background-color: #FADCB2;":n.value==="2"?"background-color: #DEB689;":n.value==="3"?"background-color: #A76C35;":n.value==="3.5"?"background-color: #643611;":n.value==="4"?"background-color: #3B2517;":""),class:Q([{selected:r.value==="4"},"radio-button"]),for:"freckles5"},null,6)]),y("button",{class:"next",disabled:r.value===null,onClick:v[33]||(v[33]=w=>t.value++)},"Next",8,sB)])):J("",!0),t.value===5?(I(),S("form",rB,[oB,y("div",aB,[y("input",{type:"radio",id:"0",value:"0",onClick:v[34]||(v[34]=w=>_(0))}),y("label",{class:Q([{"selected-text":o.value.includes(0)},"radio-button-text"]),for:"0"},"Severe burns",2),y("input",{type:"radio",id:"1.01",value:"0.01",onClick:v[35]||(v[35]=w=>_(.01))}),y("label",{class:Q([{"selected-text":o.value.includes(.01)},"radio-button-text"]),for:"1.01"},"Blistering",2),y("input",{type:"radio",id:"1.02",value:"0.02",onClick:v[36]||(v[36]=w=>_(.02))}),y("label",{class:Q([{"selected-text":o.value.includes(.02)},"radio-button-text"]),for:"1.02"},"Peeling",2),y("input",{type:"radio",id:"1",value:"1",onClick:v[37]||(v[37]=w=>_(1))}),y("label",{class:Q([{"selected-text":o.value.includes(1)},"radio-button-text"]),for:"1"},"Moderate burns",2),y("input",{type:"radio",id:"2",value:"2",onClick:v[38]||(v[38]=w=>_(2))}),y("label",{class:Q([{"selected-text":o.value.includes(2)},"radio-button-text"]),for:"2"},"Burns sometimes, followed by peeling",2),y("input",{type:"radio",id:"3",value:"3",onClick:v[39]||(v[39]=w=>_(3))}),y("label",{class:Q([{"selected-text":o.value.includes(3)},"radio-button-text"]),for:"3"},"Rare burns",2),y("input",{type:"radio",id:"4",value:"4",onClick:v[40]||(v[40]=w=>_(4))}),y("label",{class:Q([{"selected-text":o.value.includes(4)},"radio-button-text"]),for:"4"},"No burns",2)]),y("button",{class:"next",disabled:o.value.length===0,onClick:v[41]||(v[41]=w=>t.value++)},"Next",8,lB)])):J("",!0),t.value===6?(I(),S("form",cB,[uB,y("div",hB,[it(y("input",{type:"radio",id:"0",value:"0","onUpdate:modelValue":v[42]||(v[42]=w=>a.value=w)},null,512),[[ct,a.value]]),y("label",{class:Q([{"selected-text":a.value==="0"},"radio-button-text"]),for:"0"},"Never",2),it(y("input",{type:"radio",id:"1",value:"1","onUpdate:modelValue":v[43]||(v[43]=w=>a.value=w)},null,512),[[ct,a.value]]),y("label",{class:Q([{"selected-text":a.value==="1"},"radio-button-text"]),for:"1"},"Rarely",2),it(y("input",{type:"radio",id:"2",value:"2","onUpdate:modelValue":v[44]||(v[44]=w=>a.value=w)},null,512),[[ct,a.value]]),y("label",{class:Q([{"selected-text":a.value==="2"},"radio-button-text"]),for:"2"},"Sometimes",2),it(y("input",{type:"radio",id:"3",value:"3","onUpdate:modelValue":v[45]||(v[45]=w=>a.value=w)},null,512),[[ct,a.value]]),y("label",{class:Q([{"selected-text":a.value==="3"},"radio-button-text"]),for:"3"},"Often",2),it(y("input",{type:"radio",id:"4",value:"4","onUpdate:modelValue":v[46]||(v[46]=w=>a.value=w)},null,512),[[ct,a.value]]),y("label",{class:Q([{"selected-text":a.value==="4"},"radio-button-text"]),for:"4"},"Always",2)]),y("button",{class:"next",disabled:a.value===null,onClick:v[47]||(v[47]=w=>t.value++)},"Next",8,dB)])):J("",!0),t.value===7?(I(),S("form",fB,[pB,y("div",gB,[it(y("input",{type:"radio",id:"0",value:"0","onUpdate:modelValue":v[48]||(v[48]=w=>l.value=w)},null,512),[[ct,l.value]]),y("label",{class:Q([{"selected-text":l.value==="0"},"radio-button-text"]),for:"0"},"Hardly or not at all",2),it(y("input",{type:"radio",id:"1",value:"1","onUpdate:modelValue":v[49]||(v[49]=w=>l.value=w)},null,512),[[ct,l.value]]),y("label",{class:Q([{"selected-text":l.value==="1"},"radio-button-text"]),for:"1"},"Light tan",2),it(y("input",{type:"radio",id:"2",value:"2","onUpdate:modelValue":v[50]||(v[50]=w=>l.value=w)},null,512),[[ct,l.value]]),y("label",{class:Q([{"selected-text":l.value==="2"},"radio-button-text"]),for:"2"},"Medium tan",2),it(y("input",{type:"radio",id:"3",value:"3","onUpdate:modelValue":v[51]||(v[51]=w=>l.value=w)},null,512),[[ct,l.value]]),y("label",{class:Q([{"selected-text":l.value==="3"},"radio-button-text"]),for:"3"},"Dark tan",2),it(y("input",{type:"radio",id:"4",value:"4","onUpdate:modelValue":v[52]||(v[52]=w=>l.value=w)},null,512),[[ct,l.value]]),y("label",{class:Q([{"selected-text":l.value==="4"},"radio-button-text"]),for:"4"},"Very dark tan",2)]),y("button",{class:"next",disabled:l.value===null,onClick:v[53]||(v[53]=w=>t.value++)},"Next",8,mB)])):J("",!0),t.value===8?(I(),S("form",yB,[_B,y("div",vB,[it(y("input",{type:"radio",id:"0",value:"0","onUpdate:modelValue":v[54]||(v[54]=w=>c.value=w)},null,512),[[ct,c.value]]),y("label",{class:Q([{"selected-text":c.value==="0"},"radio-button-text"]),for:"0"},"Very sensitive",2),it(y("input",{type:"radio",id:"1",value:"1","onUpdate:modelValue":v[55]||(v[55]=w=>c.value=w)},null,512),[[ct,c.value]]),y("label",{class:Q([{"selected-text":c.value==="1"},"radio-button-text"]),for:"1"},"Sensitive",2),it(y("input",{type:"radio",id:"2",value:"2","onUpdate:modelValue":v[56]||(v[56]=w=>c.value=w)},null,512),[[ct,c.value]]),y("label",{class:Q([{"selected-text":c.value==="2"},"radio-button-text"]),for:"2"},"Mildly sensitive",2),it(y("input",{type:"radio",id:"3",value:"3","onUpdate:modelValue":v[57]||(v[57]=w=>c.value=w)},null,512),[[ct,c.value]]),y("label",{class:Q([{"selected-text":c.value==="3"},"radio-button-text"]),for:"3"},"Resistant",2),it(y("input",{type:"radio",id:"4",value:"4","onUpdate:modelValue":v[58]||(v[58]=w=>c.value=w)},null,512),[[ct,c.value]]),y("label",{class:Q([{"selected-text":c.value==="4"},"radio-button-text"]),for:"4"},"Very resistant",2)]),y("button",{class:"next",disabled:c.value===null,onClick:v[59]||(v[59]=w=>t.value++)},"Next",8,bB)])):J("",!0),t.value===9?(I(),S("form",wB,[xB,y("div",EB,[it(y("input",{type:"radio",id:"0",value:"0","onUpdate:modelValue":v[60]||(v[60]=w=>u.value=w)},null,512),[[ct,u.value]]),y("label",{class:Q([{"selected-text":u.value==="0"},"radio-button-text"]),for:"0"},"Never",2),it(y("input",{type:"radio",id:"1",value:"1","onUpdate:modelValue":v[61]||(v[61]=w=>u.value=w)},null,512),[[ct,u.value]]),y("label",{class:Q([{"selected-text":u.value==="1"},"radio-button-text"]),for:"1"},"Rarely",2),it(y("input",{type:"radio",id:"2",value:"2","onUpdate:modelValue":v[62]||(v[62]=w=>u.value=w)},null,512),[[ct,u.value]]),y("label",{class:Q([{"selected-text":u.value==="2"},"radio-button-text"]),for:"2"},"Sometimes",2),it(y("input",{type:"radio",id:"3",value:"3","onUpdate:modelValue":v[63]||(v[63]=w=>u.value=w)},null,512),[[ct,u.value]]),y("label",{class:Q([{"selected-text":u.value==="3"},"radio-button-text"]),for:"3"},"Often",2),it(y("input",{type:"radio",id:"4",value:"4","onUpdate:modelValue":v[64]||(v[64]=w=>u.value=w)},null,512),[[ct,u.value]]),y("label",{class:Q([{"selected-text":u.value==="4"},"radio-button-text"]),for:"4"},"Always",2)]),y("button",{class:"next",disabled:u.value===null,onClick:v[65]||(v[65]=w=>t.value++)},"Next",8,TB)])):J("",!0),t.value===10?(I(),S("form",kB,[IB,y("div",SB,[it(y("input",{type:"radio",id:"0",value:"0","onUpdate:modelValue":v[66]||(v[66]=w=>h.value=w)},null,512),[[ct,h.value]]),y("label",{class:Q([{"selected-text":h.value==="0"},"radio-button-text"]),for:"0"},"More than three months ago",2),it(y("input",{type:"radio",id:"1",value:"1","onUpdate:modelValue":v[67]||(v[67]=w=>h.value=w)},null,512),[[ct,h.value]]),y("label",{class:Q([{"selected-text":h.value==="1"},"radio-button-text"]),for:"1"},"In the last 2-3 months",2),it(y("input",{type:"radio",id:"2",value:"2","onUpdate:modelValue":v[68]||(v[68]=w=>h.value=w)},null,512),[[ct,h.value]]),y("label",{class:Q([{"selected-text":h.value==="2"},"radio-button-text"]),for:"2"},"In the last 1-2 months",2),it(y("input",{type:"radio",id:"3",value:"3","onUpdate:modelValue":v[69]||(v[69]=w=>h.value=w)},null,512),[[ct,h.value]]),y("label",{class:Q([{"selected-text":h.value==="3"},"radio-button-text"]),for:"3"},"In the last week",2),it(y("input",{type:"radio",id:"4",value:"4","onUpdate:modelValue":v[70]||(v[70]=w=>h.value=w)},null,512),[[ct,h.value]]),y("label",{class:Q([{"selected-text":h.value==="4"},"radio-button-text"]),for:"4"},"In the last day",2)]),y("button",{class:"next",disabled:h.value===null,onClick:v[71]||(v[71]=w=>m())},"Next",8,AB)])):J("",!0),t.value>10||t.value==0&&g.value?(I(),S("div",PB,[y("h4",null,[y("strong",null,"Skin type "+ot(g.value),1)]),CB,y("p",null,ot(g.value===1?"Extremely sensitive skin, always burns, never tans":g.value===2?"Very sensitive skin, burns easily, tans minimally":g.value===3?"Sensitive skin, sometimes burns, slowly tans to light brown":g.value===4?"Mildly sensitive, burns minimally, always tans to moderate brown":g.value===5?"Resistant skin, rarely burns, tans well":"Very resistant skin, never burns, deeply pigmented"),1)])):J("",!0)],32),y("div",null,[t.value>10?(I(),S("button",{key:0,class:"change-skin-type",onClick:v[72]||(v[72]=w=>b())},"Save")):J("",!0),f.value&&t.value==0?(I(),S("button",{key:1,class:"change-skin-type",onClick:v[73]||(v[73]=w=>t.value=1)}," Change skin type ")):J("",!0),!f.value&&t.value==0?(I(),S("button",{key:2,class:"change-skin-type",onClick:v[74]||(v[74]=w=>t.value=1)},"Start ")):J("",!0)])])]),f.value?(I(),np(Sn,{key:0})):J("",!0)],64))}},MB=qt(RB,[["__scopeId","data-v-aff74538"]]),OB=e=>(We("data-v-ce39de14"),e=e(),qe(),e),DB={class:"pos-eyebrows"},LB={class:"pos-eyes"},NB={class:"eye"},VB={class:"eye"},FB={key:1},$B=OB(()=>y("span",{class:"material-symbols-outlined"}," face ",-1)),UB=[$B],BB={__name:"BigFace",setup(e){const t=V(null),n=V(null),i=V(null),s=V(null),r=ze(),o=V(null),a=V(null);return gn(()=>{Oi(r,async l=>{var u,h,d,f,p;a.value=l;const c=l==null?void 0:l.uid;if(c){const g=cs(ps,"users",c),_=await ar(g),m=(u=_.data())==null?void 0:u.skinType;o.value=m!==void 0,t.value=o.value?m:null;const b=(h=_.data())==null?void 0:h.skinTone;t.value=b!==void 0?b:"";const x=(d=_.data())==null?void 0:d.eyeColor;n.value=x!==void 0?x:"";const v=(f=_.data())==null?void 0:f.hairColor;i.value=v!==void 0?v:"";const w=(p=_.data())==null?void 0:p.freckles;s.value=w!==void 0?w:""}})}),(l,c)=>t.value?(I(),S("div",{key:0,style:at({"background-color":t.value==="0"?"#FAE9DB":t.value==="1"?"#FADCB2":t.value==="2"?"#f1c27d":t.value==="3"?"#c4824b":t.value==="3.5"?"#77421b":t.value==="4"?"#4b2f1e":""}),class:Q([["circle",{"freckles-1":s.value==="0","freckles-2":s.value==="1","freckles-3":s.value==="2","freckles-4":s.value==="3"}],"circle"])},[y("div",DB,[y("div",{style:at(i.value==="0"?"background-color: #E94F00;":i.value==="1.01"?"background-color: #FFFCBF;":i.value==="1.02"?"background-color: #D0BD69":i.value==="2"?"background-color: #B27D19;":i.value==="2.01"?"background-color: #A67C52;":i.value==="2.02"?"background-color: #502D15;":i.value==="3"?"background-color: #270000;":i.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4),y("div",{style:at(i.value==="0"?"background-color: #E94F00;":i.value==="1.01"?"background-color: #FFFCBF;":i.value==="1.02"?"background-color: #D0BD69":i.value==="2"?"background-color: #B27D19;":i.value==="2.01"?"background-color: #A67C52;":i.value==="2.02"?"background-color: #502D15;":i.value==="3"?"background-color: #270000;":i.value==="4"?"background-color: #000000;":""),class:"eyebrows"},null,4)]),y("div",LB,[y("div",NB,[y("div",{style:at(n.value==="0"?"background-color: #6AB9FF;":n.value==="0.01"?"background-color: #B3B3B3;":n.value==="0.02"?"background-color: #5FAB6E;":n.value==="1"?"background-color: #0044C9;":n.value==="1.01"?"background-color: #666666;":n.value==="1.02"?"background-color: #006837;":n.value==="2"?"background-color: #a6650f;":n.value==="2.01"?"background-color: #754C24;":n.value==="3"?"background-color: #42210B;":n.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)]),y("div",VB,[y("div",{style:at(n.value==="0"?"background-color: #6AB9FF;":n.value==="0.01"?"background-color: #B3B3B3;":n.value==="0.02"?"background-color: #5FAB6E;":n.value==="1"?"background-color: #0044C9;":n.value==="1.01"?"background-color: #666666;":n.value==="1.02"?"background-color: #006837;":n.value==="2"?"background-color: #a6650f;":n.value==="2.01"?"background-color: #754C24;":n.value==="3"?"background-color: #42210B;":n.value==="4"?"background-color: #150000;":""),class:"pupil"},null,4)])])],6)):(I(),S("div",FB,UB))}},i2=qt(BB,[["__scopeId","data-v-ce39de14"]]),ph=e=>(We("data-v-bb2e901a"),e=e(),qe(),e),jB=ph(()=>y("div",{class:"bg"},null,-1)),zB=ph(()=>y("div",{class:"fade"},null,-1)),HB={class:"column"},WB={class:"title"},qB=ph(()=>y("span",{class:"material-symbols-outlined big"}," arrow_back ",-1)),KB={class:"container"},GB=ph(()=>y("h3",null,"Understand your skin type",-1)),YB=["innerHTML"],XB={__name:"SkinTypeInformation",setup(e){const t=ze(),n=V(null),i=V(null),s=V(null),r=V(null);return gn(()=>{Oi(t,async o=>{var l;i.value=o;const a=o==null?void 0:o.uid;if(a){const c=cs(ps,"users",a),h=(l=(await ar(c)).data())==null?void 0:l.skinType;n.value=h!==void 0,s.value=n.value?h:null}s.value===1?r.value=`<p>
    Skin type 1 is often referred to as "very fair" or "pale." If you have skin type 1, you likely burn easily in the sun. Your skin may be very sensitive to sunlight and can quickly turn red or sunburned when exposed to UV rays.
    <br><br>
    It's essential to protect your skin by wearing sunscreen with a high SPF (sun protection factor) every day, especially when spending time outdoors.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Additionally, consider wearing protective clothing, such as hats, sunglasses, and long-sleeved shirts, to shield your skin from direct sunlight. Avoid prolonged sun exposure, especially during peak hours when the sun's rays are strongest, typically between 10 a.m. and 4 p.m.
    <br><br>
    Taking good care of your skin now will help prevent sun damage, premature aging, and reduce your risk of skin cancer in the future. Embrace your fair skin and keep it healthy and protected for years to come !
  </p>`:s.value===2?r.value=`<p>
    Skin type 2 is often described as "fair" or "light." If you have skin type 2, you may also burn easily in the sun, but you may tan slightly after repeated sun exposure.
    <br><br>
    While your skin may have some natural protection against the sun, it's still essential to take precautions to prevent sunburns and long-term sun damage. Use sunscreen with a moderate to high SPF every day, especially when spending time outdoors.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Consider wearing protective clothing and seeking shade during peak sun hours to minimize sun exposure. Even though you may tan slightly, it's crucial to protect your skin to maintain its health and prevent premature aging and skin cancer.
    <br><br>
    Embrace your natural skin tone and keep it healthy and protected for years to come !
  </p>`:s.value===3?r.value=`<p>
    Skin type 3 is often categorized as "medium" or "olive." If you have skin type 3, you may tan easily in the sun and rarely burn.
    <br><br>
    While your skin has some natural protection against the sun, it's still important to use sunscreen with a moderate SPF to prevent sun damage and reduce your risk of skin cancer.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Although you may tan easily, it's essential to protect your skin from excessive sun exposure to maintain its health and prevent premature aging and skin cancer.
    <br><br>
    Enjoy your ability to tan, but remember to prioritize sun protection for long-term skin health and overall well-being !
  </p>`:s.value===4?r.value=`<p>
    Skin type 4 is often described as "moderately pigmented" or "light brown." If you have skin type 4, you likely tan easily and rarely burn in the sun.
    <br><br>
    While your skin has a higher level of natural protection against the sun compared to lighter skin types, it's still important to use sunscreen with a moderate or low SPF to prevent sun damage and reduce your risk of skin cancer.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Even though you tan easily, prolonged sun exposure can still cause long-term damage to your skin and increase your risk of premature aging and skin cancer. Practice sun safety by seeking shade, wearing protective clothing, and avoiding peak sun hours whenever possible.
    <br><br>
    Embrace your beautifully pigmented skin, but always prioritize its health and protection !
  </p>`:s.value===5?r.value=`<p>
    Skin type 5 is commonly referred to as "dark brown" or "brown." If you have skin type 5, you likely have a naturally dark complexion and rarely burn in the sun.
    <br><br>
    While your skin has a high level of natural protection against the sun, it's still important to use sunscreen with a moderate or low SPF to prevent sun damage and reduce your risk of skin cancer.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Despite having a darker complexion, sun exposure can still cause damage to your skin and increase your risk of premature aging and skin cancer. Practice sun safety by seeking shade, wearing protective clothing, and avoiding prolonged exposure during peak sun hours.
    <br><br>
    Celebrate your beautiful dark skin, but always prioritize its health and protection !
  </p>`:s.value===6&&(r.value=`<p>
    Skin type 6 is often categorized as "deeply pigmented" or "black." If you have skin type 6, you likely have a very dark complexion and rarely or never burn in the sun.
    <br><br>
    While your skin has the highest level of natural protection against the sun, it's still important to use sunscreen with a moderate or low SPF to prevent sun damage and reduce your risk of skin cancer.
    <em style="font-weight: bold;">Remember to reapply it every 2.5 hours  and after swimming or sweating.</em>
    <br><br>
    Even though you have the darkest complexion, sun exposure can still cause damage to your skin and increase your risk of premature aging and skin cancer. Practice sun safety by seeking shade, wearing protective clothing, and avoiding prolonged exposure during peak sun hours.
    <br><br>
    Embrace your deeply pigmented skin and take pride in its beauty, while always prioritizing its health and protection !
  </p>`)})}),(o,a)=>{const l=Ee("router-link");return I(),S("main",null,[jB,zB,y("div",HB,[Z(l,{to:"info"},{default:ye(()=>[y("div",WB,[y("h1",null,[qB,bt(" Skin type "+ot(s.value),1)])])]),_:1}),y("div",KB,[Z(i2,{class:"center"}),GB,y("div",{class:"explanation",innerHTML:r.value},null,8,YB)])]),Z(Sn)])}}},QB=qt(XB,[["__scopeId","data-v-bb2e901a"]]),s2="@firebase/installations",Gg="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e4,o2=`w:${Gg}`,a2="FIS_v2",JB="https://firebaseinstallations.googleapis.com/v1",ZB=60*60*1e3,tj="installations",ej="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tr=new nr(tj,ej,nj);function l2(e){return e instanceof ci&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2({projectId:e}){return`${JB}/projects/${e}/installations`}function u2(e){return{token:e.token,requestStatus:2,expiresIn:sj(e.expiresIn),creationTime:Date.now()}}async function h2(e,t){const i=(await t.json()).error;return tr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function d2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ij(e,{refreshToken:t}){const n=d2(e);return n.append("Authorization",rj(t)),n}async function f2(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sj(e){return Number(e.replace("s","000"))}function rj(e){return`${a2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=c2(e),s=d2(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:a2,appId:e.appId,sdkVersion:o2},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await f2(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:u2(c.authToken)}}else throw await h2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^[cdef][\w-]{21}$/,Uf="";function cj(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=uj(e);return lj.test(n)?n:Uf}catch{return Uf}}function uj(e){return aj(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function m2(e,t){const n=gh(e);y2(n,t),hj(n,t)}function y2(e,t){const n=g2.get(e);if(n)for(const i of n)i(t)}function hj(e,t){const n=dj();n&&n.postMessage({key:e,fid:t}),fj()}let Fs=null;function dj(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=e=>{y2(e.data.key,e.data.fid)}),Fs}function fj(){g2.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebase-installations-database",gj=1,er="firebase-installations-store";let dd=null;function Yg(){return dd||(dd=Tu(pj,gj,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(er)}}})),dd}async function ou(e,t){const n=gh(e),s=(await Yg()).transaction(er,"readwrite"),r=s.objectStore(er),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&m2(e,t.fid),t}async function _2(e){const t=gh(e),i=(await Yg()).transaction(er,"readwrite");await i.objectStore(er).delete(t),await i.done}async function mh(e,t){const n=gh(e),s=(await Yg()).transaction(er,"readwrite"),r=s.objectStore(er),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&m2(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(e){let t;const n=await mh(e.appConfig,i=>{const s=mj(i),r=yj(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===Uf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function mj(e){const t=e||{fid:cj(),registrationStatus:0};return v2(t)}function yj(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(tr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=_j(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vj(e)}:{installationEntry:t}}async function _j(e,t){try{const n=await oj(e,t);return ou(e.appConfig,n)}catch(n){throw l2(n)&&n.customData.serverCode===409?await _2(e.appConfig):await ou(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function vj(e){let t=await Ev(e.appConfig);for(;t.registrationStatus===1;)await p2(100),t=await Ev(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Xg(e);return i||n}return t}function Ev(e){return mh(e,t=>{if(!t)throw tr.create("installation-not-found");return v2(t)})}function v2(e){return bj(e)?{fid:e.fid,registrationStatus:0}:e}function bj(e){return e.registrationStatus===1&&e.registrationTime+r2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj({appConfig:e,heartbeatServiceProvider:t},n){const i=xj(e,n),s=ij(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:o2,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await f2(()=>fetch(i,a));if(l.ok){const c=await l.json();return u2(c)}else throw await h2("Generate Auth Token",l)}function xj(e,{fid:t}){return`${c2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(e,t=!1){let n;const i=await mh(e.appConfig,r=>{if(!b2(r))throw tr.create("not-registered");const o=r.authToken;if(!t&&kj(o))return r;if(o.requestStatus===1)return n=Ej(e,t),r;{if(!navigator.onLine)throw tr.create("app-offline");const a=Sj(r);return n=Tj(e,a),a}});return n?await n:i.authToken}async function Ej(e,t){let n=await Tv(e.appConfig);for(;n.authToken.requestStatus===1;)await p2(100),n=await Tv(e.appConfig);const i=n.authToken;return i.requestStatus===0?Qg(e,t):i}function Tv(e){return mh(e,t=>{if(!b2(t))throw tr.create("not-registered");const n=t.authToken;return Aj(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Tj(e,t){try{const n=await wj(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await ou(e.appConfig,i),n}catch(n){if(l2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _2(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ou(e.appConfig,i)}throw n}}function b2(e){return e!==void 0&&e.registrationStatus===2}function kj(e){return e.requestStatus===2&&!Ij(e)}function Ij(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ZB}function Sj(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Aj(e){return e.requestStatus===1&&e.requestTime+r2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(e){const t=e,{installationEntry:n,registrationPromise:i}=await Xg(t);return i?i.catch(console.error):Qg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(e,t=!1){const n=e;return await Rj(n),(await Qg(n,t)).token}async function Rj(e){const{registrationPromise:t}=await Xg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(e){if(!e||!e.options)throw fd("App Configuration");if(!e.name)throw fd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw fd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function fd(e){return tr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="installations",Oj="installations-internal",Dj=e=>{const t=e.getProvider("app").getImmediate(),n=Mj(t),i=Zr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Lj=e=>{const t=e.getProvider("app").getImmediate(),n=Zr(t,w2).getImmediate();return{getId:()=>Pj(n),getToken:s=>Cj(n,s)}};function Nj(){ri(new Vn(w2,Dj,"PUBLIC")),ri(new Vn(Oj,Lj,"PRIVATE"))}Nj();kn(s2,Gg);kn(s2,Gg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="/firebase-messaging-sw.js",Fj="/firebase-cloud-messaging-push-scope",x2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$j="https://fcmregistrations.googleapis.com/v1",E2="google.c.a.c_id",Uj="google.c.a.c_l",Bj="google.c.a.ts",jj="google.c.a.e";var kv;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(kv||(kv={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Na;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Na||(Na={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zj(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="fcm_token_details_db",Hj=5,Iv="fcm_token_object_Store";async function Wj(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(r=>r.name).includes(pd))return null;let t=null;return(await Tu(pd,Hj,{upgrade:async(i,s,r,o)=>{var a;if(s<2||!i.objectStoreNames.contains(Iv))return;const l=o.objectStore(Iv),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:pi(u.vapidKey)}}}else if(s===3){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:pi(u.auth),p256dh:pi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:pi(u.vapidKey)}}}else if(s===4){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:pi(u.auth),p256dh:pi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:pi(u.vapidKey)}}}}}})).close(),await Oh(pd),await Oh("fcm_vapid_details_db"),await Oh("undefined"),qj(t)?t:null}function qj(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-messaging-database",Gj=1,Va="firebase-messaging-store";let gd=null;function T2(){return gd||(gd=Tu(Kj,Gj,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Va)}}})),gd}async function Yj(e){const t=k2(e),i=await(await T2()).transaction(Va).objectStore(Va).get(t);if(i)return i;{const s=await Wj(e.appConfig.senderId);if(s)return await Jg(e,s),s}}async function Jg(e,t){const n=k2(e),s=(await T2()).transaction(Va,"readwrite");return await s.objectStore(Va).put(t,n),await s.done,t}function k2({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ze=new nr("messaging","Messaging",Xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(e,t){const n=await tm(e),i=I2(t),s={method:"POST",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(Zg(e.appConfig),s)).json()}catch(o){throw Ze.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Ze.create("token-subscribe-failed",{errorInfo:o})}if(!r.token)throw Ze.create("token-subscribe-no-token");return r.token}async function Jj(e,t){const n=await tm(e),i=I2(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(i)};let r;try{r=await(await fetch(`${Zg(e.appConfig)}/${t.token}`,s)).json()}catch(o){throw Ze.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(r.error){const o=r.error.message;throw Ze.create("token-update-failed",{errorInfo:o})}if(!r.token)throw Ze.create("token-update-no-token");return r.token}async function Zj(e,t){const i={method:"DELETE",headers:await tm(e)};try{const r=await(await fetch(`${Zg(e.appConfig)}/${t}`,i)).json();if(r.error){const o=r.error.message;throw Ze.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Ze.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Zg({projectId:e}){return`${$j}/projects/${e}/registrations`}async function tm({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function I2({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const s={web:{endpoint:n,auth:t,p256dh:e}};return i!==x2&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=7*24*60*60*1e3;async function e7(e){const t=await i7(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:pi(t.getKey("auth")),p256dh:pi(t.getKey("p256dh"))},i=await Yj(e.firebaseDependencies);if(i){if(s7(i.subscriptionOptions,n))return Date.now()>=i.createTime+t7?n7(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await Zj(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return Sv(e.firebaseDependencies,n)}else return Sv(e.firebaseDependencies,n)}async function n7(e,t){try{const n=await Jj(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Jg(e.firebaseDependencies,i),n}catch(n){throw n}}async function Sv(e,t){const i={token:await Qj(e,t),createTime:Date.now(),subscriptionOptions:t};return await Jg(e,i),i.token}async function i7(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zj(t)})}function s7(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,s=t.auth===e.auth,r=t.p256dh===e.p256dh;return n&&i&&s&&r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return r7(t,e),o7(t,e),a7(t,e),t}function r7(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const s=t.notification.image;s&&(e.notification.image=s);const r=t.notification.icon;r&&(e.notification.icon=r)}function o7(e,t){t.data&&(e.data=t.data)}function a7(e,t){var n,i,s,r,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const a=(s=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&s!==void 0?s:(r=t.notification)===null||r===void 0?void 0:r.click_action;a&&(e.fcmOptions.link=a);const l=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(e){return typeof e=="object"&&!!e&&E2 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */S2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");S2("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function S2(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(e){if(!e||!e.options)throw md("App Configuration Object");if(!e.name)throw md("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw md(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function md(e){return Ze.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=c7(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(e){try{e.swRegistration=await navigator.serviceWorker.register(Vj,{scope:Fj}),e.swRegistration.update().catch(()=>{})}catch(t){throw Ze.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(e,t){if(!t&&!e.swRegistration&&await h7(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ze.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=x2)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(e,t){if(!navigator)throw Ze.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ze.create("permission-blocked");return await f7(e,t==null?void 0:t.vapidKey),await d7(e,t==null?void 0:t.serviceWorkerRegistration),e7(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(e,t,n){const i=g7(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[E2],message_name:n[Uj],message_time:n[Bj],message_device_time:Math.floor(Date.now()/1e3)})}function g7(e){switch(e){case Na.NOTIFICATION_CLICKED:return"notification_open";case Na.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Na.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Av(n)):e.onMessageHandler.next(Av(n)));const i=n.data;l7(i)&&i[jj]==="1"&&await p7(e,n.messageType,i)}const Pv="@firebase/messaging",Cv="0.12.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=e=>{const t=new u7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>m7(t,n)),t},_7=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>A2(t,i)}};function v7(){ri(new Vn("messaging",y7,"PUBLIC")),ri(new Vn("messaging-internal",_7,"PRIVATE")),kn(Pv,Cv),kn(Pv,Cv,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(){try{await cw()}catch{return!1}return typeof window<"u"&&lw()&&OA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(e=hp()){return b7().then(t=>{if(!t)throw Ze.create("unsupported-browser")},t=>{throw Ze.create("indexed-db-unsupported")}),Zr(un(e),"messaging").getImmediate()}async function tq(e,t){return e=un(e),A2(e,t)}v7();const w7={__name:"Timer",props:["currentPlace"],setup(e){return(t,n)=>(I(),S(Jt,null,[Z(fh,{currentPlace:e.currentPlace},null,8,["currentPlace"]),Z(Sn)],64))}},P2="/assets/danger-8wovY2YR.svg",em=e=>(We("data-v-cb5810c8"),e=e(),qe(),e),x7=em(()=>y("div",{class:"bg"},null,-1)),E7=em(()=>y("div",{class:"fade"},null,-1)),T7={class:"column"},k7=em(()=>y("div",{class:"title"},[y("h1",null,[y("span",{class:"material-symbols-outlined big"}," arrow_back "),bt(" Tanning dangers")])],-1)),I7=mu('<div class="container" data-v-cb5810c8><div class="img" data-v-cb5810c8><img src="'+P2+'" data-v-cb5810c8></div><h3 data-v-cb5810c8>The dangers of tanning</h3><div class="explanation" data-v-cb5810c8><p data-v-cb5810c8>Let&#39;s take a moment to delve into the realities of tanning. Before you embark on a quest for that sun-kissed glow, it&#39;s crucial to understand the potential dangers involved .</p><br data-v-cb5810c8><ol data-v-cb5810c8><li data-v-cb5810c8><strong style="font-weight:bold;" data-v-cb5810c8>Skin Cancer Hazard:</strong> Tanning, whether under the sun or in a tanning bed, exposes your skin to harmful UV rays. These rays can damage your skin cells, significantly increasing the risk of developing skin cancer, including melanoma, the deadliest form. <em data-v-cb5810c8>Research shows that five sunburns increase the risk of skin cancer by 80%. However, even without a sunburn and without sunscreen use, the skin is still being damaged.</em></li><br data-v-cb5810c8><li data-v-cb5810c8><strong style="font-weight:bold;" data-v-cb5810c8>Premature Aging Consequences:</strong> Tanning accelerates the aging process of your skin. Prolonged exposure to UV rays can lead to wrinkles, fine lines, age spots, and a loss of skin elasticity, prematurely aging your appearance.</li><br data-v-cb5810c8><li data-v-cb5810c8><strong style="font-weight:bold;" data-v-cb5810c8>Sunburn and its Implications:</strong> Sunburn is not only painful but also indicative of significant skin damage. Beyond the immediate discomfort, repeated sunburns heighten the risk of skin cancer development later in life.</li><br data-v-cb5810c8><li data-v-cb5810c8><strong style="font-weight:bold;" data-v-cb5810c8>Eye Health Concerns:</strong> UV radiation poses a threat not only to your skin but also to your eyes. Prolonged exposure can contribute to various eye conditions, including cataracts and ocular melanoma.</li><br data-v-cb5810c8></ol><em style="opacity:.8;" data-v-cb5810c8><p data-v-cb5810c8>In light of these risks, it&#39;s essential to prioritize skin protection:</p><ul data-v-cb5810c8><li data-v-cb5810c8>Always apply sunscreen before heading outdoors.</li><li data-v-cb5810c8>Seek shade, especially when the UVI is high, normally during peak sun hours between 10 a.m. and 4 p.m.</li><li data-v-cb5810c8>Refrain from using tanning beds, as they emit harmful UV radiation.</li><li data-v-cb5810c8>Embrace and care for your natural skin tone, avoiding unnecessary sun exposure.</li></ul></em><br data-v-cb5810c8><p data-v-cb5810c8>By making informed choices and prioritizing skin health, you can enjoy the sun safely while minimizing the risks associated with tanning. </p></div></div>',1),S7={__name:"DangersInfo",setup(e){return(t,n)=>{const i=Ee("router-link");return I(),S("main",null,[x7,E7,y("div",T7,[Z(i,{to:"info"},{default:ye(()=>[k7]),_:1}),I7]),Z(Sn)])}}},A7=qt(S7,[["__scopeId","data-v-cb5810c8"]]),C2=e=>(We("data-v-b24d900d"),e=e(),qe(),e),P7={key:0,class:"weather"},C7={class:"location"},R7={class:"date"},M7={class:"temp"},O7={class:"condition-text"},D7=C2(()=>y("div",{class:"pos-icon"},null,-1)),L7={class:"current"},N7=C2(()=>y("button",null,[y("span",{class:"button-text"},"Current location"),y("span",{style:{color:"white",position:"relative",top:"-4px",left:"4px","font-weight":"800","font-size":"14px"},class:"icon-current material-symbols-outlined"}," location_on ")],-1)),V7={__name:"Weather-component-weather",props:["places"],setup(e){const t=n=>new Date(n).toLocaleDateString(void 0,{month:"long",year:"numeric",day:"numeric"});return(n,i)=>e.places.location?(I(),S("div",P7,[y("p",C7,[y("strong",null,ot(e.places.location.name),1),bt(),y("p",null,ot(e.places.location.country),1)]),y("p",R7,ot(new Date(e.places.location.localtime).getHours())+":"+ot(new Date(e.places.location.localtime).getMinutes())+", "+ot(t(e.places.location.localtime)),1),y("p",M7,ot(Math.round(e.places.current.temp_c))+"",1),y("p",O7,ot(e.places.current.condition.text),1),D7,y("div",L7,[Z(Xe(vg),{style:{color:"#676767"},to:"/home"},{default:ye(()=>[N7]),_:1})])])):J("",!0)}},F7=qt(V7,[["__scopeId","data-v-b24d900d"]]),$7={class:"pos-uv"},U7={key:0,class:"uv-header"},B7={class:"uv"},j7={class:"uv-index"},z7={key:0,class:"uv-level"},H7={key:1,class:"uv-level"},W7={key:2,class:"uv-level"},q7={key:3,class:"uv-level"},K7={key:4,class:"uv-level"},G7={key:0,class:"uv-advice"},Y7={key:1,class:"uv-advice"},X7={key:2,class:"uv-advice"},Q7={__name:"Uv-header-weather",props:["places"],setup(e){return(t,n)=>(I(),S("div",$7,[e.places.location?(I(),S("div",U7,[y("div",B7,[y("p",j7,"UVI "+ot(e.places.current.uv-1),1),y("div",null,[e.places.current.uv-1<=2?(I(),S("p",z7,"Low")):e.places.current.uv-1>2&&e.places.current.uv-1<=5?(I(),S("p",H7,"Moderate")):e.places.current.uv-1>5&&e.places.current.uv-1<=7?(I(),S("p",W7,"High")):e.places.current.uv-1>7&&e.places.current.uv-1<=10?(I(),S("p",q7,"Very High")):(I(),S("p",K7,"Extreme High"))]),y("div",null,[e.places.current.uv-1<=2?(I(),S("p",G7,"No protection required")):e.places.current.uv-1>2&&e.places.current.uv-1<=7?(I(),S("p",Y7,"Protection required")):(I(),S("p",X7,"Extra protection required"))])])])):J("",!0)]))}},J7=qt(Q7,[["__scopeId","data-v-322df4bc"]]),Z7={key:0,class:"pos-icon"},tz={key:0,src:wE},ez={key:1,src:xE},nz={key:2,src:EE},iz={key:3,src:TE},sz={key:4,src:kE},rz={key:5,src:IE},oz={key:6,src:SE},az={key:7,src:AE},lz={key:8,src:PE},cz={__name:"Weather-icon-weather",props:["places"],setup(e){return(t,n)=>e.places.current?(I(),S("div",Z7,[e.places.current.condition.text=="Overcast"||e.places.current.condition.text=="Cloudy"||e.places.current.condition.text=="Mist"?(I(),S("img",tz)):e.places.current.condition.text=="Sunny"?(I(),S("img",ez)):e.places.current.condition.text=="Partly cloudy"||e.places.current.condition.text=="Partly cloudy "||e.places.current.condition.text=="Patchy rain possible"||e.places.current.condition.text=="Patchy snow possible"||e.places.current.condition.text=="Patchy sleet possible"?(I(),S("img",nz)):e.places.current.condition.text=="Clear"?(I(),S("img",iz)):e.places.current.condition.text=="Patchy freezing drizzle possible"||e.places.current.condition.text=="Blowing snow"||e.places.current.condition.text=="Blizzard"||e.places.current.condition.text=="Freezing drizzle"||e.places.current.condition.text=="Heavy freezing drizzle"||e.places.current.condition.text=="Light freezing rain"||e.places.current.condition.text=="Moderate or heavy freezing rain"||e.places.current.condition.text=="Light sleet"||e.places.current.condition.text=="Moderate or heavy sleet"||e.places.current.condition.text=="Patchy light snow"||e.places.current.condition.text=="Light snow"||e.places.current.condition.text=="Patchy moderate snow"||e.places.current.condition.text=="Moderate snow"||e.places.current.condition.text=="Patchy heavy snow"||e.places.current.condition.text=="Heavy snow"||e.places.current.condition.text=="Ice pellets"||e.places.current.condition.text=="Light sleet showers"||e.places.current.condition.text=="Moderate or heavy sleet showers"||e.places.current.condition.text=="Moderate or heavy snow showers"||e.places.current.condition.text=="Light snow showers"||e.places.current.condition.text=="Light showers of ice pellets"||e.places.current.condition.text=="Moderate or heavy showers of ice pellets"||e.places.current.condition.text=="Patchy sleet possible"?(I(),S("img",sz)):e.places.current.condition.text=="Light drizzle"||e.places.current.condition.text=="Light drizzle"||e.places.current.condition.text=="Light rain"||e.places.current.condition.text=="Heavy rain"||e.places.current.condition.text=="Light rain shower"||e.places.current.condition.text=="Moderate or heavy rain shower"||e.places.current.condition.text=="Torrential rain shower"||e.places.current.condition.text=="Patchy rain nearby"||e.places.current.condition.text=="Moderate rain"?(I(),S("img",rz)):e.places.current.condition.text=="Patchy light drizzle"||e.places.current.condition.text=="Patchy light rain"||e.places.current.condition.text=="Moderate rain at times"||e.places.current.condition.text=="Patchy rain nearby"||e.places.current.condition.text=="Heavy rain at times"?(I(),S("img",oz)):e.places.current.condition.text=="Patchy light rain with thunder"||e.places.current.condition.text=="Moderate or heavy rain with thunder"||e.places.current.condition.text=="Patchy light snow with thunder"||e.places.current.condition.text=="Moderate or heavy snow with thunder"?(I(),S("img",az)):e.places.current.condition.text=="Thundery outbreaks possible"?(I(),S("img",lz)):J("",!0)])):J("",!0)}},uz=qt(cz,[["__scopeId","data-v-d1dfe171"]]),hz={components:{NavHeader:Sn,WeatherIconWeather:uz,UvHeaderWeather:J7,WeatherComponentWeather:F7},props:{places:Object}};function dz(e,t,n,i,s,r){const o=Ee("weather-icon-weather"),a=Ee("weather-component-weather"),l=Ee("uv-header-weather");return I(),S("header",null,[Z(o,{places:n.places,class:"weather-icon"},null,8,["places"]),Z(a,{style:{"z-index":"3",position:"relative"},places:n.places},null,8,["places"]),Z(l,{places:n.places,style:{"z-index":"3",position:"relative","margin-top":"-238px"}},null,8,["places"])])}const fz=qt(hz,[["render",dz],["__scopeId","data-v-871c2577"]]),pz={key:0},gz={class:"uv-text"},mz={class:"time"},yz={class:"canvas-box"},_z=["height"],vz=mu('<label class="extreme" data-v-ef0fa084>Extreme</label><label class="very-high" data-v-ef0fa084>Very high</label><label class="high" data-v-ef0fa084>High</label><label class="moderate" data-v-ef0fa084>Moderate</label><label class="low" data-v-ef0fa084>Low</label>',5),bz={class:"time"},wz={__name:"Uv-graph-weather",props:["places"],setup(e){Qe.register(WT);const t=e,n=V([]),i=V(null),s=V(null),r=V(null),o=V(null),a=V(260),l=async()=>{var h,d;try{if(n.value=(d=(h=t.places.forecast.forecastday[0])==null?void 0:h.hour)==null?void 0:d.map(f=>f.uv-1),!n.value||n.value.length===0){console.warn("UV data is not available.");return}r.value=c(),o.value=u(),setTimeout(()=>{var p,g;i.value&&i.value.destroy();const f=s.value.getContext("2d");i.value=new Qe(f,{type:"line",data:{labels:(g=(p=t.places.forecast.forecastday[0])==null?void 0:p.hour)==null?void 0:g.map(_=>new Date(_.time).getHours().toString().padStart(2,"0")),datasets:[{label:"",data:n.value,backgroundColor:n.value.map(_=>`rgba(255, ${255-_/14*255}, 132, 0.8)`),borderColor:n.value.map(_=>`rgba(255, ${255-_/14*255}, 132, 0.8)`),borderWidth:2,borderRadius:15,borderCapStyle:"round"}]},options:{scales:{x:{max:24,ticks:{display:!0,callback:function(_,m,b){return window.innerWidth<1024?m%6===0?_.toString().padStart(2,"0"):"":_.toString().padStart(2,"0")}},grid:{display:!0,color:_=>_.tick.value%6===0?"rgba(192,192,192, 0.5)":"rgba(0,0,0,0.0)"}},y:{min:0,max:11,ticks:{stepSize:1,display:!0},grid:{display:!0,color:_=>_.tick.value===2||_.tick.value===5||_.tick.value===7||_.tick.value===10?"rgba(192,192,192, 0.8)":"rgba(0,0,0,0.058"}}},plugins:{legend:{display:!1},annotation:{annotations:{verticalLine:{type:"line",xMin:new Date(t.places.location.localtime).getHours()+new Date(t.places.location.localtime).getMinutes()*.0166,xMax:new Date(t.places.location.localtime).getHours()+new Date(t.places.location.localtime).getMinutes()*.0166,borderColor:"#c0c0c0",borderWidth:2,borderDash:[5,5]}}}}}}),i.value.options.scales.x.ticks={callback:function(_,m,b){return _%6===0?_.toString().padStart(2,"0"):""}},s.value.height=a.value},200)}catch(f){console.error("Error getting location:",f)}},c=()=>new Date().getHours(),u=()=>new Date().getMinutes();return Dn(()=>t.places.current,h=>{h&&l()}),(h,d)=>e.places.current?(I(),S("div",pz,[y("p",gz,[bt("Current UV index "+ot(e.places.location.name)+", ",1),y("strong",mz,ot(e.places.current.uv-1),1)]),y("div",yz,[y("canvas",{ref_key:"chartCanvas",ref:s,height:a.value,class:"canvas"},null,8,_z),vz]),y("p",bz,"Currently, "+ot(new Date(e.places.location.localtime).getHours())+":"+ot(new Date(e.places.location.localtime).getMinutes())+" in "+ot(e.places.location.name),1)])):J("",!0)}},xz=qt(wz,[["__scopeId","data-v-ef0fa084"]]),Ez={key:0,class:"pos"},Tz={class:"container",ref:"container"},kz={class:"city"},Iz={class:"h-l"},Sz={class:"row"},Az={key:0,src:KT},Pz={key:1,src:GT},Cz={key:2,src:YT},Rz={key:3,src:dh},Mz={key:4,src:dh},Oz={key:5,src:XT},Dz={key:6,src:QT},Lz={key:7,src:JT},Nz={key:8,src:ZT},Vz={key:9,src:t2},Fz={class:"pos-advice"},$z=["innerHTML"],Uz={__name:"Forecast-weather",props:["places"],setup(e){const t=e,n=V(null),i=V(null),s=V([]),r=(l,c)=>{const u=new Date(l).getHours(),h=new Date(c).getHours();return u===h},o=()=>{setTimeout(()=>{console.log("Scrolling to current hour"),n.value=Math.round(t.places.forecast.forecastday[0].day.maxtemp_c),i.value=Math.round(t.places.forecast.forecastday[0].day.mintemp_c);const l=document.querySelectorAll(".row p");for(const c of l)if(c.style.fontWeight==="800"){c.scrollIntoView({behavior:"smooth",block:"end",inline:"start"});break}},200)},a=()=>{s.value=[];for(let h=0;h<24;h++)s.value.push(t.places.forecast.forecastday[0].hour[h].uv-1);let l=null;for(let h=0;h<s.value.length;h++)if(s.value[h]!==0){l=h;break}const c=null,u=Math.max(...s.value);if(s.value.indexOf(u),console.log("Lowest UV value:",c),console.log("Index of lowest UV value:",l),console.log(s.value),u<3)return'<strong style="font-weight: 600">UV is not getting higher than two today.</strong> When the reading is two or lower, most people have a limited risk of sunburn. It is suggested that you wear sunglasses, use sunscreen, and take note of bright surfaces such as water and sand, which can reflect UV rays. At this low level, it takes roughly 60 minutes to burn.';if(u<6){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=3){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is moderate.</strong> At this level, there is a moderate level of risk of sunburn for most people. When the sun rays are at their strongest, you need to find some shade. Wear a hat, sunglasses, sunscreen and protective clothing. It can take roughly 30 to 45 minutes to burn at this level.`:"Moderate UV index not found."}if(u<8){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=6){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is high.</strong> A UV index of 6 or 7 will put you at high risk. You need to find shade during this period. Wear a hat, sunglasses, sunscreen and protective clothing. It can take roughly 15 to 25 minutes to burn at this level.
       Watch out,you also need protection with a moderate UV index. I then takes roughly 30 to 45 minutes to burn without protection.`:"High UV index not found."}if(u<11){let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=8){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is very high.</strong> This rating puts you at a high risk of harm from the sun. Take extra precautions for your eyes and skin because damage can occur within 15 minutes.
       Watch out, you also need protection with a moderate UV index. It then takes roughly 30 to 45 minutes to burn without protection, as well as under a high UV index where it can take 15 to 25 minutes for the skin to burn.`:"Very high UV index not found."}else{let h=null;for(let d=24;d>=0;d--)if(s.value[d]===u){h=d;break}for(let d=0;d<s.value.length;d++)if(s.value[d]>=8){l=d;break}return s.value[l],l!==null&&h!==null?`<strong style="font-weight: 600">Between ${l}:00 and ${h}:00, the UV index is extremely high.</strong> At this level, youre at serious risk for sunburn. Damage can occur within less than 10 minutes. Its best to avoid any sun exposure during this time.
       Watch out, you also need protection with a moderate UV index. It then takes roughly 30 to 45 minutes to burn without protection, as well as under a high UV index where it can take 15 to 25 minutes for the skin to burn, and similarly for a very high UV index where it can take only 15 minutes for skin damage to occur.`:"High UV index not found."}};return Dn(()=>t.places.current,l=>{l&&(o(),a())}),(l,c)=>(I(),S(Jt,null,[e.places.location?(I(),S("div",Ez,[y("div",Tz,[y("div",kz,[y("strong",null,ot(e.places.location.name),1),y("div",Iz,"H"+ot(n.value)+"/ L"+ot(i.value)+"",1)]),y("div",Sz,[(I(!0),S(Jt,null,Tc(e.places.forecast.forecastday[0].hour,u=>(I(),S("div",{key:u.time},[y("p",{ref_for:!0,ref:"hourInfo",style:at({fontWeight:r(e.places.location.localtime,u.time)?"800":"400"})},[bt(ot(r(e.places.location.localtime,u.time)?"Now":new Date(u.time).getHours().toString().padStart(2,"0"))+" ",1),u.condition.text=="Overcast "||u.condition.text=="Overcast"||u.condition.text=="Cloudy"||u.condition.text=="Cloudy "||u.condition.text=="Mist"?(I(),S("img",Az)):u.condition.text=="Sunny"?(I(),S("img",Pz)):u.condition.text=="Partly Cloudy "||u.condition.text=="Partly Cloudy"||u.condition.text=="Partly cloudy"||u.condition.text=="Partly cloudy "||u.condition.text=="Patchy rain possible"||u.condition.text=="Patchy snow possible"||u.condition.text=="Patchy sleet possible"?(I(),S("img",Cz)):u.condition.text=="Clear "?(I(),S("img",Rz)):u.condition.text=="Clear"?(I(),S("img",Mz)):u.condition.text=="Patchy freezing drizzle possible"||u.condition.text=="Blowing snow"||u.condition.text=="Blizzard"||u.condition.text=="Freezing drizzle"||u.condition.text=="Heavy freezing drizzle"||u.condition.text=="Light freezing rain"||u.condition.text=="Moderate or heavy freezing rain"||u.condition.text=="Light sleet"||u.condition.text=="Moderate or heavy sleet"||u.condition.text=="Patchy light snow"||u.condition.text=="Light snow"||u.condition.text=="Patchy moderate snow"||u.condition.text=="Moderate snow"||u.condition.text=="Patchy heavy snow"||u.condition.text=="Heavy snow"||u.condition.text=="Ice pellets"||u.condition.text=="Light sleet showers"||u.condition.text=="Moderate or heavy sleet showers"||u.condition.text=="Moderate or heavy snow showers"||u.condition.text=="Light snow showers"||u.condition.text=="Light showers of ice pellets"||u.condition.text=="Moderate or heavy showers of ice pellets"||u.condition.text=="Patchy sleet possible"?(I(),S("img",Oz)):u.condition.text=="Light drizzle"||u.condition.text=="Light drizzle"||u.condition.text=="Light rain"||u.condition.text=="Heavy rain"||u.condition.text=="Light rain shower"||u.condition.text=="Moderate or heavy rain shower"||u.condition.text=="Torrential rain shower"||u.condition.text=="Moderate rain"?(I(),S("img",Dz)):u.condition.text=="Patchy light drizzle"||u.condition.text=="Patchy rain nearby"||u.condition.text=="Patchy light rain"||u.condition.text=="Moderate rain at times"||u.condition.text=="Heavy rain at times"?(I(),S("img",Lz)):u.condition.text=="Patchy light rain with thunder"||u.condition.text=="Moderate or heavy rain with thunder"||u.condition.text=="Patchy light snow with thunder"||u.condition.text=="Moderate or heavy snow with thunder"?(I(),S("img",Nz)):u.condition.text=="Thundery outbreaks possible"?(I(),S("img",Vz)):J("",!0),bt(" "+ot(Math.round(u.temp_c))+" ",1)],4)]))),128))])],512)])):J("",!0),y("div",Fz,[e.places.location?(I(),S("div",{key:0,innerHTML:a()},null,8,$z)):J("",!0)])],64))}},Bz=qt(Uz,[["__scopeId","data-v-d28f49a8"]]),yh=e=>(We("data-v-a05ad55a"),e=e(),qe(),e),jz={key:0,style:{"z-index":"2",color:"#262626CC"},class:"pos-search-bar"},zz={class:"search-container"},Hz=yh(()=>y("span",{class:"material-symbols-outlined search-icon"}," search ",-1)),Wz={class:"current"},qz=yh(()=>y("span",{class:"material-symbols-outlined big"}," arrow_back ",-1)),Kz={key:1,class:"pos-search-bar-data"},Gz=yh(()=>y("h1",null,"Forecast today",-1)),Yz=yh(()=>y("span",{class:"material-symbols-outlined search-icon-data"}," search ",-1)),Xz={key:2,class:"pos-results"},Qz=["onClick"],Jz={key:0,class:"pos-results-data"},Zz=["onClick"],tH={__name:"Weather",setup(e){let t=Mr({});const n=Mr({query:"",timeout:null,results:null}),i=V(null),s=()=>{clearTimeout(n.timeout),n.timeout=setTimeout(async()=>{if(n.query!==""){const c=await(await fetch(`https://api.weatherapi.com/v1/search.json?key=92584693940a4436a2b150711241202&q=${n.query}`)).json();n.results=c,r()}else n.results=null},500)},r=()=>{i.value.scrollIntoView({behavior:"smooth"})},o=async l=>{const u=await(await fetch(`https://api.weatherapi.com/v1/forecast.json?key=92584693940a4436a2b150711241202&q=id:${l}&days=3&aqi=no&alerts=no`)).json();a(u),console.log(u),n.query="",n.results=null},a=l=>{t=l};return(l,c)=>{const u=Ee("RouterLink");return I(),S(Jt,null,[Z(fh),y("div",{style:{width:"100vw",height:"284px"},ref_key:"topOfPage",ref:i},null,512),Z(fz,{places:Xe(t)},null,8,["places"]),Xe(t).current?(I(),S("form",Kz,[Gz,it(y("input",{class:"search-bar-data",onInput:s,type:"text",placeholder:"Search for another place","onUpdate:modelValue":c[1]||(c[1]=h=>n.query=h)},null,544),[[Dr,n.query]]),Yz])):(I(),S("form",jz,[y("div",zz,[it(y("input",{class:"search-bar",onInput:s,type:"text",placeholder:"Search for a place","onUpdate:modelValue":c[0]||(c[0]=h=>n.query=h)},null,544),[[Dr,n.query]]),Hz]),y("div",Wz,[Z(u,{style:{color:"#676767"},to:"/home"},{default:ye(()=>[qz]),_:1})])])),n.results&&!Xe(t).current?(I(),S("div",Xz,[(I(!0),S(Jt,null,Tc(n.results,h=>(I(),S("div",{key:h.id},[y("button",{class:"search-term-results",onClick:d=>o(h.id)},ot(h.name)+", "+ot(h.region)+", "+ot(h.country),9,Qz)]))),128))])):J("",!0),y("main",null,[n.results&&Xe(t).current?(I(),S("div",Jz,[(I(!0),S(Jt,null,Tc(n.results,h=>(I(),S("div",{key:h.id},[y("button",{class:"search-term-results",onClick:d=>o(h.id)},ot(h.name)+", "+ot(h.region)+", "+ot(h.country),9,Zz)]))),128))])):J("",!0),Z(xz,{style:{"z-index":"0"},places:Xe(t)},null,8,["places"]),Z(Bz,{places:Xe(t)},null,8,["places"])]),Z(Sn)],64)}}},eH=qt(tH,[["__scopeId","data-v-a05ad55a"]]),R2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Laag_2'%20data-name='Laag%202'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2071.96%20161.94'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23FF8F1B;%20}%20.cls-1,%20.cls-2,%20.cls-3,%20.cls-4%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23FF8F1B;%20}%20.cls-3%20{%20fill:%20%23f6eee0;%20}%20.cls-4%20{%20fill:%20%23fff7e8;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-4'%20d='M71.33,8.9l-12.91,120.28c-.18,1.65-1.58,2.91-3.25,2.91H16.8c-1.67,0-3.07-1.26-3.24-2.91L.64,8.9h70.69Z'/%3e%3cpath%20class='cls-3'%20d='M71.95,3.17l-.62,5.73H.64L.02,3.17C-.16,1.48,1.17,0,2.87,0h66.23c1.71,0,3.03,1.48,2.85,3.17Z'/%3e%3cpath%20class='cls-2'%20d='M52.35,153.76v5.46c0,1.5-1.34,2.72-2.98,2.72h-26.76c-1.65,0-2.98-1.22-2.98-2.72v-5.46h32.72Z'/%3e%3crect%20class='cls-1'%20x='19.63'%20y='132.09'%20width='32.72'%20height='21.67'/%3e%3ccircle%20class='cls-1'%20cx='35.98'%20cy='60.72'%20r='15.78'/%3e%3c/svg%3e",nm=e=>(We("data-v-64ee8484"),e=e(),qe(),e),nH=nm(()=>y("div",{class:"bg"},null,-1)),iH=nm(()=>y("div",{class:"fade"},null,-1)),sH={class:"column"},rH=nm(()=>y("div",{class:"title"},[y("h1",null,[y("span",{class:"material-symbols-outlined big"}," arrow_back "),bt(" Sunscreen")])],-1)),oH=mu('<div class="container" data-v-64ee8484><div class="img" data-v-64ee8484><img src="'+R2+'" data-v-64ee8484></div><h3 data-v-64ee8484>Which sunscreen suits you best?</h3><div class="explanation" data-v-64ee8484><p data-v-64ee8484>We all love soaking up the sun, but it&#39;s important to protect our skin while doing so. Choosing the right sunscreen can make all the difference in keeping your skin safe and healthy. Besides, did you know you still get a nice tan while wearing sunscreen? Let&#39;s break down some important information to help you find the sunscreen that suits you best  .</p><br data-v-64ee8484><p data-v-64ee8484>The recommended amount of sunscreen is 2 mg/cm<sup data-v-64ee8484>2</sup>. An easy mnemonic is to use about 6-7 teaspoons of sunscreen, one for each limb.</p><br data-v-64ee8484><p data-v-64ee8484>Now, let&#39;s talk about SPF (Sun Protection Factor). A sunscreen with SPF 15, when correctly applied (defined as 2 mg/cm<sup data-v-64ee8484>2</sup> on exposed skin), protects against 93% of UVB radiation. SPF 30 protects against 97%, and SPF 50 protects against 98%.</p><br data-v-64ee8484><p data-v-64ee8484>Here&#39;s a breakdown of the appropriate SPF based on your skin type:</p><br data-v-64ee8484><table style="width:100%;" data-v-64ee8484><tr data-v-64ee8484><th style="font-weight:bold;" data-v-64ee8484>Skin Type</th><th style="font-weight:bold;" data-v-64ee8484>SPF </th><th style="font-weight:bold;" data-v-64ee8484>Gradation</th></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 1</td><td data-v-64ee8484>30-50+</td><td data-v-64ee8484>Moderate/high</td></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 2</td><td data-v-64ee8484>30-50+</td><td data-v-64ee8484>Moderate/high</td></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 3</td><td data-v-64ee8484>30+</td><td data-v-64ee8484>Moderate</td></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 4</td><td data-v-64ee8484>15-30+</td><td data-v-64ee8484>Low/moderate</td></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 5</td><td data-v-64ee8484>15-30+</td><td data-v-64ee8484>Low/moderate</td></tr><tr data-v-64ee8484><td data-v-64ee8484>Skin Type 6</td><td data-v-64ee8484>15+</td><td data-v-64ee8484>Low</td></tr></table><br data-v-64ee8484><p data-v-64ee8484>Darker skin types have more melanin, ( which could be seen as a natural SPF). Choosing a sunscreen with the right SPF for your skin type is essential for effective protection against harmful UV rays.</p><br data-v-64ee8484><p data-v-64ee8484>Remember, sunscreen is just one part of sun protection. Seek shade, wear protective clothes and avoid peak sun hours whenever possible. You should also take note of the expiring date of your sunscreen. This effects it&#39;s working. By taking these precautions, you can enjoy the sun and tan safely while keeping your skin happy and healthy for years to come   !</p></div></div>',1),aH={__name:"Sunscreen",setup(e){return(t,n)=>{const i=Ee("router-link");return I(),S("main",null,[nH,iH,y("div",sH,[Z(i,{to:"info"},{default:ye(()=>[rH]),_:1}),oH]),Z(Sn)])}}},lH=qt(aH,[["__scopeId","data-v-64ee8484"]]),M2="/assets/question-CeA36ajZ.svg",Nt=e=>(We("data-v-d923133b"),e=e(),qe(),e),cH=Nt(()=>y("div",{class:"bg"},null,-1)),uH=Nt(()=>y("div",{class:"fade"},null,-1)),hH={class:"column"},dH=Nt(()=>y("div",{class:"title"},[y("h1",null,[y("span",{class:"material-symbols-outlined big"},"arrow_back"),bt(" Facts and Fables ")])],-1)),fH={class:"container"},pH=Nt(()=>y("div",{class:"img"},[y("img",{src:M2})],-1)),gH=Nt(()=>y("h3",null,"Facts and fables about sun protection",-1)),mH={class:"explanation"},yH={class:"fact"},_H={style:{display:"flex",position:"relative"}},vH=Nt(()=>y("h4",null,"FACT  : Even when it's cloudy or when I'm in the shade, I need to protect myself",-1)),bH={key:0},wH={class:"fact"},xH={style:{display:"flex",position:"relative"}},EH=Nt(()=>y("h4",null,"FABLE  : You can't get brown with factor 50",-1)),TH={key:0},kH=Nt(()=>y("br",null,null,-1)),IH=Nt(()=>y("br",null,null,-1)),SH={class:"fact"},AH={style:{display:"flex",position:"relative"}},PH=Nt(()=>y("h4",null,"FACT  : Clothing protects against the sun",-1)),CH={key:0},RH=Nt(()=>y("br",null,null,-1)),MH=Nt(()=>y("br",null,null,-1)),OH={class:"fact"},DH={style:{display:"flex",position:"relative"}},LH=Nt(()=>y("h4",null,"FABLE  : Stay in the sun longer for more vitamin D",-1)),NH={key:0},VH=Nt(()=>y("br",null,null,-1)),FH=Nt(()=>y("br",null,null,-1)),$H=Nt(()=>y("br",null,null,-1)),UH=Nt(()=>y("br",null,null,-1)),BH={class:"fact"},jH={style:{display:"flex",position:"relative"}},zH=Nt(()=>y("h4",null,"FACT  : Cheap sunscreen is as good as expensive sunscreen",-1)),HH={key:0},WH={class:"fact"},qH={style:{display:"flex",position:"relative"}},KH=Nt(()=>y("h4",null,"FABLE  : Protection is not necessary when I'm sitting behind glass",-1)),GH={key:0},YH=Nt(()=>y("br",null,null,-1)),XH=Nt(()=>y("br",null,null,-1)),QH=Nt(()=>y("br",null,null,-1)),JH={class:"fact"},ZH={style:{display:"flex",position:"relative"}},tW=Nt(()=>y("h4",null,"FACT  : Sunscreen can expire",-1)),eW={key:0},nW=Nt(()=>y("br",null,null,-1)),iW=Nt(()=>y("br",null,null,-1)),sW=Nt(()=>y("br",null,null,-1)),rW=Nt(()=>y("br",null,null,-1)),oW=Nt(()=>y("ul",null,[y("li",null," Closed in the shade"),y("li",null,"At home at room temperature"),y("li",null,"Not in the car where there are large temperature differences and it can get hot")],-1)),aW={class:"fact"},lW={style:{display:"flex",position:"relative"}},cW=Nt(()=>y("h4",null,"FABLE  : You can't burn on a cold day",-1)),uW={key:0},hW=Nt(()=>y("br",null,null,-1)),dW=Nt(()=>y("br",null,null,-1)),fW={class:"fact"},pW={style:{display:"flex",position:"relative"}},gW=Nt(()=>y("h4",null,"FACT  : Even with a dark skin tone, you need to protect yourself ",-1)),mW={key:0},yW={class:"fact"},_W={style:{display:"flex",position:"relative"}},vW=Nt(()=>y("h4",null,"FABLE  : I only need to apply waterproof sunscreen once",-1)),bW={key:0},wW={__name:"FactsFables",setup(e){const t=V(!1),n=V(!1),i=V(!1),s=V(!1),r=V(!1),o=V(!1),a=V(!1),l=V(!1),c=V(!1),u=V(!1);return(h,d)=>{const f=Ee("router-link");return I(),S(Jt,null,[y("main",null,[cH,uH,y("div",hH,[Z(f,{to:"info"},{default:ye(()=>[dH]),_:1}),y("div",fH,[pH,gH,y("div",mH,[y("div",yH,[y("div",_H,[vH,t.value?(I(),S("span",{key:1,onClick:d[1]||(d[1]=p=>t.value=!t.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[0]||(d[0]=p=>t.value=!t.value),class:"plus material-symbols-outlined"}," add "))]),t.value?(I(),S("p",bH," This is true. Even when sitting in the shade, you can get a sunburn. ")):J("",!0)]),y("div",wH,[y("div",xH,[EH,n.value?(I(),S("span",{key:1,onClick:d[3]||(d[3]=p=>n.value=!n.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[2]||(d[2]=p=>n.value=!n.value),class:"plus material-symbols-outlined"}," add "))]),n.value?(I(),S("p",TH,[bt(" That's not correct. It's a misconception that you don't tan when you apply high SPF sunscreen. The SPF (sun protection factor) affects how long you can stay in the sun without burning."),kH,IH,bt(" It also reduces the harmful effects of UV radiation. Your skin will still tan, but it won't burn. So, you actually stay tanned for longer when you apply sunscreen properly. ")])):J("",!0)]),y("div",SH,[y("div",AH,[PH,i.value?(I(),S("span",{key:1,onClick:d[5]||(d[5]=p=>i.value=!i.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[4]||(d[4]=p=>i.value=!i.value),class:"plus material-symbols-outlined"}," add "))]),i.value?(I(),S("p",CH,[bt(" That's correct. Most clothing provides good protection. However, be aware: the lighter the clothing and the thinner the fabric, the more UV radiation it allows through. For example, a white T-shirt provides protection equivalent to SPF (Sun Protection Factor) 15. If regular clothing gets wet, it provides less protection."),RH,MH,bt(" Will you be spending a long time outdoors? Or is your skin very sensitive? Then there's special UV-protective clothing available. This protects your skin with a sun protection factor of 50, even when it gets wet. ")])):J("",!0)]),y("div",OH,[y("div",DH,[LH,s.value?(I(),S("span",{key:1,onClick:d[7]||(d[7]=p=>s.value=!s.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[6]||(d[6]=p=>s.value=!s.value),class:"plus material-symbols-outlined"}," add "))]),s.value?(I(),S("p",NH,[bt(" This is not a good idea. Your skin continues to produce vitamin D, but the longer you stay in the sun, the greater the risk of sunburn."),VH,FH,bt(" You need vitamin D. However, most people produce enough vitamin D when they spend about fifteen minutes with their hands, face, and neck exposed to the sun in spring and summer. You don't want to leave the same skin unprotected too often. That's why it's even better to expose as much skin to the sun as possible, but not for more than a few minutes!"),$H,UH,bt(" Some people don't produce enough vitamin D on their own. In that case, it may be necessary to get extra vitamin D. Consult your doctor to see if vitamin D supplements are right for you. ")])):J("",!0)]),y("div",BH,[y("div",jH,[zH,r.value?(I(),S("span",{key:1,onClick:d[9]||(d[9]=p=>r.value=!r.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[8]||(d[8]=p=>r.value=!r.value),class:"plus material-symbols-outlined"}," add "))]),r.value?(I(),S("p",HH," That's true. Regardless of the price of your sunscreen, they all provide the same level of protection. The difference lies in the extras offered by the product, such as scent, packaging, or spreadability. However, cheaper options offer the same level of protection as more expensive ones. SPF (Sun Protection Factor) has the same meaning worldwide. ")):J("",!0)]),y("div",WH,[y("div",qH,[KH,o.value?(I(),S("span",{key:1,onClick:d[11]||(d[11]=p=>o.value=!o.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[10]||(d[10]=p=>o.value=!o.value),class:"plus material-symbols-outlined"}," add "))]),o.value?(I(),S("p",GH,[bt(" This is false. There are two types of UV radiation: UVA and UVB. "),YH,XH,bt(" UVB damages your skin straight away; your skin gets red and burns. This increases the probability of skin cancer. UVB radiation does not penetrate glass. "),QH,bt(" UVA radiation does penetrate glass. It deeply penetrates your skin, causing damage. Your skin ages prematurely, and this type of radiation can also increase the risk of skin cancer. So, even when sitting behind glass, protection is important. ")])):J("",!0)]),y("div",JH,[y("div",ZH,[tW,a.value?(I(),S("span",{key:1,onClick:d[13]||(d[13]=p=>a.value=!a.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[12]||(d[12]=p=>a.value=!a.value),class:"plus material-symbols-outlined"}," add "))]),a.value?(I(),S("p",eW,[bt(" That's true. You can't store sunscreen indefinitely. After opening, you can use it for up to 12 months. After the package has been opened or exposed to excessive heat, the sun protection factor may decrease. The cream then provides less effective protection for your skin. Therefore, do not store sunscreen for too long and avoid leaving it in direct sunlight or a hot car. "),nW,iW,bt(" How should I store sunscreen properly? "),sW,rW,oW])):J("",!0)]),y("div",aW,[y("div",lW,[cW,l.value?(I(),S("span",{key:1,onClick:d[15]||(d[15]=p=>l.value=!l.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[14]||(d[14]=p=>l.value=!l.value),class:"plus material-symbols-outlined"}," add "))]),l.value?(I(),S("p",uW,[bt(" This is not true. The skin burns due to the solar intensity: the amount of UV rays reaching the Earth. Solar intensity is not dependent on the temperature outside. So even on a cold summer day, the solar intensity can be strong."),hW,dW,bt(" During winter sports, UV radiation can even become stronger due to the reflection of sunlight via snow and ice. ")])):J("",!0)]),y("div",fW,[y("div",pW,[gW,c.value?(I(),S("span",{key:1,onClick:d[17]||(d[17]=p=>c.value=!c.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[16]||(d[16]=p=>c.value=!c.value),class:"plus material-symbols-outlined"}," add "))]),c.value?(I(),S("p",mW," That is true. Your skin burns less quickly, but you can still get a sunburn. ")):J("",!0)]),y("div",yW,[y("div",_W,[vW,u.value?(I(),S("span",{key:1,onClick:d[19]||(d[19]=p=>u.value=!u.value),class:"minus material-symbols-outlined"}," remove ")):(I(),S("span",{key:0,onClick:d[18]||(d[18]=p=>u.value=!u.value),class:"plus material-symbols-outlined"}," add "))]),u.value?(I(),S("p",bW," This is not true. Waterproof or water-resistant means that the sunscreen stays on your skin better while swimming. However, this does not mean that the cream stays on all day. If you have been swimming, sweating a lot, or dried yourself off, make sure to reapply waterproof sunscreen. ")):J("",!0)])])])])]),Z(Sn)],64)}}},xW=qt(wW,[["__scopeId","data-v-d923133b"]]),ml=e=>(We("data-v-36f14a45"),e=e(),qe(),e),EW={class:"column"},TW=ml(()=>y("div",{class:"title"},[y("h1",null,"Information")],-1)),kW={class:"container"},IW={class:"col"},SW=ml(()=>y("div",{class:"item danger"},[y("p",null,"Tanning dangers"),y("div",{class:"danger-img"},[y("img",{src:P2})])],-1)),AW=ml(()=>y("div",{class:"item sunscreen"},[y("p",null,"Your sunscreen"),y("div",{class:"sunscreen-img"},[y("img",{src:R2})])],-1)),PW={class:"col"},CW={class:"item skin-type"},RW=ml(()=>y("p",null,"Your skin type",-1)),MW={class:"face"},OW=ml(()=>y("div",{class:"item facts-fables"},[y("p",null,"Facts and Fables"),y("div",{class:"facts-fables-img"},[y("img",{src:M2})])],-1)),DW={__name:"Info",props:["user"],setup(e){return(t,n)=>{const i=Ee("RouterLink");return I(),S("main",null,[y("div",EW,[TW,y("div",kW,[y("div",IW,[Z(i,{to:"/tanning-dangers-info"},{default:ye(()=>[SW]),_:1}),Z(i,{to:"/sunscreen-info"},{default:ye(()=>[AW]),_:1})]),y("div",PW,[e.user?(I(),np(i,{key:0,to:"/skintype-information"},{default:ye(()=>[y("div",CW,[RW,y("div",MW,[Z(i2)])])]),_:1})):J("",!0),Z(i,{to:"/facts-and-fables-info"},{default:ye(()=>[OW]),_:1})])])]),Z(Sn)])}}},LW=qt(DW,[["__scopeId","data-v-36f14a45"]]),_h=x3({history:ZL("/"),routes:[{path:"/login",name:"login",component:TN},{path:"/sunscreen-info",name:"sunscreen-info",component:lH},{path:"/facts-and-fables-info",name:"facts-and-fables-info",component:xW},{path:"/tanning-dangers-info",name:"tanning-dangers-info",component:A7},{path:"/skintype-information",name:"skintype-information",component:QB},{path:"/info",name:"info",component:LW},{path:"/home",name:"home",component:bU},{path:"/register",name:"register",component:MN},{path:"/skintype",name:"skintype",component:MB},{path:"/timer",name:"timer",component:w7},{path:"/weather",name:"weather",component:eH},{path:"/about",name:"about",component:()=>xL(()=>import("./AboutView-Bs6DHBm_.js"),[])}]});_h.beforeEach((e,t,n)=>{const i=e.matched.some(r=>r.meta.requiresAuth),s=ze().currentUser;i&&!s?n("/login"):n()});var NW="firebase",VW="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(NW,VW,"app");const FW={apiKey:"AIzaSyCqDktmD0ywFD9eFPx4TPb-ZxfHBV8xJFo",authDomain:"uv-app-c5236.firebaseapp.com",projectId:"uv-app-c5236",storageBucket:"uv-app-c5236.appspot.com",messagingSenderId:"323770418429",appId:"1:323770418429:web:d65b68126a9ee1e4466a94"},O2=dw(FW),$W={class:"icon"},UW={class:"material-symbols-outlined"},BW={class:"icon"},jW={class:"material-symbols-outlined"},zW={class:"icon"},HW={class:"material-symbols-outlined"},WW=y("div",{class:"use-smaller-screen"},"Use smaller screen!",-1),qW={__name:"App",setup(e){const t=V(0),n=V(null),i=V(null),s=ze();gn(async()=>{const l=document.querySelector("nav");l&&(t.value=l.offsetHeight),Oi(s,async d=>{i.value=d,n.value=d==null?void 0:d.uid}),await i.value,r();const u=new Date().getDate(),h=localStorage.getItem("startDay");(!h||u>h)&&localStorage.setItem("startDay",u)});const r=()=>{if(console.log("werkt"),i.value){const l=localStorage.getItem("startDay");if(console.log("werkt ook"),l){const c=parseInt(l);if(new Date().getDate()==c+1||!l){let h=parseInt(localStorage.getItem("streak"))||0;h++,localStorage.setItem("streak",h)}}else console.log("werkt ook ook"),localStorage.setItem("streak",0)}},o=V({}),a=()=>new Promise((l,c)=>{navigator.geolocation.getCurrentPosition(l,c,{enableHighAccuracy:!0,timeout:3e5,maximumAge:0})});return gn(async()=>{try{const l=await a(),{latitude:c,longitude:u}=l.coords,h=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=92584693940a4436a2b150711241202&q=${c},${u}&days=3&aqi=no&alerts=no`);o.value=await h.json(),console.log(o.location)}catch(l){console.error("Error getting location:",l)}}),(l,c)=>{const u=Ee("RouterLink");return I(),S(Jt,null,[y("section",{style:at({height:`calc(100vh - ${t.value}px)`})},[Z(Xe(vE),{user:i.value,currentPlace:o.value},null,8,["user","currentPlace"])],4),y("nav",null,[y("div",$W,[y("span",UW,[Z(u,{class:Q({active:l.$route.path.includes("weather")||l.$route.path.includes("register")||l.$route.path.includes("login")}),to:"/home"},{default:ye(()=>[bt("sunny")]),_:1},8,["class"])])]),y("div",BW,[y("span",jW,[Z(u,{class:Q({active:l.$route.path.includes("info")}),to:"/info"},{default:ye(()=>[bt("info")]),_:1},8,["class"])])]),y("div",zW,[y("span",HW,[Z(u,{to:"/timer"},{default:ye(()=>[bt("timer")]),_:1})])])]),WW],64)}}},D2=tS(qW);D2.config.globalProperties.$axios=pe;const KW=ze(O2),ps=nL(O2);let Rv=!1;KW.onAuthStateChanged(e=>{Rv||(D2.use(_h).mount("#app"),Rv=!0)});export{qt as _,y as a,tq as b,S as c,ZW as g,I as o,V as r};
